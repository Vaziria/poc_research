(self.webpackChunkwebchat = self.webpackChunkwebchat || []).push([[8592], {
    13008: function(e, t, r) {
        var n;
        n = (e,t,r,n,a,o,c,s,i,u,p,d,l,f,_,E,S,h,O,v,g,T,m,b,y,R,C,I)=>(()=>{
            var A = {
                757: (e,t,r)=>{
                    e.exports = r(666)
                }
                ,
                439: (e,t,r)=>{
                    "use strict";
                    r.d(t, {
                        t: ()=>o
                    });
                    var n = r(661)
                      , a = r.n(n)
                      , o = a().t.bind(a())
                }
                ,
                187: e=>{
                    "use strict";
                    var t, r = "object" == typeof Reflect ? Reflect : null, n = r && "function" == typeof r.apply ? r.apply : function(e, t, r) {
                        return Function.prototype.apply.call(e, t, r)
                    }
                    ;
                    t = r && "function" == typeof r.ownKeys ? r.ownKeys : Object.getOwnPropertySymbols ? function(e) {
                        return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))
                    }
                    : function(e) {
                        return Object.getOwnPropertyNames(e)
                    }
                    ;
                    var a = Number.isNaN || function(e) {
                        return e != e
                    }
                    ;
                    function o() {
                        o.init.call(this)
                    }
                    e.exports = o,
                    e.exports.once = function(e, t) {
                        return new Promise((function(r, n) {
                            function a(r) {
                                e.removeListener(t, o),
                                n(r)
                            }
                            function o() {
                                "function" == typeof e.removeListener && e.removeListener("error", a),
                                r([].slice.call(arguments))
                            }
                            E(e, t, o, {
                                once: !0
                            }),
                            "error" !== t && function(e, t, r) {
                                "function" == typeof e.on && E(e, "error", t, {
                                    once: !0
                                })
                            }(e, a)
                        }
                        ))
                    }
                    ,
                    o.EventEmitter = o,
                    o.prototype._events = void 0,
                    o.prototype._eventsCount = 0,
                    o.prototype._maxListeners = void 0;
                    var c = 10;
                    function s(e) {
                        if ("function" != typeof e)
                            throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e)
                    }
                    function i(e) {
                        return void 0 === e._maxListeners ? o.defaultMaxListeners : e._maxListeners
                    }
                    function u(e, t, r, n) {
                        var a, o, c, u;
                        if (s(r),
                        void 0 === (o = e._events) ? (o = e._events = Object.create(null),
                        e._eventsCount = 0) : (void 0 !== o.newListener && (e.emit("newListener", t, r.listener ? r.listener : r),
                        o = e._events),
                        c = o[t]),
                        void 0 === c)
                            c = o[t] = r,
                            ++e._eventsCount;
                        else if ("function" == typeof c ? c = o[t] = n ? [r, c] : [c, r] : n ? c.unshift(r) : c.push(r),
                        (a = i(e)) > 0 && c.length > a && !c.warned) {
                            c.warned = !0;
                            var p = new Error("Possible EventEmitter memory leak detected. " + c.length + " " + String(t) + " listeners added. Use emitter.setMaxListeners() to increase limit");
                            p.name = "MaxListenersExceededWarning",
                            p.emitter = e,
                            p.type = t,
                            p.count = c.length,
                            u = p,
                            console && console.warn && console.warn(u)
                        }
                        return e
                    }
                    function p() {
                        if (!this.fired)
                            return this.target.removeListener(this.type, this.wrapFn),
                            this.fired = !0,
                            0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments)
                    }
                    function d(e, t, r) {
                        var n = {
                            fired: !1,
                            wrapFn: void 0,
                            target: e,
                            type: t,
                            listener: r
                        }
                          , a = p.bind(n);
                        return a.listener = r,
                        n.wrapFn = a,
                        a
                    }
                    function l(e, t, r) {
                        var n = e._events;
                        if (void 0 === n)
                            return [];
                        var a = n[t];
                        return void 0 === a ? [] : "function" == typeof a ? r ? [a.listener || a] : [a] : r ? function(e) {
                            for (var t = new Array(e.length), r = 0; r < t.length; ++r)
                                t[r] = e[r].listener || e[r];
                            return t
                        }(a) : _(a, a.length)
                    }
                    function f(e) {
                        var t = this._events;
                        if (void 0 !== t) {
                            var r = t[e];
                            if ("function" == typeof r)
                                return 1;
                            if (void 0 !== r)
                                return r.length
                        }
                        return 0
                    }
                    function _(e, t) {
                        for (var r = new Array(t), n = 0; n < t; ++n)
                            r[n] = e[n];
                        return r
                    }
                    function E(e, t, r, n) {
                        if ("function" == typeof e.on)
                            n.once ? e.once(t, r) : e.on(t, r);
                        else {
                            if ("function" != typeof e.addEventListener)
                                throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof e);
                            e.addEventListener(t, (function a(o) {
                                n.once && e.removeEventListener(t, a),
                                r(o)
                            }
                            ))
                        }
                    }
                    Object.defineProperty(o, "defaultMaxListeners", {
                        enumerable: !0,
                        get: function() {
                            return c
                        },
                        set: function(e) {
                            if ("number" != typeof e || e < 0 || a(e))
                                throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e + ".");
                            c = e
                        }
                    }),
                    o.init = function() {
                        void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = Object.create(null),
                        this._eventsCount = 0),
                        this._maxListeners = this._maxListeners || void 0
                    }
                    ,
                    o.prototype.setMaxListeners = function(e) {
                        if ("number" != typeof e || e < 0 || a(e))
                            throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e + ".");
                        return this._maxListeners = e,
                        this
                    }
                    ,
                    o.prototype.getMaxListeners = function() {
                        return i(this)
                    }
                    ,
                    o.prototype.emit = function(e) {
                        for (var t = [], r = 1; r < arguments.length; r++)
                            t.push(arguments[r]);
                        var a = "error" === e
                          , o = this._events;
                        if (void 0 !== o)
                            a = a && void 0 === o.error;
                        else if (!a)
                            return !1;
                        if (a) {
                            var c;
                            if (t.length > 0 && (c = t[0]),
                            c instanceof Error)
                                throw c;
                            var s = new Error("Unhandled error." + (c ? " (" + c.message + ")" : ""));
                            throw s.context = c,
                            s
                        }
                        var i = o[e];
                        if (void 0 === i)
                            return !1;
                        if ("function" == typeof i)
                            n(i, this, t);
                        else {
                            var u = i.length
                              , p = _(i, u);
                            for (r = 0; r < u; ++r)
                                n(p[r], this, t)
                        }
                        return !0
                    }
                    ,
                    o.prototype.addListener = function(e, t) {
                        return u(this, e, t, !1)
                    }
                    ,
                    o.prototype.on = o.prototype.addListener,
                    o.prototype.prependListener = function(e, t) {
                        return u(this, e, t, !0)
                    }
                    ,
                    o.prototype.once = function(e, t) {
                        return s(t),
                        this.on(e, d(this, e, t)),
                        this
                    }
                    ,
                    o.prototype.prependOnceListener = function(e, t) {
                        return s(t),
                        this.prependListener(e, d(this, e, t)),
                        this
                    }
                    ,
                    o.prototype.removeListener = function(e, t) {
                        var r, n, a, o, c;
                        if (s(t),
                        void 0 === (n = this._events))
                            return this;
                        if (void 0 === (r = n[e]))
                            return this;
                        if (r === t || r.listener === t)
                            0 == --this._eventsCount ? this._events = Object.create(null) : (delete n[e],
                            n.removeListener && this.emit("removeListener", e, r.listener || t));
                        else if ("function" != typeof r) {
                            for (a = -1,
                            o = r.length - 1; o >= 0; o--)
                                if (r[o] === t || r[o].listener === t) {
                                    c = r[o].listener,
                                    a = o;
                                    break
                                }
                            if (a < 0)
                                return this;
                            0 === a ? r.shift() : function(e, t) {
                                for (; t + 1 < e.length; t++)
                                    e[t] = e[t + 1];
                                e.pop()
                            }(r, a),
                            1 === r.length && (n[e] = r[0]),
                            void 0 !== n.removeListener && this.emit("removeListener", e, c || t)
                        }
                        return this
                    }
                    ,
                    o.prototype.off = o.prototype.removeListener,
                    o.prototype.removeAllListeners = function(e) {
                        var t, r, n;
                        if (void 0 === (r = this._events))
                            return this;
                        if (void 0 === r.removeListener)
                            return 0 === arguments.length ? (this._events = Object.create(null),
                            this._eventsCount = 0) : void 0 !== r[e] && (0 == --this._eventsCount ? this._events = Object.create(null) : delete r[e]),
                            this;
                        if (0 === arguments.length) {
                            var a, o = Object.keys(r);
                            for (n = 0; n < o.length; ++n)
                                "removeListener" !== (a = o[n]) && this.removeAllListeners(a);
                            return this.removeAllListeners("removeListener"),
                            this._events = Object.create(null),
                            this._eventsCount = 0,
                            this
                        }
                        if ("function" == typeof (t = r[e]))
                            this.removeListener(e, t);
                        else if (void 0 !== t)
                            for (n = t.length - 1; n >= 0; n--)
                                this.removeListener(e, t[n]);
                        return this
                    }
                    ,
                    o.prototype.listeners = function(e) {
                        return l(this, e, !0)
                    }
                    ,
                    o.prototype.rawListeners = function(e) {
                        return l(this, e, !1)
                    }
                    ,
                    o.listenerCount = function(e, t) {
                        return "function" == typeof e.listenerCount ? e.listenerCount(t) : f.call(e, t)
                    }
                    ,
                    o.prototype.listenerCount = f,
                    o.prototype.eventNames = function() {
                        return this._eventsCount > 0 ? t(this._events) : []
                    }
                }
                ,
                666: e=>{
                    var t = function(e) {
                        "use strict";
                        var t, r = Object.prototype, n = r.hasOwnProperty, a = "function" == typeof Symbol ? Symbol : {}, o = a.iterator || "@@iterator", c = a.asyncIterator || "@@asyncIterator", s = a.toStringTag || "@@toStringTag";
                        function i(e, t, r) {
                            return Object.defineProperty(e, t, {
                                value: r,
                                enumerable: !0,
                                configurable: !0,
                                writable: !0
                            }),
                            e[t]
                        }
                        try {
                            i({}, "")
                        } catch (e) {
                            i = function(e, t, r) {
                                return e[t] = r
                            }
                        }
                        function u(e, t, r, n) {
                            var a = t && t.prototype instanceof S ? t : S
                              , o = Object.create(a.prototype)
                              , c = new A(n || []);
                            return o._invoke = function(e, t, r) {
                                var n = d;
                                return function(a, o) {
                                    if (n === f)
                                        throw new Error("Generator is already running");
                                    if (n === _) {
                                        if ("throw" === a)
                                            throw o;
                                        return P()
                                    }
                                    for (r.method = a,
                                    r.arg = o; ; ) {
                                        var c = r.delegate;
                                        if (c) {
                                            var s = R(c, r);
                                            if (s) {
                                                if (s === E)
                                                    continue;
                                                return s
                                            }
                                        }
                                        if ("next" === r.method)
                                            r.sent = r._sent = r.arg;
                                        else if ("throw" === r.method) {
                                            if (n === d)
                                                throw n = _,
                                                r.arg;
                                            r.dispatchException(r.arg)
                                        } else
                                            "return" === r.method && r.abrupt("return", r.arg);
                                        n = f;
                                        var i = p(e, t, r);
                                        if ("normal" === i.type) {
                                            if (n = r.done ? _ : l,
                                            i.arg === E)
                                                continue;
                                            return {
                                                value: i.arg,
                                                done: r.done
                                            }
                                        }
                                        "throw" === i.type && (n = _,
                                        r.method = "throw",
                                        r.arg = i.arg)
                                    }
                                }
                            }(e, r, c),
                            o
                        }
                        function p(e, t, r) {
                            try {
                                return {
                                    type: "normal",
                                    arg: e.call(t, r)
                                }
                            } catch (e) {
                                return {
                                    type: "throw",
                                    arg: e
                                }
                            }
                        }
                        e.wrap = u;
                        var d = "suspendedStart"
                          , l = "suspendedYield"
                          , f = "executing"
                          , _ = "completed"
                          , E = {};
                        function S() {}
                        function h() {}
                        function O() {}
                        var v = {};
                        v[o] = function() {
                            return this
                        }
                        ;
                        var g = Object.getPrototypeOf
                          , T = g && g(g(D([])));
                        T && T !== r && n.call(T, o) && (v = T);
                        var m = O.prototype = S.prototype = Object.create(v);
                        function b(e) {
                            ["next", "throw", "return"].forEach((function(t) {
                                i(e, t, (function(e) {
                                    return this._invoke(t, e)
                                }
                                ))
                            }
                            ))
                        }
                        function y(e, t) {
                            function r(a, o, c, s) {
                                var i = p(e[a], e, o);
                                if ("throw" !== i.type) {
                                    var u = i.arg
                                      , d = u.value;
                                    return d && "object" == typeof d && n.call(d, "__await") ? t.resolve(d.__await).then((function(e) {
                                        r("next", e, c, s)
                                    }
                                    ), (function(e) {
                                        r("throw", e, c, s)
                                    }
                                    )) : t.resolve(d).then((function(e) {
                                        u.value = e,
                                        c(u)
                                    }
                                    ), (function(e) {
                                        return r("throw", e, c, s)
                                    }
                                    ))
                                }
                                s(i.arg)
                            }
                            var a;
                            this._invoke = function(e, n) {
                                function o() {
                                    return new t((function(t, a) {
                                        r(e, n, t, a)
                                    }
                                    ))
                                }
                                return a = a ? a.then(o, o) : o()
                            }
                        }
                        function R(e, r) {
                            var n = e.iterator[r.method];
                            if (n === t) {
                                if (r.delegate = null,
                                "throw" === r.method) {
                                    if (e.iterator.return && (r.method = "return",
                                    r.arg = t,
                                    R(e, r),
                                    "throw" === r.method))
                                        return E;
                                    r.method = "throw",
                                    r.arg = new TypeError("The iterator does not provide a 'throw' method")
                                }
                                return E
                            }
                            var a = p(n, e.iterator, r.arg);
                            if ("throw" === a.type)
                                return r.method = "throw",
                                r.arg = a.arg,
                                r.delegate = null,
                                E;
                            var o = a.arg;
                            return o ? o.done ? (r[e.resultName] = o.value,
                            r.next = e.nextLoc,
                            "return" !== r.method && (r.method = "next",
                            r.arg = t),
                            r.delegate = null,
                            E) : o : (r.method = "throw",
                            r.arg = new TypeError("iterator result is not an object"),
                            r.delegate = null,
                            E)
                        }
                        function C(e) {
                            var t = {
                                tryLoc: e[0]
                            };
                            1 in e && (t.catchLoc = e[1]),
                            2 in e && (t.finallyLoc = e[2],
                            t.afterLoc = e[3]),
                            this.tryEntries.push(t)
                        }
                        function I(e) {
                            var t = e.completion || {};
                            t.type = "normal",
                            delete t.arg,
                            e.completion = t
                        }
                        function A(e) {
                            this.tryEntries = [{
                                tryLoc: "root"
                            }],
                            e.forEach(C, this),
                            this.reset(!0)
                        }
                        function D(e) {
                            if (e) {
                                var r = e[o];
                                if (r)
                                    return r.call(e);
                                if ("function" == typeof e.next)
                                    return e;
                                if (!isNaN(e.length)) {
                                    var a = -1
                                      , c = function r() {
                                        for (; ++a < e.length; )
                                            if (n.call(e, a))
                                                return r.value = e[a],
                                                r.done = !1,
                                                r;
                                        return r.value = t,
                                        r.done = !0,
                                        r
                                    };
                                    return c.next = c
                                }
                            }
                            return {
                                next: P
                            }
                        }
                        function P() {
                            return {
                                value: t,
                                done: !0
                            }
                        }
                        return h.prototype = m.constructor = O,
                        O.constructor = h,
                        h.displayName = i(O, s, "GeneratorFunction"),
                        e.isGeneratorFunction = function(e) {
                            var t = "function" == typeof e && e.constructor;
                            return !!t && (t === h || "GeneratorFunction" === (t.displayName || t.name))
                        }
                        ,
                        e.mark = function(e) {
                            return Object.setPrototypeOf ? Object.setPrototypeOf(e, O) : (e.__proto__ = O,
                            i(e, s, "GeneratorFunction")),
                            e.prototype = Object.create(m),
                            e
                        }
                        ,
                        e.awrap = function(e) {
                            return {
                                __await: e
                            }
                        }
                        ,
                        b(y.prototype),
                        y.prototype[c] = function() {
                            return this
                        }
                        ,
                        e.AsyncIterator = y,
                        e.async = function(t, r, n, a, o) {
                            void 0 === o && (o = Promise);
                            var c = new y(u(t, r, n, a),o);
                            return e.isGeneratorFunction(r) ? c : c.next().then((function(e) {
                                return e.done ? e.value : c.next()
                            }
                            ))
                        }
                        ,
                        b(m),
                        i(m, s, "Generator"),
                        m[o] = function() {
                            return this
                        }
                        ,
                        m.toString = function() {
                            return "[object Generator]"
                        }
                        ,
                        e.keys = function(e) {
                            var t = [];
                            for (var r in e)
                                t.push(r);
                            return t.reverse(),
                            function r() {
                                for (; t.length; ) {
                                    var n = t.pop();
                                    if (n in e)
                                        return r.value = n,
                                        r.done = !1,
                                        r
                                }
                                return r.done = !0,
                                r
                            }
                        }
                        ,
                        e.values = D,
                        A.prototype = {
                            constructor: A,
                            reset: function(e) {
                                if (this.prev = 0,
                                this.next = 0,
                                this.sent = this._sent = t,
                                this.done = !1,
                                this.delegate = null,
                                this.method = "next",
                                this.arg = t,
                                this.tryEntries.forEach(I),
                                !e)
                                    for (var r in this)
                                        "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t)
                            },
                            stop: function() {
                                this.done = !0;
                                var e = this.tryEntries[0].completion;
                                if ("throw" === e.type)
                                    throw e.arg;
                                return this.rval
                            },
                            dispatchException: function(e) {
                                if (this.done)
                                    throw e;
                                var r = this;
                                function a(n, a) {
                                    return s.type = "throw",
                                    s.arg = e,
                                    r.next = n,
                                    a && (r.method = "next",
                                    r.arg = t),
                                    !!a
                                }
                                for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                                    var c = this.tryEntries[o]
                                      , s = c.completion;
                                    if ("root" === c.tryLoc)
                                        return a("end");
                                    if (c.tryLoc <= this.prev) {
                                        var i = n.call(c, "catchLoc")
                                          , u = n.call(c, "finallyLoc");
                                        if (i && u) {
                                            if (this.prev < c.catchLoc)
                                                return a(c.catchLoc, !0);
                                            if (this.prev < c.finallyLoc)
                                                return a(c.finallyLoc)
                                        } else if (i) {
                                            if (this.prev < c.catchLoc)
                                                return a(c.catchLoc, !0)
                                        } else {
                                            if (!u)
                                                throw new Error("try statement without catch or finally");
                                            if (this.prev < c.finallyLoc)
                                                return a(c.finallyLoc)
                                        }
                                    }
                                }
                            },
                            abrupt: function(e, t) {
                                for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                                    var a = this.tryEntries[r];
                                    if (a.tryLoc <= this.prev && n.call(a, "finallyLoc") && this.prev < a.finallyLoc) {
                                        var o = a;
                                        break
                                    }
                                }
                                o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);
                                var c = o ? o.completion : {};
                                return c.type = e,
                                c.arg = t,
                                o ? (this.method = "next",
                                this.next = o.finallyLoc,
                                E) : this.complete(c)
                            },
                            complete: function(e, t) {
                                if ("throw" === e.type)
                                    throw e.arg;
                                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,
                                this.method = "return",
                                this.next = "end") : "normal" === e.type && t && (this.next = t),
                                E
                            },
                            finish: function(e) {
                                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                    var r = this.tryEntries[t];
                                    if (r.finallyLoc === e)
                                        return this.complete(r.completion, r.afterLoc),
                                        I(r),
                                        E
                                }
                            },
                            catch: function(e) {
                                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                    var r = this.tryEntries[t];
                                    if (r.tryLoc === e) {
                                        var n = r.completion;
                                        if ("throw" === n.type) {
                                            var a = n.arg;
                                            I(r)
                                        }
                                        return a
                                    }
                                }
                                throw new Error("illegal catch attempt")
                            },
                            delegateYield: function(e, r, n) {
                                return this.delegate = {
                                    iterator: D(e),
                                    resultName: r,
                                    nextLoc: n
                                },
                                "next" === this.method && (this.arg = t),
                                E
                            }
                        },
                        e
                    }(e.exports);
                    try {
                        regeneratorRuntime = t
                    } catch (e) {
                        Function("r", "regeneratorRuntime = r")(t)
                    }
                }
                ,
                327: e=>{
                    for (var t = [], r = 0; r < 256; ++r)
                        t[r] = (r + 256).toString(16).substr(1);
                    e.exports = function(e, r) {
                        var n = r || 0
                          , a = t;
                        return [a[e[n++]], a[e[n++]], a[e[n++]], a[e[n++]], "-", a[e[n++]], a[e[n++]], "-", a[e[n++]], a[e[n++]], "-", a[e[n++]], a[e[n++]], "-", a[e[n++]], a[e[n++]], a[e[n++]], a[e[n++]], a[e[n++]], a[e[n++]]].join("")
                    }
                }
                ,
                217: e=>{
                    var t = "undefined" != typeof crypto && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || "undefined" != typeof msCrypto && "function" == typeof window.msCrypto.getRandomValues && msCrypto.getRandomValues.bind(msCrypto);
                    if (t) {
                        var r = new Uint8Array(16);
                        e.exports = function() {
                            return t(r),
                            r
                        }
                    } else {
                        var n = new Array(16);
                        e.exports = function() {
                            for (var e, t = 0; t < 16; t++)
                                0 == (3 & t) && (e = 4294967296 * Math.random()),
                                n[t] = e >>> ((3 & t) << 3) & 255;
                            return n
                        }
                    }
                }
                ,
                171: (e,t,r)=>{
                    var n = r(217)
                      , a = r(327);
                    e.exports = function(e, t, r) {
                        var o = t && r || 0;
                        "string" == typeof e && (t = "binary" === e ? new Array(16) : null,
                        e = null);
                        var c = (e = e || {}).random || (e.rng || n)();
                        if (c[6] = 15 & c[6] | 64,
                        c[8] = 63 & c[8] | 128,
                        t)
                            for (var s = 0; s < 16; ++s)
                                t[o + s] = c[s];
                        return t || a(c)
                    }
                }
                ,
                782: e=>{
                    "use strict";
                    e.exports = f
                }
                ,
                830: e=>{
                    "use strict";
                    e.exports = _
                }
                ,
                644: e=>{
                    "use strict";
                    e.exports = S
                }
                ,
                844: e=>{
                    "use strict";
                    e.exports = h
                }
                ,
                292: e=>{
                    "use strict";
                    e.exports = E
                }
                ,
                423: e=>{
                    "use strict";
                    e.exports = o
                }
                ,
                209: e=>{
                    "use strict";
                    e.exports = b
                }
                ,
                411: e=>{
                    "use strict";
                    e.exports = y
                }
                ,
                123: e=>{
                    "use strict";
                    e.exports = I
                }
                ,
                770: e=>{
                    "use strict";
                    e.exports = C
                }
                ,
                914: e=>{
                    "use strict";
                    e.exports = R
                }
                ,
                674: e=>{
                    "use strict";
                    e.exports = a
                }
                ,
                378: e=>{
                    "use strict";
                    e.exports = i
                }
                ,
                464: e=>{
                    "use strict";
                    e.exports = u
                }
                ,
                428: e=>{
                    "use strict";
                    e.exports = c
                }
                ,
                661: e=>{
                    "use strict";
                    e.exports = l
                }
                ,
                444: e=>{
                    "use strict";
                    e.exports = s
                }
                ,
                598: e=>{
                    "use strict";
                    e.exports = n
                }
                ,
                550: e=>{
                    "use strict";
                    e.exports = g
                }
                ,
                383: t=>{
                    "use strict";
                    t.exports = e
                }
                ,
                252: e=>{
                    "use strict";
                    e.exports = p
                }
                ,
                655: e=>{
                    "use strict";
                    e.exports = m
                }
                ,
                944: e=>{
                    "use strict";
                    e.exports = v
                }
                ,
                975: e=>{
                    "use strict";
                    e.exports = d
                }
                ,
                947: e=>{
                    "use strict";
                    e.exports = T
                }
                ,
                855: e=>{
                    "use strict";
                    e.exports = t
                }
                ,
                672: e=>{
                    "use strict";
                    e.exports = r
                }
                ,
                455: e=>{
                    "use strict";
                    e.exports = O
                }
            }
              , D = {};
            function P(e) {
                var t = D[e];
                if (void 0 !== t)
                    return t.exports;
                var r = D[e] = {
                    exports: {}
                };
                return A[e](r, r.exports, P),
                r.exports
            }
            P.n = e=>{
                var t = e && e.__esModule ? ()=>e.default : ()=>e;
                return P.d(t, {
                    a: t
                }),
                t
            }
            ,
            P.d = (e,t)=>{
                for (var r in t)
                    P.o(t, r) && !P.o(e, r) && Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: t[r]
                    })
            }
            ,
            P.o = (e,t)=>Object.prototype.hasOwnProperty.call(e, t),
            P.r = e=>{
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ;
            var w = {};
            return (()=>{
                "use strict";
                function e(e, t, r) {
                    return t in e ? Object.defineProperty(e, t, {
                        value: r,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = r,
                    e
                }
                P.r(w),
                P.d(w, {
                    $tracker: ()=>zP,
                    BadRequest: ()=>$e,
                    Blacklist: ()=>ct,
                    CancelOrderWarning: ()=>dt,
                    ChatbotProvider: ()=>KR,
                    CustomError: ()=>ot,
                    EventBus: ()=>KD,
                    ExceptionName: ()=>It,
                    FileReaderError: ()=>ft,
                    Forbidden: ()=>nt,
                    HTTPError: ()=>St,
                    InternalServerError: ()=>rt,
                    Limiting: ()=>ut,
                    LiveReportPoint: ()=>Ot,
                    LiveSecretKey: ()=>gt,
                    MarkName: ()=>Rt,
                    NoLiveKeyMap: ()=>bt,
                    NoLiveReportPoint: ()=>vt,
                    NoLiveSecretKey: ()=>Tt,
                    NotFound: ()=>et,
                    ReportComponent: ()=>Ct,
                    ReportPoint: ()=>Xt,
                    TemporyError: ()=>Et,
                    Unauthoried: ()=>Ze,
                    UnprocessableEntity: ()=>tt,
                    UntrustedNetwork: ()=>pt,
                    UnverifiedPhoneNumber: ()=>lt,
                    Webview: ()=>it,
                    activeTabSelector: ()=>n_,
                    addAgentMediaFile: ()=>VS,
                    addMediaFile: ()=>ny,
                    addOnDealItemDetailCleaner: ()=>Ld,
                    addOnDealRuleCleaner: ()=>Gd,
                    agentAllMessageIdsSelector: ()=>fh,
                    agentConversationDirectionSelector: ()=>r_,
                    agentConversationEntitiesSelector: ()=>Ar,
                    agentConversationHttpStatusSelector: ()=>t_,
                    agentConversationIdMapsSelector: ()=>T_,
                    agentConversationIdsSelector: ()=>Zf,
                    agentConversationLastMessageSelector: ()=>ih,
                    agentConversationOperateRequested: ()=>L_,
                    agentConversationReducer: ()=>pS,
                    agentConversationReducerSelector: ()=>b_,
                    agentConversationSchema: ()=>S,
                    agentConversationsSelector: ()=>o_,
                    agentDraftHashSelector: ()=>LS,
                    agentDraftReducer: ()=>jS,
                    agentFailedMessageIdsSelector: ()=>Eh,
                    agentFilterSelector: ()=>E_,
                    agentHasMoreLatestMessageSelector: ()=>hh,
                    agentHasMoreOlderMessageSelector: ()=>Sh,
                    agentLatestTimestampNanoSelector: ()=>$f,
                    agentLatestTimestampSelector: ()=>e_,
                    agentMediaListSelector: ()=>KS,
                    agentMediaMapSelector: ()=>WS,
                    agentMediaMessagesSelector: ()=>yh,
                    agentMediaPreviewerReducer: ()=>QS,
                    agentMessageHttpStatusSelector: ()=>dh,
                    agentMessagesRelatedMapSelector: ()=>oh,
                    agentMessagesSelector: ()=>Oh,
                    agentOfflineMessagesSelector: ()=>ch,
                    agentPreviewMediasSelector: ()=>Rh,
                    agentPreviousConversationIdSelector: ()=>Xf,
                    agentReducer: ()=>Ch,
                    agentReplyToMessageIdSelector: ()=>ph,
                    agentReplyToMessageSelector: ()=>bh,
                    agentReverseMessagesSelector: ()=>vh,
                    agentSendingMessageIdsSelector: ()=>_h,
                    agentToMessageIdSelector: ()=>uh,
                    agentUnreadConversationCountSelector: ()=>dS,
                    agentUnreadCountReducer: ()=>DS,
                    agentUnreadMessageIdsSelector: ()=>mh,
                    agentUnreadMessagesSelector: ()=>gh,
                    allMessageIdsSelector: ()=>Mg,
                    allProductsSearchStatusSelector: ()=>YC,
                    allProductsSelector: ()=>$C,
                    authorizedShopsCountSelector: ()=>va,
                    autoTranslation: ()=>RT,
                    batchRemoveDraft: ()=>Am,
                    batchUpdateRecord: ()=>Zr,
                    blockUserRequested: ()=>Ia,
                    bundleDealItemDetailCleaner: ()=>Hd,
                    bundleDealRuleCleaner: ()=>Vd,
                    cancelReasonsSelector: ()=>kC,
                    captchaSignatureSelector: ()=>Wn,
                    captchaVisibleSelector: ()=>Qn,
                    changeConversationStatusRequested: ()=>ju,
                    changeConversationStatusRequestedSaga: ()=>Kl,
                    chatbotImageSelector: ()=>DR,
                    chatbotIntentsReportRequest: ()=>$R,
                    chatbotOrderCleaner: ()=>cR,
                    chatbotReducer: ()=>IC,
                    checkUserPermissionRequested: ()=>Ec,
                    checkUserPermissionSucceeded: ()=>Sc,
                    clearAgentMediaFile: ()=>YS,
                    clearApiCache: ()=>Oe,
                    clearMediaFile: ()=>oy,
                    clearReportRequested: ()=>tD,
                    clickAgentContactRequested: ()=>x_,
                    clickAgentConvRequested: ()=>k_,
                    closeChatbotMediaPreview: ()=>XR,
                    closeConversationRequested: ()=>Pu,
                    closeHangupTipsRequested: ()=>Es,
                    closeHangupTipsSelector: ()=>Ea,
                    closeMediaPreviewModalRequested: ()=>_y,
                    closeModal: ()=>Je,
                    closeReasonConfigSelector: ()=>$I,
                    closeReasonEditingCacheSelector: ()=>ZI,
                    closeReasonMessageStatusMapSelector: ()=>eA,
                    closeReasonStatusSelector: ()=>XI,
                    collectAsyncTask: ()=>er,
                    collectChatbotReportTask: ()=>$P,
                    collectComponentTask: ()=>Zt,
                    collectLoadTask: ()=>$t,
                    configTrackerUser: ()=>BP,
                    contactIdsSelector: ()=>p_,
                    contactListSelector: ()=>f_,
                    contactsEntitiesSelector: ()=>Lr,
                    contactsSchema: ()=>h,
                    conversationBatchOperateRequested: ()=>Iu,
                    conversationDirectionSelector: ()=>Oi,
                    conversationEntitiesSelector: ()=>Ir,
                    conversationHttpStatusSelector: ()=>hi,
                    conversationIdsSelector: ()=>ei,
                    conversationLastMessageSelector: ()=>Ug,
                    conversationOperateRequested: ()=>Fu,
                    conversationReducer: ()=>vO,
                    conversationSchema: ()=>s,
                    conversationsLengthLevelSelector: ()=>Fr,
                    conversationsSelector: ()=>vi,
                    converstionSyncUpdatesSaga: ()=>mf,
                    copySucceedFeedback: ()=>Fv,
                    csSocket: ()=>nP,
                    csSocketConnectedSelector: ()=>Xb,
                    csSocketLoginedSelector: ()=>Jb,
                    curAgentConvsMessageSelector: ()=>Th,
                    curAgentMessagesRelatedSelector: ()=>lh,
                    curConvsMessageSelector: ()=>Zg,
                    curMessagesRelatedSelector: ()=>xg,
                    curTabFocusedSelector: ()=>da,
                    currentAgentConversationCanReadSelector: ()=>m_,
                    currentAgentConversationIdSelector: ()=>a_,
                    currentAgentConversationSelector: ()=>c_,
                    currentAgentDraftSelector: ()=>FS,
                    currentAllMessageShortcutsSelector: ()=>gT,
                    currentBuyerIdSelector: ()=>xi,
                    currentBuyerOffersSelector: ()=>gm,
                    currentBuyerOrdersSelector: ()=>FC,
                    currentBuyerSelector: ()=>Yi,
                    currentBuyerShopIdSelector: ()=>qi,
                    currentCBSubAccountShopsSelector: ()=>jO,
                    currentConversationAutoTranslationSelectors: ()=>Li,
                    currentConversationBuyerIdSelectors: ()=>Mi,
                    currentConversationCanReadSelector: ()=>Si,
                    currentConversationFromTobUserIdSelector: ()=>v_,
                    currentConversationIdSelector: ()=>oi,
                    currentConversationInSearchSelector: ()=>ii,
                    currentConversationMaxOptionHideTimeSelectors: ()=>Fi,
                    currentConversationOrderPanelSelector: ()=>KA,
                    currentConversationProductPanelSelector: ()=>zA,
                    currentConversationSelector: ()=>wi,
                    currentConversationShopIdSelectors: ()=>Ui,
                    currentConversationShopRegionSelectors: ()=>ki,
                    currentConversationShopSelectors: ()=>Ni,
                    currentConversationStatusSelectors: ()=>ji,
                    currentConversationToNameSelector: ()=>Qi,
                    currentConversationToTobUserIdSelector: ()=>g_,
                    currentConversationTypeSelector: ()=>ci,
                    currentConversationVoucherPanelSelector: ()=>JA,
                    currentConversationWorkstationPanelSelector: ()=>WA,
                    currentDraftSelector: ()=>jm,
                    currentFaqHistorySeletor: ()=>bg,
                    currentFaqSessionInfoSelector: ()=>wR,
                    currentFetchResultSelector: ()=>XC,
                    currentFetchShopIdsSelector: ()=>PO,
                    currentGroupIdSelector: ()=>ST,
                    currentGroupTypeSelector: ()=>fT,
                    currentOfferPaginationSelector: ()=>vm,
                    currentOffersFetchResultSelector: ()=>Om,
                    currentOrderFetchResultSelector: ()=>jC,
                    currentPendingOffersCountSelector: ()=>Xi,
                    currentPreviewMediaIdSelector: ()=>dy,
                    currentSearchShopsSelector: ()=>LO,
                    currentShopIdSelector: ()=>Bi,
                    currentUserCapacitySelector: ()=>aa,
                    currentUserDistributionStatusSelector: ()=>ua,
                    currentUserIdSelector: ()=>Ln,
                    currentUserRoleSelector: ()=>ia,
                    currentUserSelector: ()=>Xn,
                    currentUserShopIdSelector: ()=>ca,
                    currentUserShopSelector: ()=>sa,
                    currentUserShopsSelector: ()=>MO,
                    currerntSelectedConversationIdSelector: ()=>_i,
                    defaultPagination: ()=>wv,
                    degradeConversationIdsSelector: ()=>yi,
                    deleteAgentConversationRequested: ()=>U_,
                    deleteAgentConversationSucceeded: ()=>M_,
                    deleteAgentMediaFile: ()=>BS,
                    deleteConfigDurationSelector: ()=>Yn,
                    deleteConfigSelector: ()=>qn,
                    deleteConversationRequested: ()=>tu,
                    deleteConversationSucceeded: ()=>ru,
                    deleteMediaFile: ()=>ay,
                    deleteRecord: ()=>$r,
                    distributionAccountStatusSelector: ()=>DT,
                    draftHashSelector: ()=>Um,
                    draftReducer: ()=>km,
                    editingStatusSelector: ()=>oA,
                    entitiesSelector: ()=>Rr,
                    entityReducer: ()=>on,
                    exceptionTag: ()=>At,
                    failedMessageIdsSelector: ()=>Lg,
                    fakeConversationSucceeded: ()=>au,
                    faqAssistantDataSelector: ()=>rA,
                    faqHistoryHashSelector: ()=>Tg,
                    faqHistoryMessagesSelector: ()=>Qg,
                    faqHistoryhttpStatusSelector: ()=>gg,
                    faqIdSelector: ()=>mg,
                    faqSessionInfoSelector: ()=>PR,
                    faqSettingsSchema: ()=>g,
                    feedStoryEntitiesSelector: ()=>Ur,
                    feedStorySchema: ()=>f,
                    feedbackClassificationSelector: ()=>Oa,
                    feedbackRequested: ()=>Bm,
                    feedbackSelector: ()=>Kb,
                    feedbackSucceeded: ()=>Ym,
                    fetch: ()=>fr,
                    fetchAgentConversationsRequested: ()=>C_,
                    fetchAgentConversationsRequestedSaga: ()=>CE,
                    fetchAgentConversationsSucceeded: ()=>I_,
                    fetchCategoryRequested: ()=>EA,
                    fetchContactRequested: ()=>D_,
                    fetchContactStatusSelector: ()=>d_,
                    fetchConversationsRequested: ()=>ou,
                    fetchConversationsRequestedSaga: ()=>Il,
                    fetchConversationsSucceeded: ()=>cu,
                    fetchDegradeConversationsDetail: ()=>Lu,
                    fetchDegradeConversationsDetailSaga: ()=>Al,
                    fetchFaqSessionSucceed: ()=>ZR,
                    fetchGroupsRequested: ()=>wu,
                    fetchMassGroupsRequested: ()=>xu,
                    fetchMessagePreview: ()=>Rl,
                    fetchNotificationRequested: ()=>rI,
                    fetchNotificationUnreadCountRequested: ()=>tI,
                    fetchProductsForProductSelector: ()=>lA,
                    fetchRelatedCapacity: ()=>nc,
                    fetchSettings: ()=>BT,
                    fetchSettingsRequested: ()=>xT,
                    fetchSettingsStatusSelector: ()=>Oy,
                    fetchShopAuth: ()=>mv,
                    fetchShopAuthRequested: ()=>YO,
                    fetchShopDetailInfo: ()=>XO,
                    fetchShopListStatus: ()=>YA,
                    fetchShopSettings: ()=>ky,
                    fetchShopTranslationSettings: ()=>Dy,
                    fetchShopsByIds: ()=>Tv,
                    fetchShopsRequested: ()=>HO,
                    fetchShopsSucceed: ()=>VO,
                    fetchUserOrderDetail: ()=>Oo,
                    fetchUserOrderDetailRequested: ()=>fo,
                    fetchUserOrderDetailSucceeded: ()=>_o,
                    fetchUserPerformance: ()=>xc,
                    fetchUserPerformanceRequested: ()=>Dc,
                    fetchUserPerformanceSucceed: ()=>Pc,
                    fetchUsers: ()=>wc,
                    fetchedShopIdsSelector: ()=>RO,
                    filterSelector: ()=>Ci,
                    filterShopSelector: ()=>kO,
                    filteredAgentConversationsSelector: ()=>h_,
                    filteredConversationsSelector: ()=>Di,
                    flashSaleItemDetailCleaner: ()=>Bd,
                    forceLogoutRequested: ()=>Qo,
                    formatOffer: ()=>TR,
                    formatSinglePrice: ()=>kd,
                    forwardConversationRequested: ()=>du,
                    generatePersist: ()=>QD,
                    getAgentConversation: ()=>s_,
                    getAgentConversationShopId: ()=>i_,
                    getAgentConversations: ()=>u_,
                    getAgentConvsMessagesRelatedSelector: ()=>sh,
                    getChatbotSdk: ()=>QR,
                    getContactSelector: ()=>__,
                    getConversation: ()=>Gi,
                    getConversationDetailRequested: ()=>nu,
                    getConversationFakingMessages: ()=>Vg,
                    getConversationIds: ()=>BD,
                    getConversationPendingOffersCountSelector: ()=>$i,
                    getConversationShopId: ()=>Hi,
                    getConversationShopRegion: ()=>Zi,
                    getConversations: ()=>Vi,
                    getConvsMessagesRelatedSelector: ()=>Ng,
                    getDraft: ()=>Mm,
                    getEditingReasonCache: ()=>tA,
                    getExceptionName: ()=>ir,
                    getFeedbackClassificationRequested: ()=>ws,
                    getFilterRegionUnreadCount: ()=>pn,
                    getGuide: ()=>Ga,
                    getGuideFailed: ()=>Fa,
                    getGuideRequested: ()=>ja,
                    getGuideSucceeded: ()=>La,
                    getMessageSelector: ()=>Pg,
                    getMessagesSelector: ()=>wg,
                    getPendingOffersCountRequested: ()=>Zu,
                    getRouterPath: ()=>ce,
                    getShopUnreadCountByIds: ()=>gv,
                    getToastInformation: ()=>jv,
                    getTranslation: ()=>mr,
                    greetingStatusSelector: ()=>nA,
                    groupMemberSchema: ()=>m,
                    groupSchema: ()=>T,
                    handle401ErrorRequested: ()=>mt,
                    handleAgentSubscribe: ()=>JS,
                    handleAgentUnreadCountChangeAction: ()=>bS,
                    handleChatbotUrl: ()=>ZP,
                    handleChatbotUrlKey: ()=>tw,
                    handleConnect: ()=>pb,
                    handleDeleteAgentConversation: ()=>EE,
                    handleError: ()=>ur,
                    handleLoginSucceededLogic: ()=>ac,
                    handleOrderForApi: ()=>nw,
                    handleUnreadCountChangeAction: ()=>Pn,
                    handledOrderForRender: ()=>rw,
                    hasDeletePermissionSelector: ()=>Bn,
                    hasMoreLatestMessageSelector: ()=>Gg,
                    hasMoreOlderMessageSelector: ()=>Fg,
                    hasReplyPermissionSelector: ()=>Vn,
                    hasVideoPermissionSelector: ()=>Hn,
                    heartbeat: ()=>ne,
                    history: ()=>oe,
                    inMultipleSelectionModeSelector: ()=>li,
                    inScrollToMessageSelector: ()=>cT,
                    initMDAPSdk: ()=>nr,
                    initialFetchFlagSelector: ()=>FO,
                    inlocationSelector: ()=>ni,
                    isBoundOtherAccountSelector: ()=>aA,
                    isCBSellerSelector: ()=>ea,
                    isCBSubAccountSelector: ()=>na,
                    isCSSocketShared: ()=>rP,
                    isContactsVisibleSelector: ()=>l_,
                    isError: ()=>ht,
                    isMainPageSelector: ()=>pa,
                    isNavigateToUnreadMessageSelector: ()=>Ki,
                    isShared: ()=>ee,
                    isSubAccountSelector: ()=>Zn,
                    itemDetailCleaner: ()=>Md,
                    itemListDetailCleaner: ()=>jd,
                    keywordSelector: ()=>Ri,
                    latestProductSourceIdSelector: ()=>eT,
                    legacyMessageShortcutsCountSelector: ()=>AT,
                    loadingSelector: ()=>jn,
                    localeSelector: ()=>$n,
                    locationMessage: ()=>qu,
                    login: ()=>oc,
                    loginCSSocket: ()=>aP,
                    loginRequested: ()=>Fo,
                    loginSocket: ()=>re,
                    loginStatusSelector: ()=>fa,
                    loginSucceeded: ()=>Go,
                    logout: ()=>Ys,
                    logoutHandler: ()=>Bs,
                    logoutRequested: ()=>Ho,
                    logoutSucceeded: ()=>Vo,
                    markAgentConversationRequested: ()=>j_,
                    markAgentConversationRequestedSaga: ()=>rE,
                    markMessagesRequested: ()=>fu,
                    markMessagesRequestedSaga: ()=>Fl,
                    markMessagesSucceeded: ()=>_u,
                    massForwardConversationRequested: ()=>lu,
                    mdapConfig: ()=>Wt,
                    mediaListSelector: ()=>ty,
                    mediaMapSelector: ()=>ey,
                    mediaMessagesSelector: ()=>Wg,
                    mediaPreviewModalReducer: ()=>Sy,
                    mediaPreviewerReducer: ()=>sy,
                    memoize: ()=>iw,
                    messageEntitiesSelector: ()=>Dr,
                    messageFillStatusMapSelector: ()=>kg,
                    messageHttpStatusSelector: ()=>yg,
                    messageOffersSelector: ()=>$g,
                    messageSchema: ()=>c,
                    messageShortcutGroupContentSelector: ()=>_T,
                    messageShortcutGroupEntitiesSelector: ()=>kr,
                    messageShortcutGroupHttpStatusSelector: ()=>ET,
                    messageShortcutGroupSchema: ()=>b,
                    messageShortcutGroupSelector: ()=>lT,
                    messageShortcutHttpStatusSelector: ()=>VI,
                    messageShortcutTagsSelector: ()=>qI,
                    messageShortcutsBlacklistIndexSelector: ()=>BI,
                    messageShortcutsGroupIdsSelector: ()=>HI,
                    messageShortcutsGroupsSelector: ()=>YI,
                    messageShortcutsSchema: ()=>_,
                    messageShortcutsSelector: ()=>hT,
                    messageShortcutsStatusSelector: ()=>IT,
                    messageSourceIdsSelector: ()=>Xg,
                    messageSourceSelector: ()=>Jg,
                    messageTimeStyleSelector: ()=>CT,
                    messagesLengthLevelSelector: ()=>Gr,
                    messagesRelatedMapSelector: ()=>Rg,
                    messagesSelector: ()=>Hg,
                    missedReadNoticeCountSelector: ()=>ri,
                    modalReducer: ()=>Xe,
                    modalSelector: ()=>qe,
                    muteConversationRequested: ()=>$u,
                    navigateToUnreadMessageIdSelector: ()=>zi,
                    networkJudge: ()=>eP,
                    networkStatusSelector: ()=>Gn,
                    newMessageFlagSelector: ()=>zn,
                    newbieSelector: ()=>Fn,
                    normalize: ()=>C,
                    noticesCountSelector: ()=>zb,
                    notificationCurrentTypeSelector: ()=>FI,
                    notificationDetailSelector: ()=>GI,
                    notificationHttpStatusSelector: ()=>jI,
                    notificationReadStatusSelector: ()=>LI,
                    notificationReducer: ()=>NI,
                    notificationResultSelector: ()=>UI,
                    notificationSelector: ()=>kI,
                    notificationUnreadSelector: ()=>MI,
                    notifyMe: ()=>dT,
                    offerCleaner: ()=>Qd,
                    offerDetailCleaner: ()=>qd,
                    offerHttpStatusSelector: ()=>fm,
                    offerSchema: ()=>p,
                    offerSelector: ()=>Sm,
                    offersSelector: ()=>_m,
                    offlineMessagesSelector: ()=>Cg,
                    offlineReplyContentSelector: ()=>zI,
                    offlineReplyHttpStatusSelector: ()=>KI,
                    offlineReplyStatusSelector: ()=>WI,
                    offlineReplyWorkSettingSelector: ()=>JI,
                    orderCleaner: ()=>aR,
                    orderEntitiesSelector: ()=>wr,
                    orderHttpStatusSelector: ()=>UC,
                    orderLogisticsCleaner: ()=>oR,
                    orderSchema: ()=>i,
                    orderSelector: ()=>NC,
                    performanceSelector: ()=>_a,
                    personalMessageShortcutsSelector: ()=>OT,
                    pinConversationRequested: ()=>Su,
                    previewMediasSelector: ()=>Kg,
                    previousConversationIdSelector: ()=>si,
                    productCleaner: ()=>sw,
                    productEntitiesSelector: ()=>xr,
                    productFetchStatusSelector: ()=>IA,
                    productListSelector: ()=>NA,
                    productSchema: ()=>u,
                    productSelector: ()=>GC,
                    productSelectorReducer: ()=>CA,
                    productsSelector: ()=>HC,
                    rateCardEntitiesSelector: ()=>Mr,
                    rateCardSelector: ()=>tT,
                    rateCardsSchema: ()=>E,
                    readNotificationRequested: ()=>oI,
                    readRequestIdsSelector: ()=>ti,
                    recommendGroupSchema: ()=>y,
                    redirectConversationRequested: ()=>AD,
                    reduxReset: ()=>Tm,
                    regionFilterGuideSelector: ()=>ha,
                    regionFilterSelector: ()=>Ai,
                    regionUnreadCountSelector: ()=>un,
                    relatedOfferIdsSelector: ()=>Em,
                    removeAgentAllDraft: ()=>NS,
                    removeAgentSingleDraft: ()=>xS,
                    removeAllDraft: ()=>Im,
                    removeSingleDraft: ()=>Cm,
                    replyToMessageIdSelector: ()=>nT,
                    replyToMessageSelector: ()=>oT,
                    reportApiTime: ()=>ar,
                    reportArraySelector: ()=>XA,
                    reportAsyncTask: ()=>Gs,
                    reportException: ()=>sr,
                    reportReducer: ()=>dD,
                    reportRequested: ()=>eD,
                    resendMessagePayloadSelector: ()=>Kn,
                    resetAgentConversationRequested: ()=>W_,
                    resetConversationRequested: ()=>Uu,
                    resetCurrentFetchShops: ()=>ZO,
                    resetNavigateToUnreadMessageId: ()=>Xu,
                    resetSearchParams: ()=>Ou,
                    reverseMessagesSelector: ()=>Bg,
                    saveAgentDraft: ()=>wS,
                    saveDraft: ()=>Dm,
                    scrollToMessageIdSelector: ()=>aT,
                    searchConversationsRequested: ()=>hu,
                    searchFilterSelector: ()=>ui,
                    searchMoreResults: ()=>Gu,
                    searchPaginationSelector: ()=>pi,
                    searchResultsSelector: ()=>di,
                    searchShopHttpStatusSelector: ()=>IO,
                    searchShopsRequested: ()=>KO,
                    selectHydrated: ()=>I,
                    selectVideoInfoByKey: ()=>Ag,
                    selectVideoInfoKeyByVid: ()=>Dg,
                    selectedConversationIdsSelector: ()=>fi,
                    selectedConversationsRequested: ()=>Cu,
                    selectedConversationsSelector: ()=>Ei,
                    sellerRecGroupIdsSelector: ()=>kA,
                    sellerRecGroupSeqRequestedStatusSelector: ()=>jA,
                    sellerRecGroupStatusSelector: ()=>MA,
                    sellerRecGroupfetchStatusSelector: ()=>UA,
                    sellerRecGroupsSelector: ()=>LA,
                    sellerRecProductHttpStatusSelector: ()=>HA,
                    sellerRecProductUpdateHttpStatusSelector: ()=>VA,
                    sellerRecShopAccessSelector: ()=>BA,
                    sellerRecShopListHttpStatusSelector: ()=>GA,
                    sellerRecShopListSelector: ()=>FA,
                    sellerRecommendGroupsFetchStatusSelector: ()=>JC,
                    sellerRecommendGroupsSelector: ()=>WC,
                    sellerRecommendProductFetchStatusSelector: ()=>zC,
                    sellerRecommendProductsSelector: ()=>qC,
                    sendFeedbackRequested: ()=>Ps,
                    sendingMessageIdsSelector: ()=>jg,
                    setActiveTab: ()=>B_,
                    setCurrentAgentConversationCanRead: ()=>K_,
                    setCurrentConversationCanRead: ()=>Au,
                    setCurrentConversationMode: ()=>Tu,
                    setNavigateToUnreadMessage: ()=>zu,
                    setNavigateToUnreadMessageId: ()=>Ju,
                    setTextBoxHeight: ()=>ds,
                    setToastInformation: ()=>Gv,
                    setToastInformationSaga: ()=>Qv,
                    settingsFetchStatusSelector: ()=>yT,
                    settingsNeedForceUpdateSelectors: ()=>mT,
                    settingsReducer: ()=>dm,
                    settingsSelector: ()=>TT,
                    settingsStatusSelector: ()=>bT,
                    shopAccessSelector: ()=>Wi,
                    shopCategoryFetchStatusSelector: ()=>PA,
                    shopCategorySelector: ()=>AA,
                    shopFetchResultSelector: ()=>AO,
                    shopFilterSelector: ()=>UO,
                    shopHttpStatusSelector: ()=>CO,
                    shopReducer: ()=>kv,
                    shopRegionSelector: ()=>Ii,
                    shopSchema: ()=>l,
                    shopSearchResultSelector: ()=>DO,
                    shopSelector: ()=>yO,
                    shopService: ()=>W,
                    shopStatisticsMapSelector: ()=>ta,
                    shopStatisticsSelector: ()=>ra,
                    shopTranslationSettingsSelector: ()=>hy,
                    shopeeCategoryFetchStatusSelector: ()=>wA,
                    shopeeCategorySelector: ()=>DA,
                    shoppingCartItemDetailCleaner: ()=>Yd,
                    shopsEntitiesSelector: ()=>jr,
                    shopsUnreadConversationCountSelector: ()=>cn,
                    shouldPersistItem: ()=>WD,
                    showAgentConversationRequested: ()=>F_,
                    showAgentConversationSucceeded: ()=>q_,
                    showAutoHangupModalSelector: ()=>ga,
                    showCartReminder: ()=>RR,
                    showChatbotImage: ()=>JR,
                    showConversationRequested: ()=>ku,
                    showConversationSucceeded: ()=>Mu,
                    showFaqHistory: ()=>CR,
                    showFeedStory: ()=>yR,
                    showLoadingSucceeded: ()=>gs,
                    showMediaPreviewModalRequested: ()=>fy,
                    showMediaPreviewModalSelector: ()=>py,
                    showModal: ()=>ze,
                    showOffer: ()=>mR,
                    showOrder: ()=>gR,
                    showProduct: ()=>OR,
                    showProducts: ()=>vR,
                    showRegionFilterGuide: ()=>qo,
                    showSearchedConversationRequested: ()=>Yu,
                    showShop: ()=>av,
                    showTranslationGuide: ()=>Yo,
                    showUser: ()=>kc,
                    showUserRequested: ()=>Ic,
                    showVoucher: ()=>bR,
                    showWarningMessageIdsSelector: ()=>Yg,
                    socket: ()=>te,
                    socketReducer: ()=>Wb,
                    sortedAgentConversationsSelector: ()=>O_,
                    sortedConversationsSelector: ()=>Pi,
                    stickerEntitiesSelector: ()=>Pr,
                    stickerSchema: ()=>d,
                    systemRecommendProductFetchStatusSelector: ()=>KC,
                    systemRecommendProductsSelector: ()=>QC,
                    takeEveryWithCancel: ()=>LD,
                    teamMessageShortcutsSelector: ()=>vT,
                    textBoxHeightSelector: ()=>la,
                    timerHandler: ()=>cD,
                    toMessageIdSelector: ()=>rT,
                    toastReducer: ()=>rg,
                    toastSelector: ()=>Uv,
                    toggleMultipleSelectionMode: ()=>bu,
                    totalSelector: ()=>xA,
                    totalUnreadConversationsCountSelector: ()=>sn,
                    translatePreferenceReducer: ()=>Ly,
                    translationGuideSelector: ()=>Sa,
                    unreadCountActions: ()=>dn,
                    unreadCountReducer: ()=>Mn,
                    unreadMessageIdsSelector: ()=>zg,
                    unreadMessagesSelector: ()=>qg,
                    updateAgentConversationFilter: ()=>R_,
                    updateAgentPreviousConversationId: ()=>Q_,
                    updateAgentUnreadConversationCount: ()=>gS,
                    updateAgentUnreadCount: ()=>vS,
                    updateCSSocketStatus: ()=>Ub,
                    updateCaptchaSignature: ()=>as,
                    updateCaptchaSignatureSaga: ()=>cs,
                    updateCaptchaSignatureSucceeded: ()=>os,
                    updateCaptchaVisible: ()=>ns,
                    updateChatbotFrom: ()=>WR,
                    updateConversationFilter: ()=>pu,
                    updateConversationTimestamp: ()=>uu,
                    updateCurTabFocused: ()=>qc,
                    updateCurTabFocusedSaga: ()=>Wc,
                    updateCurTabFocusedSucceeded: ()=>Qc,
                    updateCurrentConversationMode: ()=>gu,
                    updateCurrentConversationModeSaga: ()=>Yh,
                    updateDelPermission: ()=>hc,
                    updateEntities: ()=>Jr,
                    updateFetchAgentConversationsDirection: ()=>G_,
                    updateFetchAgentConversationsStatus: ()=>A_,
                    updateFetchConversationsDirection: ()=>iu,
                    updateFetchConversationsStatus: ()=>su,
                    updateFetchStatus: ()=>wy,
                    updateFetchedShopIds: ()=>qO,
                    updateGuide: ()=>Za,
                    updateGuideRequested: ()=>Ja,
                    updateGuideSucceeded: ()=>Xa,
                    updateIsContactsVisible: ()=>V_,
                    updateIsMainPage: ()=>Yc,
                    updateLocationMode: ()=>Qu,
                    updateLoginStatus: ()=>Bo,
                    updateNetworkStatus: ()=>lo,
                    updateNewMessageFlag: ()=>Bc,
                    updateNoticesCount: ()=>yb,
                    updateNotificationCurrentType: ()=>sI,
                    updateNotificationDetail: ()=>dI,
                    updateNotificationReadStatus: ()=>pI,
                    updateOrReplaceAction: ()=>VD,
                    updatePreviousConversationId: ()=>Du,
                    updateReadRequestData: ()=>Eu,
                    updateRecord: ()=>Xr,
                    updateRegionUnreadCount: ()=>Rn,
                    updateRelatedCapacity: ()=>So,
                    updateSequenceStatusSelector: ()=>QI,
                    updateSettingPreferenceStatus: ()=>xy,
                    updateSettingStatus: ()=>UT,
                    updateSettingsRequested: ()=>jT,
                    updateSettingsRequestedByType: ()=>MT,
                    updateShopFilter: ()=>QO,
                    updateShopTranslationSettings: ()=>Py,
                    updateShopTranslationSettingsRecord: ()=>Ny,
                    updateShowAutoHangupModal: ()=>Eo,
                    updateStatusSelector: ()=>vy,
                    updateTimeNowSelector: ()=>ai,
                    updateTotalUnreadConversationsCount: ()=>mn,
                    updateUnreadCount: ()=>Tn,
                    updateUser: ()=>ho,
                    updateUserRequested: ()=>po,
                    updateVoucherStatus: ()=>rl,
                    userEntitiesSelector: ()=>Cr,
                    userReducer: ()=>zs,
                    userSchema: ()=>o,
                    userSelector: ()=>Jn,
                    validConversationCountSelector: ()=>oa,
                    videoMapSelector: ()=>Ig,
                    visitShopSellerCenterRequested: ()=>WO,
                    voucherCleaner: ()=>tl,
                    voucherEntitiesSelector: ()=>Nr,
                    voucherHttpStatusSelector: ()=>DC,
                    voucherSelector: ()=>wC,
                    vouchersSchema: ()=>O,
                    vouchersSelector: ()=>PC,
                    watchAgentConversationSagas: ()=>uS,
                    watchAgentSagas: ()=>Ih,
                    watchAgentUnreadSagas: ()=>AS,
                    watchBlock: ()=>wa,
                    watchCSChatChannel: ()=>Lb,
                    watchCSChatReconnect: ()=>Fb,
                    watchCaptcha: ()=>ss,
                    watchChannel: ()=>Ib,
                    watchChatbotSagas: ()=>AC,
                    watchCheck: ()=>vc,
                    watchConversationSagas: ()=>hO,
                    watchFeedback: ()=>Qm,
                    watchGuides: ()=>Ha,
                    watchLogin: ()=>cc,
                    watchNotificationSagas: ()=>xI,
                    watchProductSelectorSagas: ()=>RA,
                    watchReportAction: ()=>Vs,
                    watchReportSagas: ()=>pD,
                    watchSettingsSagas: ()=>pm,
                    watchShopSagas: ()=>xv,
                    watchShow: ()=>Uc,
                    watchSocketSagas: ()=>Qb,
                    watchTab: ()=>Kc,
                    watchToastSagas: ()=>tg,
                    watchTranslationSagas: ()=>Fy,
                    watchTranslationSettings: ()=>My,
                    watchUncontrolledSagas: ()=>MD,
                    watchUnreadSagas: ()=>Un,
                    watchUpdate: ()=>vo,
                    watchUpdateGuides: ()=>eo,
                    watchUserSagas: ()=>Ws,
                    workstationPanelCacheSelector: ()=>qA
                });
                var t = P(383);
                function r(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function n(t) {
                    for (var n = 1; n < arguments.length; n++) {
                        var a = null != arguments[n] ? arguments[n] : {};
                        n % 2 ? r(Object(a), !0).forEach((function(r) {
                            e(t, r, a[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(a)) : r(Object(a)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(a, e))
                        }
                        ))
                    }
                    return t
                }
                var a = function(e, r, a) {
                    return new t.schema.Entity(e,n({}, r),n({}, a))
                }
                  , o = a("users")
                  , c = a("messages")
                  , s = a("conversations")
                  , i = a("orders")
                  , u = a("products")
                  , p = a("offers")
                  , d = a("stickers")
                  , l = a("shops")
                  , f = a("feedStories")
                  , _ = a("messageShortcuts")
                  , E = a("rateCards")
                  , S = a("agentConversations")
                  , h = a("contacts", {}, {
                    idAttribute: "account_id"
                })
                  , O = a("vouchers")
                  , v = a("category", {}, {
                    idAttribute: "category_id"
                })
                  , g = a("settings", {
                    categorys: [v]
                })
                  , T = a("groups")
                  , m = a("groupMembers")
                  , b = a("messageShortcutsGroups", {})
                  , y = a("recommendGroup", {
                    products: [u]
                }, {
                    idAttribute: "group_id"
                })
                  , R = {
                    users: o,
                    messages: c,
                    conversations: s,
                    orders: i,
                    offers: p,
                    products: u,
                    stickers: d,
                    shops: l,
                    feedStories: f,
                    messageShortcuts: _,
                    rateCards: E,
                    agentConversations: S,
                    contacts: h,
                    vouchers: O,
                    groups: T,
                    groupMembers: m,
                    faqSettings: g,
                    messageShortcutsGroups: b,
                    recommendGroup: y
                };
                const C = function(e, r) {
                    var n = R[e] || a(e);
                    return r instanceof Array ? (0,
                    t.normalize)(r, [n]) : (0,
                    t.normalize)(r, n)
                };
                var I = function(e, r, n) {
                    try {
                        var a = R[e];
                        return r instanceof Array ? (0,
                        t.denormalize)(r, [a], n.entityReducer) : null == r ? void 0 : (0,
                        t.denormalize)(r, a, n.entityReducer)
                    } catch (e) {
                        return
                    }
                };
                function A(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var r = 0, n = new Array(t); r < t; r++)
                        n[r] = e[r];
                    return n
                }
                function D(e, t) {
                    if (e) {
                        if ("string" == typeof e)
                            return A(e, t);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        return "Object" === r && e.constructor && (r = e.constructor.name),
                        "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? A(e, t) : void 0
                    }
                }
                function x(e, t) {
                    return function(e) {
                        if (Array.isArray(e))
                            return e
                    }(e) || function(e, t) {
                        var r = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                        if (null != r) {
                            var n, a, o = [], c = !0, s = !1;
                            try {
                                for (r = r.call(e); !(c = (n = r.next()).done) && (o.push(n.value),
                                !t || o.length !== t); c = !0)
                                    ;
                            } catch (e) {
                                s = !0,
                                a = e
                            } finally {
                                try {
                                    c || null == r.return || r.return()
                                } finally {
                                    if (s)
                                        throw a
                                }
                            }
                            return o
                        }
                    }(e, t) || D(e, t) || function() {
                        throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }()
                }
                var N = P(855);
                function k(e) {
                    return k = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                        return typeof e
                    }
                    : function(e) {
                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                    }
                    ,
                    k(e)
                }
                function U(e, t, r, n, a, o, c) {
                    try {
                        var s = e[o](c)
                          , i = s.value
                    } catch (e) {
                        return void r(e)
                    }
                    s.done ? t(i) : Promise.resolve(i).then(n, a)
                }
                function M(e) {
                    return function() {
                        var t = this
                          , r = arguments;
                        return new Promise((function(n, a) {
                            var o = e.apply(t, r);
                            function c(e) {
                                U(o, n, a, c, s, "next", e)
                            }
                            function s(e) {
                                U(o, n, a, c, s, "throw", e)
                            }
                            c(void 0)
                        }
                        ))
                    }
                }
                var j = P(757)
                  , L = P.n(j)
                  , F = P(672)
                  , G = P(598)
                  , H = P.n(G);
                function V(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                function B(e, t) {
                    for (var r = 0; r < t.length; r++) {
                        var n = t[r];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(e, n.key, n)
                    }
                }
                function Y(e, t, r) {
                    return t && B(e.prototype, t),
                    r && B(e, r),
                    e
                }
                function q(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Q(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? q(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : q(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var W = new (function() {
                    function t() {
                        V(this, t),
                        this.shopsMap = {}
                    }
                    var r;
                    return Y(t, [{
                        key: "updateShopMap",
                        value: function(e) {
                            this.shopsMap = Q(Q({}, this.shopsMap), e)
                        }
                    }, {
                        key: "getRegion",
                        value: (r = M(L().mark((function t(r, n) {
                            var a, o, c, s;
                            return L().wrap((function(t) {
                                for (; ; )
                                    switch (t.prev = t.next) {
                                    case 0:
                                        if (!n) {
                                            t.next = 11;
                                            break
                                        }
                                        if (o = null === (a = this.shopsMap[n]) || void 0 === a ? void 0 : a.country) {
                                            t.next = 8;
                                            break
                                        }
                                        return t.next = 5,
                                        fr({
                                            resource: "shop",
                                            id: n,
                                            params: {
                                                need_cache: 1,
                                                cache_expires: 600
                                            }
                                        });
                                    case 5:
                                        return c = t.sent,
                                        this.updateShopMap(e({}, c.id, c)),
                                        t.abrupt("return", c.country);
                                    case 8:
                                        return t.abrupt("return", o);
                                    case 11:
                                        if (s = (0,
                                        N.getRuntimeRegion)().toUpperCase(),
                                        !["KR", "CN"].includes(s) && !r) {
                                            t.next = 14;
                                            break
                                        }
                                        return t.abrupt("return", "GLOBAL");
                                    case 14:
                                        return t.abrupt("return", s);
                                    case 15:
                                    case "end":
                                        return t.stop()
                                    }
                            }
                            ), t, this)
                        }
                        ))),
                        function(e, t) {
                            return r.apply(this, arguments)
                        }
                        )
                    }]),
                    t
                }());
                "live" !== (0,
                N.getRuntimeServer)() && (window.shopService = W);
                var K, z = P(674), J = P.n(z);
                function X(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function $(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? X(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : X(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                K = "5478";
                var Z = new (J())({
                    name: "".concat((0,
                    N.getRuntimeRegion)(), "_").concat((0,
                    N.getRuntimeServer)(), "_seller-push-ws")
                })
                  , ee = Z.isShared
                  , te = Z.socket;
                te.dispatch || (te.dispatch = function() {
                    return {}
                }
                );
                var re = function(e) {
                    return ee ? te.emit("login", $($({}, e), {}, {
                        app_id: K
                    }), !0) : new Promise((function(t) {
                        te.emit("login", $($({}, e), {}, {
                            app_id: K
                        }), (function(e) {
                            return t(JSON.parse(e))
                        }
                        ))
                    }
                    ))
                }
                  , ne = function(e) {
                    var t = e.noticesCount
                      , r = e.readMissedCount
                      , n = e.csSocketLogined
                      , a = e.csSocketConnected
                      , o = {
                        app_id: K,
                        noticesCount: t,
                        readMissedCount: r,
                        csSocketLogined: n,
                        csSocketConnected: a
                    }
                      , c = "".concat(K, "|").concat(t, "|").concat(r, "|").concat(n, "|").concat(a);
                    return ee ? te.heartbeat({
                        emitEvent: "heartbeat",
                        args: o,
                        pollingTime: 6e4,
                        remedyTime: 9e4,
                        separator: "|"
                    }) : te.emit("heartbeat", c)
                }
                  , ae = P(423)
                  , oe = (0,
                P(428).createBrowserHistory)({
                    basename: "/webchat"
                })
                  , ce = function() {
                    var e = oe.location
                      , t = e && e.pathname;
                    return t && t.startsWith("/") ? t.split("/")[1] : t
                }
                  , se = ((0,
                N.getRuntimeRegion)() || "").toUpperCase()
                  , ie = "live" === (0,
                N.getRuntimeServer)()
                  , ue = (0,
                ae.createFetchUtils)({
                    locale: se,
                    isLiveEnv: ie,
                    onSecuritySdkError: function(e) {
                        return console.log("[onSecuritySdkError]", e)
                    }
                })
                  , pe = ue.initSecuritySdk
                  , de = ue.post;
                function le(e, t) {
                    return fe.apply(this, arguments)
                }
                function fe() {
                    return (fe = M(L().mark((function e(t, r) {
                        var n, a, o;
                        return L().wrap((function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    return n = r.headers,
                                    a = r.body,
                                    e.next = 3,
                                    de(t, JSON.parse(a), {
                                        headers: n,
                                        antiFraudConfig: {
                                            deviceFingerPrint: {
                                                dataFormatter: function(e) {
                                                    return {
                                                        re_policy: {
                                                            dfp_access_f: e
                                                        }
                                                    }
                                                }
                                            },
                                            apiProtection: {
                                                signatureLevel: 1
                                            }
                                        }
                                    });
                                case 3:
                                    return o = e.sent,
                                    e.abrupt("return", o.__raw);
                                case 5:
                                case "end":
                                    return e.stop()
                                }
                        }
                        ), e)
                    }
                    )))).apply(this, arguments)
                }
                function _e(e) {
                    return function(e) {
                        if (Array.isArray(e))
                            return A(e)
                    }(e) || function(e) {
                        if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                            return Array.from(e)
                    }(e) || D(e) || function() {
                        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }()
                }
                pe({
                    history: oe
                });
                var Ee = P(444)
                  , Se = P.n(Ee);
                window.__CHANGE_FETCH__ || (window.fetch = Se(),
                window.__CHANGE_FETCH__ = !0);
                var he = "CHAT_API"
                  , Oe = function() {
                    window.caches && window.caches.delete(he)
                };
                function ve(e, t) {
                    return ge.apply(this, arguments)
                }
                function ge() {
                    return (ge = M(L().mark((function e(t, r) {
                        var n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m;
                        return L().wrap((function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    if (e.prev = 0,
                                    n = new URL(t),
                                    a = n.searchParams,
                                    o = a.get("need_cache"),
                                    c = a.get("force_update"),
                                    s = a.get("_ts"),
                                    i = r.method && "get" === r.method.toLowerCase(),
                                    u = "&csrf_token=".concat(encodeURIComponent(a.get("csrf_token") || "")),
                                    p = "&force_update=".concat(String(c)),
                                    d = t.replace(u, "").replace(p, "").replace(s || "", ""),
                                    !(i && o && window.caches)) {
                                        e.next = 44;
                                        break
                                    }
                                    return e.next = 13,
                                    window.caches.open(he);
                                case 13:
                                    return l = e.sent,
                                    e.next = 16,
                                    l.match(d);
                                case 16:
                                    if (f = e.sent,
                                    _ = Date.now(),
                                    !f) {
                                        e.next = 25;
                                        break
                                    }
                                    if (!(_ < Number(f.headers.get("cache-expires"))) || c) {
                                        e.next = 23;
                                        break
                                    }
                                    return e.abrupt("return", f);
                                case 23:
                                    return e.next = 25,
                                    l.delete(d);
                                case 25:
                                    return e.next = 27,
                                    window.fetch(t, r);
                                case 27:
                                    if (E = e.sent,
                                    S = E.clone(),
                                    200 !== E.status) {
                                        e.next = 41;
                                        break
                                    }
                                    return h = _e(E.headers.entries()),
                                    O = {},
                                    v = Number(a.get("cache_expires")) || 3600,
                                    g = _ + 1e3 * v,
                                    e.next = 36,
                                    E.blob();
                                case 36:
                                    T = e.sent,
                                    h.forEach((function(e) {
                                        O[e[0]] = e[1]
                                    }
                                    )),
                                    O["cache-expires"] = g,
                                    m = new Response(T,{
                                        headers: new Headers(O)
                                    });
                                    try {
                                        l.put(d, m)
                                    } catch (e) {
                                        window.caches.delete(he)
                                    }
                                case 41:
                                    return e.abrupt("return", S);
                                case 44:
                                    return e.abrupt("return", window.fetch(t, r));
                                case 45:
                                    e.next = 50;
                                    break;
                                case 47:
                                    return e.prev = 47,
                                    e.t0 = e.catch(0),
                                    e.abrupt("return", window.fetch(t, r));
                                case 50:
                                case "end":
                                    return e.stop()
                                }
                        }
                        ), e, null, [[0, 47]])
                    }
                    )))).apply(this, arguments)
                }
                var Te, me, be, ye = P(378), Re = P.n(ye), Ce = P(464), Ie = P.n(Ce);
                !function(e) {
                    e[e.ONE = 1] = "ONE",
                    e[e.TWO = 2] = "TWO",
                    e[e.THREE = 3] = "THREE",
                    e[e.FOUR = 4] = "FOUR"
                }(be || (be = {}));
                var Ae = (e(Te = {}, be.ONE, "70c74f4e-dcda-483e-826b-19dd2c42e799"),
                e(Te, be.TWO, "29ffec18-c614-4645-8f1c-686e22d2e26a"),
                e(Te, be.THREE, "04229e76-1ba3-4ac9-8a4e-68d46a3881a2"),
                e(Te, be.FOUR, "a3769a87-35cf-45e9-a5a7-2b4016c52e92"),
                Te)
                  , De = (e(me = {}, be.ONE, "396c15ad-6d3e-4018-98be-cef58cb45cd0"),
                e(me, be.TWO, "607c871d-b766-4c6f-ba89-b6c6ca32b156"),
                e(me, be.THREE, "42990074-9a73-4459-b749-f3110d222a72"),
                e(me, be.FOUR, "5702b6f3-62a3-44d2-abe8-fece100a8bf4"),
                me);
                function Pe(e, t) {
                    var r = t.url
                      , n = t.method
                      , a = t.token
                      , o = t.ctoken
                      , c = t.extra
                      , s = function(e) {
                        return "live" === (0,
                        N.getRuntimeServer)() ? De[e] : Ae[e]
                    }(e);
                    switch (e) {
                    case 1:
                        // untuk send chat
                        return function(e, t, r) {
                            if (r) {
                                var n = r.plat
                                  , a = r.fromID
                                  , o = r.reqID
                                  , c = r.toID
                                  , s = r.timestamp
                                  , i = r.type
                                  , u = r.strinput
                                  , p = "key=".concat(t, "&plat=").concat(n, "&ver=v1.2&fromID=").concat(a, "&reqID=").concat(o, "&toID=").concat(c, "&timestamp=").concat(s, "&type=").concat(i, "&strinput=").concat(u);
                                
                                //   Ie() untuk hash
                                console.log(Ie(), "send chat");
                                return Ie()(p).toString()
                            }
                            return Re()(e + t).toString()
                        }(r, s, c);
                    case 2:
                        return function(e, t, r) {
                            return Re()(e + t + r).toString()
                        }(r, s, n);
                    case 3:
                        return function(e, t, r) {
                            return Re()(e + t + r).toString()
                        }(r, s, a);
                    case 4:
                        return function(e, t, r) {
                            return Re()(e + t + r).toString()
                        }(r, s, o);
                    default:
                        return ""
                    }
                }
                var we = function(e) {
                    var t = e.url
                      , r = e.method
                      , n = e.token
                      , a = e.ctoken
                      , o = void 0 === a ? "" : a
                      , c = e.version
                      , s = e.fromID
                      , i = e.payload
                      , u = void 0 === i ? "{}" : i
                      , p = e.timestamp
                      , d = JSON.parse(u)
                      , l = d.to_id
                      , f = d.request_id
                      , _ = d.type
                      , E = d.content
                      , S = void 0 === E ? {} : E;
                    return {
                        url: t,
                        method: r,
                        token: n,
                        ctoken: o,
                        extra: {
                            plat: c,
                            fromID: s,
                            reqID: f,
                            toID: l,
                            timestamp: p,
                            type: _,
                            strinput: "text" === _ && S.text ? S.text : ""
                        }
                    }
                };
                function xe(e, t) {
                    return xe = Object.setPrototypeOf || function(e, t) {
                        return e.__proto__ = t,
                        e
                    }
                    ,
                    xe(e, t)
                }
                function Ne(e, t) {
                    if ("function" != typeof t && null !== t)
                        throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, {
                        constructor: {
                            value: e,
                            writable: !0,
                            configurable: !0
                        }
                    }),
                    t && xe(e, t)
                }
                function ke(e) {
                    if (void 0 === e)
                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    return e
                }
                function Ue(e, t) {
                    return !t || "object" !== k(t) && "function" != typeof t ? ke(e) : t
                }
                function Me(e) {
                    return Me = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) {
                        return e.__proto__ || Object.getPrototypeOf(e)
                    }
                    ,
                    Me(e)
                }
                function je() {
                    if ("undefined" == typeof Reflect || !Reflect.construct)
                        return !1;
                    if (Reflect.construct.sham)
                        return !1;
                    if ("function" == typeof Proxy)
                        return !0;
                    try {
                        return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                        ))),
                        !0
                    } catch (e) {
                        return !1
                    }
                }
                function Le(e, t, r) {
                    return Le = je() ? Reflect.construct : function(e, t, r) {
                        var n = [null];
                        n.push.apply(n, t);
                        var a = new (Function.bind.apply(e, n));
                        return r && xe(a, r.prototype),
                        a
                    }
                    ,
                    Le.apply(null, arguments)
                }
                function Fe(e) {
                    var t = "function" == typeof Map ? new Map : void 0;
                    return Fe = function(e) {
                        if (null === e || (r = e,
                        -1 === Function.toString.call(r).indexOf("[native code]")))
                            return e;
                        var r;
                        if ("function" != typeof e)
                            throw new TypeError("Super expression must either be null or a function");
                        if (void 0 !== t) {
                            if (t.has(e))
                                return t.get(e);
                            t.set(e, n)
                        }
                        function n() {
                            return Le(e, arguments, Me(this).constructor)
                        }
                        return n.prototype = Object.create(e.prototype, {
                            constructor: {
                                value: n,
                                enumerable: !1,
                                writable: !0,
                                configurable: !0
                            }
                        }),
                        xe(n, e)
                    }
                    ,
                    Fe(e)
                }
                var Ge, He = P(252);
                !function(e) {
                    e.SHOW_MODAL = "SHOW_MODAL",
                    e.CLOSE_MODAL = "CLOSE_MODAL"
                }(Ge || (Ge = {}));
                var Ve, Be, Ye = P(975), qe = (0,
                Ye.createSelector)((function(e) {
                    return e.modalReducer.show
                }
                ), (function(e) {
                    return e.modalReducer.type
                }
                ), (function(e, t) {
                    return {
                        show: e,
                        type: t
                    }
                }
                ));
                function Qe(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function We(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Qe(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Qe(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Ke = (0,
                He.createActions)((e(Ve = {}, Ge.SHOW_MODAL, (function(e) {
                    var t = e.type
                      , r = e.title
                      , n = void 0 === r ? "" : r
                      , a = e.content
                      , o = e.actions
                      , c = void 0 === o ? {} : o
                      , s = e.additions;
                    return {
                        type: t,
                        title: n,
                        content: a,
                        actions: c,
                        additions: void 0 === s ? {} : s
                    }
                }
                )),
                e(Ve, Ge.CLOSE_MODAL, (function() {
                    return {}
                }
                )),
                Ve))
                  , ze = Ke.showModal
                  , Je = Ke.closeModal
                  , Xe = (0,
                He.handleActions)((e(Be = {}, Ge.SHOW_MODAL, (function(e, t) {
                    var r = t.payload
                      , n = r.type
                      , a = r.title;
                    return {
                        show: !0,
                        type: n,
                        content: r.content,
                        title: a,
                        actions: r.actions,
                        additions: r.additions
                    }
                }
                )),
                e(Be, Ge.CLOSE_MODAL, (function(e) {
                    return We(We({}, e), {}, {
                        show: !1
                    })
                }
                )),
                Be), {
                    show: !1,
                    type: "",
                    title: "",
                    content: "",
                    actions: {},
                    additions: {}
                })
                  , $e = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this)).name = n.constructor.name,
                        n.message = e,
                        n
                    }
                    return Y(r, [{
                        key: "handler",
                        value: function() {
                            F.store.dispatch(ze({
                                type: "CONFIRM_MODAL",
                                title: "Oops...",
                                closable: !1,
                                additions: {
                                    content: "Something wrong with our chat, please come back later."
                                }
                            }))
                        }
                    }]),
                    r
                }(Fe(Error))
                  , Ze = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e, n) {
                        var a;
                        return V(this, r),
                        (a = t.call(this, e)).name = a.constructor.name,
                        a.errors = n,
                        a
                    }
                    return Y(r, [{
                        key: "handler",
                        value: function() {
                            (0,
                            N.removeItem)("session"),
                            N.LS.removeItem("chat-session"),
                            document.location.replace("https://".concat((0,
                            N.getSellerCenterUrl)(), "/account/signin?next=").concat(encodeURIComponent("/webchat/conversations")))
                        }
                    }]),
                    r
                }(Fe(Error));
                const et = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this, e)).name = n.constructor.name,
                        n
                    }
                    return r
                }(Fe(Error));
                var tt = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e, n) {
                        var a;
                        return V(this, r),
                        (a = t.call(this, e)).name = a.constructor.name,
                        a.errors = n,
                        a
                    }
                    return r
                }(Fe(Error))
                  , rt = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this, e)).name = n.constructor.name,
                        n.handler = n.handler.bind(ke(n)),
                        n
                    }
                    return Y(r, [{
                        key: "handler",
                        value: function() {
                            F.store.dispatch(ze({
                                type: "CONFIRM_MODAL",
                                title: "Oops...",
                                closable: !1,
                                additions: {
                                    content: "Chat service cannot be provided now, please come back later."
                                }
                            }))
                        }
                    }]),
                    r
                }(Fe(Error))
                  , nt = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e, n) {
                        var a;
                        return V(this, r),
                        (a = t.call(this, e)).name = a.constructor.name,
                        a.code = n,
                        a
                    }
                    return Y(r, [{
                        key: "handler",
                        value: function() {
                            return this.code
                        }
                    }]),
                    r
                }(Fe(Error))
                  , at = P(439).t
                  , ot = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this)).name = n.constructor.name,
                        n.error = e,
                        n.handler = n.handler.bind(ke(n)),
                        n
                    }
                    return Y(r, [{
                        key: "handler",
                        value: function() {
                            var e = "";
                            switch (this.error.error_code) {
                            case "unauthorized_for_shop":
                                e = "forward.error.unauthorized_for_shop";
                                break;
                            case "target_subaccount_unauthorized_for_shop":
                                e = "forward.error.target_subaccount_unauthorized_for_shop";
                                break;
                            case "target_group_unauthorized_for_shop":
                                e = "forward.error.target_group_unauthorized_for_shop";
                                break;
                            case "conversation_not_belong_to_you":
                                e = "forward.error.conversation_not_belong_to_you";
                                break;
                            case "conversation_not_dispatch":
                                e = "forward.error.conversation_not_dispatch";
                                break;
                            case "cannot_move_conversation_to_yourself":
                                e = "forward.error.cannot_move_conversation_to_yourself";
                                break;
                            case "target_subaccount_not_online":
                                e = "forward.error.target_subaccount_not_online";
                                break;
                            case "subaccount_conversation_not_found":
                                e = "forward.error.subaccount_conversation_not_found";
                                break;
                            case "conversation_closed":
                                e = "forward.error.conversation_closed";
                                break;
                            case "user_have_delete_disable":
                                e = "forward.error.user_deleted";
                                break;
                            case "user_has_pending_order":
                                e = "conversation_detail.workstation.block_fail_modal.title"
                            }
                            return {
                                show: !0,
                                type: "fail",
                                message: at(e)
                            }
                        }
                    }]),
                    r
                }(Fe(Error))
                  , ct = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e, n, a) {
                        var o;
                        return V(this, r),
                        (o = t.call(this, e)).name = o.constructor.name,
                        o.errors = n,
                        o.data = a,
                        o
                    }
                    return r
                }(Fe(Error))
                  , st = P(439).t
                  , it = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this)).name = n.constructor.name,
                        n.error = e,
                        n
                    }
                    return Y(r, [{
                        key: "handler",
                        value: function() {
                            var e;
                            switch (this.error.error_code) {
                            case "send_rating_card_too_frequently":
                                e = "conversation_detail.message_list.rating_card_duplicate";
                                break;
                            case "rating_card_rated":
                            case "rating_card_expired":
                                e = "rate_card.submit.fail";
                                break;
                            default:
                                e = "common.server_error.warning_tips"
                            }
                            return {
                                message: st(e),
                                show: !0,
                                type: "fail"
                            }
                        }
                    }]),
                    r
                }(Fe(Error))
                  , ut = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this, e)).name = n.constructor.name,
                        n
                    }
                    return r
                }(Fe(Error))
                  , pt = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this, e.message)).name = n.constructor.name,
                        n.message = e.message,
                        n
                    }
                    return r
                }(Fe(Error))
                  , dt = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this, e)).name = n.constructor.name,
                        n
                    }
                    return r
                }(Fe(Error));
                const lt = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e, n, a) {
                        var o;
                        return V(this, r),
                        (o = t.call(this, e)).name = o.constructor.name,
                        o.errors = n,
                        o.data = a,
                        o
                    }
                    return r
                }(Fe(Error))
                  , ft = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this, e)).name = n.constructor.name,
                        n.message = e,
                        n
                    }
                    return r
                }(Fe(Error));
                var _t, Et = function(e) {
                    Ne(r, e);
                    var t = function(e) {
                        var t = function() {
                            if ("undefined" == typeof Reflect || !Reflect.construct)
                                return !1;
                            if (Reflect.construct.sham)
                                return !1;
                            if ("function" == typeof Proxy)
                                return !0;
                            try {
                                return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function() {}
                                ))),
                                !0
                            } catch (e) {
                                return !1
                            }
                        }();
                        return function() {
                            var r, n = Me(e);
                            if (t) {
                                var a = Me(this).constructor;
                                r = Reflect.construct(n, arguments, a)
                            } else
                                r = n.apply(this, arguments);
                            return Ue(this, r)
                        }
                    }(r);
                    function r(e) {
                        var n;
                        return V(this, r),
                        (n = t.call(this)).message = e,
                        n
                    }
                    return r
                }(Fe(Error)), St = function(e) {
                    switch (e) {
                    case 400:
                        return $e;
                    case 401:
                        return Ze;
                    case 403:
                        return nt;
                    case 404:
                        return et;
                    case 422:
                        return tt;
                    case 429:
                        return ut;
                    case 451:
                        return pt;
                    case 452:
                        return Et;
                    case 491:
                        return ot;
                    case 492:
                        return ct;
                    case 493:
                        return it;
                    case 494:
                        return dt;
                    case 495:
                        return lt;
                    case 500:
                        return rt;
                    default:
                        return Error
                    }
                }, ht = function(e) {
                    return "".concat(e).startsWith("4") || "".concat(e).startsWith("5")
                };
                !function(e) {
                    e.HANDLE_401_ERROR_REQUESTED = "HANDLE_401_ERROR_REQUESTED",
                    e.UPDATE_CONVERSATION_LISTS_HASH = "UPDATE_CONVERSATION_LISTS_HASH"
                }(_t || (_t = {}));
                var Ot, vt, gt, Tt, mt = (0,
                He.createActions)(e({}, _t.HANDLE_401_ERROR_REQUESTED, (function(e) {
                    return {
                        resource: e.resource
                    }
                }
                ))).handle401ErrorRequested, bt = {
                    "68f7f2651edf603838f627ca641f8ce7": "LOAD_HTML",
                    ef7717beb59b92e841a2dd86e9e0ee52: "LOAD_STATIC",
                    "773e1f6f9f2639ddeb9695206a2e1517": "APP_PREPARE",
                    "0b0403d29e2dae792e68cd86b33a3e64": "LOGIN_API",
                    "8905f1d370f59821f398dd32d6f32bca": "LOGIN_SUCCEEDED",
                    "1a27a5d49d7fef06c3bdd25fd102da43": "SHOW_WEBCHAT",
                    "4fb6e17d01208017c1d51593c2a869a4": "RENDER_CONVERSATION_LIST",
                    a99612e949ab22105999e361ecdaa9f4: "SHOW_CONVERSATION_LIST",
                    "5093c7100cb61bdf4faf7cd5d057301a": "RENDER_MESSAGE_LIST",
                    "58b2e775a149cf8a598280cf22efd14e": "SHOW_MESSAGE_LIST",
                    c721d51a93cc046d0fb0c641dbbef3f7: "RENDER_WELCOME_PAGE",
                    "8c3445e1090c332a158a61a441b9baeb": "SHOW_WELCOME_PAGE",
                    "7c189a10947a2ff85a3ed8aace60f567": "MESSAGE_SOCKET",
                    b7b517a43ccea41813bae2052a449aa8: "READ_SOCKET",
                    "70b7761b25b45c63413d9c8b55ac9909": "VIDEO_UPLOAD",
                    "9abf294b30867ad02815f6e1cb4ea1a6": "SERVICE_DONE"
                };
                Ot = {
                    LOAD_HTML: "ecc313329888857674d76101d146c2cf",
                    LOAD_STATIC: "6c5473f93d31adbc6775d4cbe74028f0",
                    APP_PREPARE: "45fc4f0b4764512b9f647d39849fa5dd",
                    LOGIN_API: "d01b63b111888eed10b3d677045f2a53",
                    LOGIN_SUCCEEDED: "53fa4ef8e0292ff5da8f17afc1fda6c7",
                    SHOW_WEBCHAT: "bdd8566d750370b20dcb83454c922300",
                    RENDER_CONVERSATION_LIST: "bb34c066199977402ceb7c26bce8053a",
                    SHOW_CONVERSATION_LIST: "bbf1299704d0115e3135de7d5b48bc7d",
                    RENDER_MESSAGE_LIST: "29f109c64fe61d118f83962996a508d8",
                    SHOW_MESSAGE_LIST: "efbc854fc39c6d09e7f3f1e805ee0668",
                    RENDER_WELCOME_PAGE: "248a877cebb27208f04e6ccf87000d5c",
                    SHOW_WELCOME_PAGE: "16d97d68458c8ad4460b515ae9a63f5a",
                    VIDEO_UPLOAD: "a5f4ab3fd53942b7269767ab0064c4f5",
                    SERVICE_DONE: "25adff496029846011df725b2b4dc1c3",
                    MESSAGE_SOCKET: "f29821a13c154f32d5d783e8b6117556",
                    READ_SOCKET: "e1d765228ba5974bc5d00325843922d7",
                    LOGIN_FAILED: "bf915c7bc4a01769040062c1bdd93d70",
                    SOCKET_FAILED: "ddfd2394fb8bf466d73b58a3607119d2",
                    OPEN_CONVERSATION: "fa8d6a01803bfbc974a43d0d99f6b88c",
                    CHANGE_CONVERSATION: "0d7dfa492823d913215ba20941ced425",
                    RENDER_LATEST_CONVS_LIST: "fe1096f4b32946ab4e0367d39753d604",
                    FETCH_LATEST_CONVS_COUNT: "bb472fa22b2765a7c55dd9a429903cf8",
                    INVALID_BROWSER: "3c2ea7d41922e4955ec34b79b068f217",
                    SHARED_TABS: "7a07be727679790bf45a8e37392614d3",
                    CHATWS_SOCKET_FAILED: "dfd815a76776d22b78566a06af35e039",
                    WORKSTATION_ORDER_FETCH_EXCEPTION: "e1cb421a080e51a50949263f698ef9a3",
                    FAILED_TO_FETCH: "ba2484283fd8d2233c6c192d24fe1603"
                },
                vt = {
                    LOAD_HTML: "68f7f2651edf603838f627ca641f8ce7",
                    LOAD_STATIC: "ef7717beb59b92e841a2dd86e9e0ee52",
                    APP_PREPARE: "773e1f6f9f2639ddeb9695206a2e1517",
                    LOGIN_API: "0b0403d29e2dae792e68cd86b33a3e64",
                    LOGIN_SUCCEEDED: "8905f1d370f59821f398dd32d6f32bca",
                    SHOW_WEBCHAT: "1a27a5d49d7fef06c3bdd25fd102da43",
                    RENDER_CONVERSATION_LIST: "4fb6e17d01208017c1d51593c2a869a4",
                    SHOW_CONVERSATION_LIST: "a99612e949ab22105999e361ecdaa9f4",
                    RENDER_MESSAGE_LIST: "5093c7100cb61bdf4faf7cd5d057301a",
                    SHOW_MESSAGE_LIST: "58b2e775a149cf8a598280cf22efd14e",
                    RENDER_WELCOME_PAGE: "c721d51a93cc046d0fb0c641dbbef3f7",
                    SHOW_WELCOME_PAGE: "8c3445e1090c332a158a61a441b9baeb",
                    VIDEO_UPLOAD: "70b7761b25b45c63413d9c8b55ac9909",
                    SERVICE_DONE: "9abf294b30867ad02815f6e1cb4ea1a6",
                    MESSAGE_SOCKET: "7c189a10947a2ff85a3ed8aace60f567",
                    READ_SOCKET: "b7b517a43ccea41813bae2052a449aa8",
                    LOGIN_FAILED: "6c4006a6d062c9236706929f31173375",
                    SOCKET_FAILED: "72e15a581acfe5a915121ec70ae12857",
                    OPEN_CONVERSATION: "4236e9cc7a6e8e15bfd0479c07723702",
                    CHANGE_CONVERSATION: "4e7a9ae3592517d9ff32ec32c1d2abdc",
                    RENDER_LATEST_CONVS_LIST: "307a00db432485c41a7e2db58048cfab",
                    FETCH_LATEST_CONVS_COUNT: "929c692d3fcfb46004de590c0a876c00",
                    INVALID_BROWSER: "68f5b8cbe6bc7b56287ad67f3ca04b31",
                    SHARED_TABS: "80c5eb4aaace8e0b6ae81d8e9a638114",
                    CHATWS_SOCKET_FAILED: "7bcdaa73626bfa9e83bb8c2be677583e",
                    WORKSTATION_ORDER_FETCH_EXCEPTION: "6e9ccbf664e81482af6f1afb5d9a3afc",
                    FAILED_TO_FETCH: "75af92ddf52b16f2ee23304343f48092"
                },
                gt = "6c3638564727a5b7bb3441e85bcc42a868572def71a43e6bdfb1c936eb112855",
                Tt = "b89618279eabb01c7555205d78c26c3979a87084e55c646cc31f202e534a6bbb";
                var yt, Rt = {
                    HTML_LOADED: "HTML_LOADED",
                    STATIC_LOADED: "STATIC_LOADED",
                    APP_PREPARED: "APP_PREPARED",
                    LOGIN_API_RESPONSED: "LOGIN_API_RESPONSED",
                    APP_RENDERING: "APP_RENDERING",
                    RENDER_CONVERSATION_LIST: "RENDER_CONVERSATION_LIST",
                    RENDER_MESSAGE_LIST: "RENDER_MESSAGE_LIST",
                    RENDER_WELCOME_PAGE: "RENDER_WELCOME_PAGE"
                }, Ct = {
                    WELCOME_PAGE: "WELCOME_PAGE",
                    MESSAGE_LIST: "MESSAGE_LIST",
                    CONVERSATION_LIST: "CONVERSATION_LIST",
                    APP: "APP"
                }, It = {
                    TYPE_ERROR: "TypeError",
                    RANGE_ERROR: "RangeError",
                    SYNTAX_ERROR: "SyntaxError",
                    REFERENCE_ERROR: "ReferenceError",
                    SAGA_ERROR: "Saga Error",
                    ERROR_BOUNDARY: "Error Boundary",
                    PRELOAD_ERROR: "Preload Error",
                    SOCKET_LOGIN_FAILED: "Socket Login Failed",
                    LOGIN_ERROR: "Login Error",
                    PARAMETER_ERROR: "Parameter Error",
                    API_UNCAUGHT_ERROR: "Api Uncaught Error",
                    API_CLIENT_ERROR: "Api Client Error"
                }, At = {
                    TYPE_ERROR: "type_error",
                    RANGE_ERROR: "range_error",
                    SYNTAX_ERROR: "syntax_error",
                    REFERENCE_ERROR: "reference_error",
                    ERROR_BOUNDARY: "error_boundary",
                    PRELOAD_ERROR: "preload_error",
                    SOCKET_LOGIN_FAILED: "socket_login_failed",
                    LOGIN_ERROR: "login_error",
                    PARAMETER_ERROR: "parameter_error",
                    API_CLIENT_ERROR: "api_client_error",
                    API_UNCAUGHT_ERROR: "api_uncaught_error"
                }, Dt = function(e, t) {
                    if (window.requestIdleCallback)
                        return window.requestIdleCallback(e, t);
                    var r = Date.now();
                    return setTimeout((function() {
                        e({
                            didTimeout: !1,
                            timeRemaining: function() {
                                return Math.max(0, 50 - (Date.now() - r))
                            }
                        })
                    }
                    ), 1)
                }, Pt = P(782), wt = P(830), xt = P.n(wt), Nt = P(292), kt = P.n(Nt), Ut = P(644), Mt = P.n(Ut), jt = P(844), Lt = P.n(jt);
                function Ft(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Gt(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Ft(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Ft(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                window.__CHANGE_FETCH__ || (window.fetch = Se(),
                window.__CHANGE_FETCH__ = !0);
                var Ht, Vt, Bt, Yt, qt, Qt, Wt = function(e) {
                    yt = e
                }, Kt = !1, zt = location.host.includes("shopee.cn"), Jt = [], Xt = "live" === (0,
                N.getRuntimeServer)() ? Ot : vt, $t = function() {
                    try {
                        var e = performance.getEntriesByName(Rt.HTML_LOADED, "mark")[0].startTime
                          , t = performance.getEntriesByName(Rt.STATIC_LOADED, "mark")[0].startTime
                          , r = performance.getEntriesByName(Rt.APP_PREPARED, "mark")[0].startTime
                          , n = performance.getEntriesByName(Rt.LOGIN_API_RESPONSED, "mark")[0].startTime
                          , a = performance.getEntriesByName(Rt.APP_RENDERING, "mark")[0].startTime;
                        Jt.push({
                            id: Xt.LOAD_HTML,
                            duration: window.__INDEX_HTML_LOADED__
                        }, {
                            id: Xt.LOAD_STATIC,
                            duration: Math.floor(t - e)
                        }, {
                            id: Xt.APP_PREPARE,
                            duration: Math.floor(r - t)
                        }, {
                            id: Xt.LOGIN_API,
                            duration: Math.floor(n - r)
                        }, {
                            id: Xt.LOGIN_SUCCEEDED,
                            duration: Math.floor(a - n)
                        })
                    } catch (e) {}
                }, Zt = function(e, t) {
                    try {
                        var r = null
                          , n = performance.getEntriesByName(Rt.APP_RENDERING, "mark")[0].startTime;
                        switch (e) {
                        case Ct.WELCOME_PAGE:
                            r = performance.getEntriesByName(Rt.RENDER_WELCOME_PAGE, "mark")[0].startTime,
                            Jt.push({
                                id: Xt.RENDER_WELCOME_PAGE,
                                duration: Math.floor(r - n)
                            });
                            break;
                        case Ct.MESSAGE_LIST:
                            r = performance.getEntriesByName(Rt.RENDER_MESSAGE_LIST, "mark")[0].startTime,
                            Jt.push({
                                id: Xt.RENDER_MESSAGE_LIST,
                                duration: Math.floor(r - n)
                            });
                            break;
                        case Ct.CONVERSATION_LIST:
                            r = performance.getEntriesByName(Rt.RENDER_CONVERSATION_LIST, "mark")[0].startTime,
                            Jt.push({
                                id: Xt.RENDER_CONVERSATION_LIST,
                                duration: Math.floor(r - n)
                            })
                        }
                        Jt.push(t),
                        Dt(tr, {
                            timeout: 2e3
                        })
                    } catch (e) {}
                }, er = function(e, t) {
                    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                    Jt.push({
                        id: e,
                        duration: t,
                        extra: r
                    }),
                    Dt(tr, {
                        timeout: 2e3
                    })
                };
                function tr(e) {
                    for (; (e.timeRemaining() > 5 || e.didTimeout) && Jt.length; ) {
                        var t = Jt.shift()
                          , r = t.id
                          , n = t.duration
                          , a = t.extra;
                        r && ar(r, n, a),
                        "live" !== (0,
                        N.getRuntimeServer)() && bt[r] && console.log("|-- 上报阶段: ", bt[r], ", 耗时为: ".concat(n))
                    }
                    Jt.length && Dt(tr, {
                        timeout: 2e3
                    })
                }
                var rr, nr = function() {
                    if (!Kt) {
                        var e = (0,
                        N.getRuntimeServer)()
                          , t = "live" === e
                          , r = (0,
                        N.getRuntimeRegion)()
                          , n = (0,
                        N.getRuntimeVersion)();
                        Ht = new Pt.MdapSdk({
                            app_name: "webchat",
                            secret_key: t ? gt : Tt,
                            environment: e,
                            region: r,
                            app_version: n,
                            sample: t ? .4 : 1
                        }),
                        Vt = new (xt())({
                            path: [/[\\/]webchat[\\/]api[\\/].*[\\/](login|(conversations[\\/](\d+)[\\/]messages)|conversations|orders_by_buyer_id|vouchers|products|items|(offer[\\/]given)|read|(video[\\/](in_whitelist|preupload|report_upload|upload_status)))[\\?]/, "/webchat/api/v1.2/messages"]
                        }),
                        Bt = new (kt())({
                            path: [/.*[\\/]webchat[\\/].*\.(js|css)/]
                        }),
                        Qt = new (Lt())({}),
                        Yt = new (Mt()),
                        qt = new Pt.CustomPlugin({}),
                        Ht.use(Vt),
                        Ht.use(Bt),
                        Ht.use(Qt),
                        Ht.use(Yt),
                        Ht.use(qt),
                        Kt = !0
                    }
                };
                function ar(e, t, r) {
                    Kt || nr();
                    var n = {
                        point_id: e,
                        data: {
                            userType: yt,
                            localOrCn: void 0 !== rr ? rr : rr = zt && "CN" !== (0,
                            N.getRuntimeRegion)().toUpperCase() ? "cn" : "local"
                        }
                    };
                    t && (n = Gt(Gt({}, n), {}, {
                        duration: t
                    })),
                    r && (n.data = Gt(Gt({}, n.data), r)),
                    qt.sendData(n)
                }
                var or = [It.TYPE_ERROR, It.RANGE_ERROR, It.SYNTAX_ERROR, It.REFERENCE_ERROR]
                  , cr = {
                    TypeError: At.TYPE_ERROR,
                    RangeError: At.RANGE_ERROR,
                    SyntaxError: At.SYNTAX_ERROR,
                    ReferenceError: At.REFERENCE_ERROR
                }
                  , sr = function(e) {
                    var t = e.message
                      , r = e.name
                      , n = e.tag
                      , a = e.level
                      , o = e.extra;
                    if (N.isValidBrowser) {
                        var c = {};
                        n && (c.tag = n),
                        or.includes(r) && cr[r] && (c.tag1 = cr[r]),
                        (Kt || nr(),
                        Yt || (Yt = new (Mt()),
                        Ht.use(Yt)),
                        Yt).capture({
                            message: t,
                            data: {
                                name: r,
                                level: a || "error",
                                data_field: c,
                                extra: o
                            }
                        })
                    }
                }
                  , ir = function(e, t) {
                    var r = t;
                    switch (!0) {
                    case e instanceof TypeError:
                        r = It.TYPE_ERROR;
                        break;
                    case e instanceof RangeError:
                        r = It.RANGE_ERROR;
                        break;
                    case e instanceof SyntaxError:
                        r = It.SYNTAX_ERROR;
                        break;
                    case e instanceof ReferenceError:
                        r = It.REFERENCE_ERROR
                    }
                    return r
                }
                  , ur = function(e) {
                    return e ? {
                        error: e.toString(),
                        errorName: e.name,
                        errorMessage: e.message,
                        errorStack: e.stack && JSON.stringify(e.stack)
                    } : {}
                };
                function pr(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function dr(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? pr(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : pr(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var lr = (0,
                N.getRuntimeVersion)();
                function fr(e) {
                    return _r.apply(this, arguments)
                }
                function _r() {
                    return _r = M(L().mark((function t(r) {
                        var n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R, C, I, A, D, P, w, U, j, G, V;
                        return L().wrap((function(t) {
                            for (; ; )
                                switch (t.prev = t.next) {
                                case 0:
                                    if (n = r.shared,
                                    a = void 0 !== n && n,
                                    o = r.url,
                                    c = r.ssl,
                                    s = void 0 === c || c,
                                    i = r.server,
                                    u = r.subServer,
                                    p = r.version,
                                    d = void 0 === p ? "v1.2" : p,
                                    l = r.parent,
                                    f = r.parentId,
                                    _ = r.resource,
                                    E = r.id,
                                    S = r.suffix,
                                    h = r.method,
                                    O = void 0 === h ? "GET" : h,
                                    v = r.credentials,
                                    g = void 0 === v ? "include" : v,
                                    T = r.extension,
                                    m = r.params,
                                    b = void 0 === m ? {} : m,
                                    y = r.payload,
                                    R = r.headers,
                                    C = void 0 === R ? {} : R,
                                    I = r.suffixSlash,
                                    A = r.cleaner,
                                    D = void 0 === A ? function(e) {
                                        return e
                                    }
                                    : A,
                                    P = "session",
                                    w = "chat-session",
                                    U = function() {
                                        return !!ee && F.store.getState().userReducer.isMainPage
                                    }
                                    ,
                                    j = function() {
                                        if ("sc" === S)
                                            return E;
                                        if ("auth" === _)
                                            return f;
                                        if (b.shop_id)
                                            return b.shop_id;
                                        if (y)
                                            try {
                                                return JSON.parse(y).shop_id
                                            } catch (e) {}
                                    }
                                    ,
                                    G = function() {
                                        var t = M(L().mark((function t(r) {
                                            var n, c, p, h, v, m, R, A, P, w, M, G, V, B, Y, q, Q, K, z, J, X, $, Z, ee, re, ne, ae, oe, ce, se, ie, ue, pe, de, fe, _e, Ee;
                                            return L().wrap((function(t) {
                                                for (; ; )
                                                    switch (t.prev = t.next) {
                                                    case 0:
                                                        return n = H().get("CTOKEN"),
                                                        p = (c = r || {}).token,
                                                        h = c.version,
                                                        v = c.user,
                                                        m = (v = void 0 === v ? {} : v).id,
                                                        R = v.type,
                                                        A = 0,
                                                        P = 0,
                                                        w = 0,
                                                        B = "",
                                                        Y = {},
                                                        t.next = 11,
                                                        W.getRegion("subaccount" === R, j());
                                                    case 11:
                                                        if (q = t.sent,
                                                        Q = p && "include" === g || !i ? {
                                                            Authorization: "Bearer ".concat(p),
                                                            "x-shop-region": q
                                                        } : {},
                                                        !i && (i = (0,
                                                        N.getApiServer)()),
                                                        o ? G = o : (K = [s ? "https:/" : "http:/", i, u, d, l, f, _, E, S].filter(Boolean).join("/"),
                                                        z = T ? "".concat(K, ".").concat(T) : K,
                                                        I && (z = "".concat(z, "/")),
                                                        (J = r && r.user && r.user.uid) && (b._uid = J),
                                                        lr && (b._v = lr),
                                                        n && (b.csrf_token = n),
                                                        V = Object.entries(b).filter((function(e) {
                                                            var t = x(e, 2)
                                                              , r = (t[0],
                                                            t[1]);
                                                            return r || 0 === r
                                                        }
                                                        )).map((function(e) {
                                                            var t = x(e, 2)
                                                              , r = t[0]
                                                              , n = t[1];
                                                            return "".concat(r, "=").concat(encodeURIComponent(n))
                                                        }
                                                        )).join("&"),
                                                        G = [z, V].filter(Boolean).join("?"),
                                                        X = [l, f, _, E, S].filter(Boolean).join("/"),
                                                        $ = T ? "/".concat(X, ".").concat(T) : "/".concat(X),
                                                        Y._uid = J || "",
                                                        Y._v = lr || "",
                                                        Z = Object.entries(Y).map((function(e) {
                                                            var t = x(e, 2)
                                                              , r = t[0]
                                                              , n = t[1];
                                                            return "".concat(r, "=").concat(encodeURIComponent(n))
                                                        }
                                                        )).join("&"),
                                                        B = [$, Z].join("?")),
                                                        t.prev = 15,
                                                        !(void 0 !== E && parseInt(E) <= 0 && !G.includes("message_shortcuts/group") || void 0 !== f && parseInt(f) <= 0)) {
                                                            t.next = 21;
                                                            break
                                                        }
                                                        throw ee = new Error,
                                                        sr({
                                                            message: "API Parameter exception",
                                                            name: It.PARAMETER_ERROR,
                                                            tag: At.PARAMETER_ERROR,
                                                            extra: {
                                                                error: "".concat(B, " parameter exception: ").concat(f, "/").concat(E)
                                                            }
                                                        }),
                                                        ee && (ee._type_ = "undefined_parameter"),
                                                        ee;
                                                    case 21:
                                                        return re = {},
                                                        ne = Date.now(),
                                                        (ae = "POST" === O && "messages" === _ && !S) && (oe = we({
                                                            url: B,
                                                            method: O,
                                                            version: lr,
                                                            token: Q.Authorization || "",
                                                            fromID: m,
                                                            payload: y,
                                                            timestamp: ne
                                                        }),
                                                        re = {
                                                            ts: ne,
                                                            "x-v": h || "",
                                                            "x-s": Pe(h, oe)
                                                        }),
                                                        ce = {
                                                            method: O,
                                                            credentials: g,
                                                            headers: dr(dr(dr({}, Q), re), C),
                                                            body: y
                                                        },
                                                        se = ae ? le : ve,
                                                        t.next = 30,
                                                        console.log(ce),
                                                        se(G, ce);
                                                    case 30:
                                                        ie = t.sent,
                                                        A = ie.status,
                                                        t.t0 = A,
                                                        t.next = 204 === t.t0 ? 35 : 404 === t.t0 ? 37 : 452 === t.t0 ? 39 : 500 === t.t0 ? 41 : 502 === t.t0 ? 43 : 45;
                                                        break;
                                                    case 35:
                                                        return ue = null,
                                                        t.abrupt("break", 49);
                                                    case 37:
                                                        return ue = {
                                                            message: "Resource not found"
                                                        },
                                                        t.abrupt("break", 49);
                                                    case 39:
                                                        return ue = {
                                                            message: "Tempory Error"
                                                        },
                                                        t.abrupt("break", 49);
                                                    case 41:
                                                        return ue = {
                                                            message: "Internal server error"
                                                        },
                                                        t.abrupt("break", 49);
                                                    case 43:
                                                        return ue = {
                                                            message: "Bad Gateway"
                                                        },
                                                        t.abrupt("break", 49);
                                                    case 45:
                                                        return 200 === A && (P = parseInt(ie.headers.get("total")),
                                                        w = parseInt(ie.headers.get("per-page"))),
                                                        t.next = 48,
                                                        ie.json();
                                                    case 48:
                                                        ue = t.sent;
                                                    case 49:
                                                        if ([200, 204].includes(A) && "report_upload" === _ && y && (pe = JSON.parse(y),
                                                        de = pe.vid,
                                                        performance.mark("REPORT_UPLOAD_".concat(de))),
                                                        200 !== A) {
                                                            t.next = 55;
                                                            break
                                                        }
                                                        return fe = ue instanceof Array ? e({
                                                            total: P,
                                                            perPage: w
                                                        }, _, ue.map((function(e) {
                                                            return D(e)
                                                        }
                                                        ))) : D(ue),
                                                        a && U() && te.dispatch(N.CustomShareEvent.SHARE_API_DATA, dr({
                                                            type: N.ShareDataType.UNREAD
                                                        }, "object" === k(fe) ? fe : {
                                                            res: fe
                                                        })),
                                                        ae && y && (M = JSON.parse(y).request_id,
                                                        (0,
                                                        N.setItem)(M, ne)),
                                                        t.abrupt("return", fe);
                                                    case 55:
                                                        if (204 !== A) {
                                                            t.next = 57;
                                                            break
                                                        }
                                                        return t.abrupt("return", null);
                                                    case 57:
                                                        if (!ht(A)) {
                                                            t.next = 77;
                                                            break
                                                        }
                                                        if ([400, 404].includes(A) && sr({
                                                            message: "API Client Error",
                                                            name: It.API_CLIENT_ERROR,
                                                            tag: At.API_CLIENT_ERROR,
                                                            extra: {
                                                                params: B,
                                                                status: A,
                                                                message: ue.message,
                                                                data: ue.data,
                                                                errors: ue.errors,
                                                                errorCode: ue.error_code || ue.errcode
                                                            }
                                                        }),
                                                        ![429, 451, 491, 493].includes(A)) {
                                                            t.next = 64;
                                                            break
                                                        }
                                                        throw new (St(A))(ue);
                                                    case 64:
                                                        if (401 !== A) {
                                                            t.next = 74;
                                                            break
                                                        }
                                                        if (!_ || _.includes("login")) {
                                                            t.next = 69;
                                                            break
                                                        }
                                                        F.store.dispatch(mt({
                                                            resource: _
                                                        })),
                                                        t.next = 72;
                                                        break;
                                                    case 69:
                                                        throw (_e = new (St(A))(ue.message,ue.errors || ue.error_code || ue.errcode,ue.data)) && (_e._type_ = "forbidden"),
                                                        _e;
                                                    case 72:
                                                        t.next = 77;
                                                        break;
                                                    case 74:
                                                        throw (Ee = new (St(A))(ue.message,ue.errors || ue.error_code || ue.errcode,ue.data)) && 400 === A && (Ee._type_ = "client"),
                                                        Ee;
                                                    case 77:
                                                        t.next = 83;
                                                        break;
                                                    case 79:
                                                        throw t.prev = 79,
                                                        t.t1 = t.catch(15),
                                                        A ? sr({
                                                            message: "API Uncaught Error",
                                                            name: ir(t.t1, It.API_UNCAUGHT_ERROR),
                                                            tag: At.API_UNCAUGHT_ERROR,
                                                            extra: dr({
                                                                status: A,
                                                                params: B
                                                            }, ur(t.t1))
                                                        }) : (t.t1.offlineError = !0,
                                                        er(Xt.FAILED_TO_FETCH, 0)),
                                                        t.t1;
                                                    case 83:
                                                    case "end":
                                                        return t.stop()
                                                    }
                                            }
                                            ), t, null, [[15, 79]])
                                        }
                                        )));
                                        return function(e) {
                                            return t.apply(this, arguments)
                                        }
                                    }(),
                                    !a || U()) {
                                        t.next = 8;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 8:
                                    V = null;
                                    try {
                                        V = N.LS.getItem(w, !0)
                                    } catch (e) {
                                        V = null
                                    }
                                    if (V) {
                                        t.next = 14;
                                        break
                                    }
                                    return t.next = 13,
                                    (0,
                                    N.getItem)(P);
                                case 13:
                                    V = t.sent;
                                case 14:
                                    return t.abrupt("return", G(V));
                                case 15:
                                case "end":
                                    return t.stop()
                                }
                        }
                        ), t)
                    }
                    ))),
                    _r.apply(this, arguments)
                }
                var Er, Sr, hr = P(455), Or = P.n(hr), vr = P(944), gr = L().mark(mr);
                Er = [4143],
                Sr = [138, 214, 307];
                var Tr = function(e, t) {
                    var r = Sr.includes(e) ? "c" : "r"
                      , n = (t || "").toLocaleLowerCase()
                      , a = "".concat((0,
                    N.getCDNUrl)(), "shopee-seller-live-sg/tsp/api/").concat(r, "_").concat(e, "_").concat(n, ".json");
                    return Se()(a).then(function() {
                        var e = M(L().mark((function e(t) {
                            return L().wrap((function(e) {
                                for (; ; )
                                    switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2,
                                        t.json();
                                    case 2:
                                        return e.abrupt("return", e.sent);
                                    case 3:
                                    case "end":
                                        return e.stop()
                                    }
                            }
                            ), e)
                        }
                        )));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }())
                };
                function mr(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.locale,
                                r = "live" === (0,
                                N.getRuntimeServer)() || "live-test" === (0,
                                N.getRuntimeServer)(),
                                n = new (Or())({
                                    name: "webchat"
                                }),
                                a = {},
                                s.next = 6,
                                n.create({
                                    locale: t,
                                    env: r ? "live" : "non-live",
                                    translation: {
                                        resources: Er,
                                        collections: Sr
                                    }
                                });
                            case 6:
                                if (o = s.sent,
                                a = o.translation,
                                !(0,
                                N.checkEmptyObject)(a)) {
                                    s.next = 15;
                                    break
                                }
                                return c = [],
                                Sr.concat(Er).forEach((function(e) {
                                    c.push(Tr(e, t))
                                }
                                )),
                                s.next = 13,
                                (0,
                                vr.all)(c);
                            case 13:
                                s.sent.forEach((function(e) {
                                    Object.assign(a, e)
                                }
                                ));
                            case 15:
                                return s.abrupt("return", a);
                            case 16:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), gr)
                }
                var br, yr = function(e) {
                    return e <= 100 ? 1 : e <= 500 ? 2 : e <= 1e3 ? 3 : 4
                }, Rr = function(e) {
                    return e.entityReducer
                }, Cr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.users
                }
                )), Ir = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.conversations
                }
                )), Ar = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.agentConversations
                }
                )), Dr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return function(e) {
                        return (0,
                        N.checkEmptyObject)(e) ? {} : e
                    }(e.messages)
                }
                )), Pr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.stickers
                }
                )), wr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.orders
                }
                )), xr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.products
                }
                )), Nr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.vouchers
                }
                )), kr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.messageShortcutsGroups
                }
                )), Ur = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.feedStories
                }
                )), Mr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.rateCards
                }
                )), jr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.shops
                }
                )), Lr = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.contacts
                }
                )), Fr = (0,
                Ye.createSelector)(Ir, Ar, (function(e, t) {
                    var r = Object.keys(e).length + Object.keys(t).length;
                    return yr(r)
                }
                )), Gr = (0,
                Ye.createSelector)(Dr, (function(e) {
                    return yr(Object.keys(e).length)
                }
                ));
                function Hr(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Vr(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Hr(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Hr(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                !function(e) {
                    e.UPDATE_ENTITIES = "UPDATE_ENTITIES",
                    e.UPDATE_RECORD = "UPDATE_RECORD",
                    e.DELETE_RECORD = "DELETE_RECORD",
                    e.BATCH_UPDATE_RECORD = "BATCH_UPDATE_RECORD"
                }(br || (br = {}));
                const Br = e({}, br.UPDATE_ENTITIES, (function(t, r) {
                    var n = r.payload.entities;
                    return Object.entries(n).reduce((function(t, r) {
                        var n = x(r, 2)
                          , a = n[0]
                          , o = n[1];
                        return "persist" !== a ? ("shops" === a && W.updateShopMap(o),
                        Vr(Vr({}, t), {}, e({}, a, Vr(Vr({}, t[a]), o)))) : Vr(Vr({}, t), {}, e({}, a, o))
                    }
                    ), t)
                }
                ));
                var Yr;
                function qr(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Qr(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? qr(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : qr(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                const Wr = (e(Yr = {}, br.UPDATE_RECORD, (function(t, r) {
                    var n = r.payload
                      , a = n.name
                      , o = n.id
                      , c = n.record;
                    return Qr(Qr({}, t), {}, e({}, a, Qr(Qr({}, t[a]), {}, e({}, o, Qr(Qr({}, t[a][o]), c)))))
                }
                )),
                e(Yr, br.DELETE_RECORD, (function(t, r) {
                    var n = r.payload
                      , a = n.name
                      , o = n.id
                      , c = t[a];
                    return delete c[o],
                    Qr(Qr({}, t), {}, e({}, a, c))
                }
                )),
                e(Yr, br.BATCH_UPDATE_RECORD, (function(t, r) {
                    var n = r.payload
                      , a = n.name
                      , o = n.records
                      , c = n.checkProp
                      , s = Qr({}, t[a]);
                    return Object.keys(o).forEach((function(e) {
                        (!c || c && o[e][c] > s[e][c]) && (s[e] = Qr(Qr({}, s[e]), o[e]))
                    }
                    )),
                    Qr(Qr({}, t), {}, e({}, a, s))
                }
                )),
                Yr);
                var Kr, zr = (0,
                He.createActions)((e(Kr = {}, br.UPDATE_ENTITIES, (function(e) {
                    return {
                        entities: e.entities
                    }
                }
                )),
                e(Kr, br.UPDATE_RECORD, (function(e) {
                    return {
                        name: e.name,
                        id: e.id,
                        record: e.record
                    }
                }
                )),
                e(Kr, br.DELETE_RECORD, (function(e) {
                    return {
                        name: e.name,
                        id: e.id
                    }
                }
                )),
                e(Kr, br.BATCH_UPDATE_RECORD, (function(e) {
                    return {
                        name: e.name,
                        records: e.records,
                        checkProp: e.checkProp
                    }
                }
                )),
                Kr)), Jr = zr.updateEntities, Xr = zr.updateRecord, $r = zr.deleteRecord, Zr = zr.batchUpdateRecord;
                function en(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function tn(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? en(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : en(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var rn, nn, an, on = (0,
                He.handleActions)(tn(tn({}, Br), Wr), {
                    users: {},
                    messages: {},
                    conversations: {},
                    agentConversations: {},
                    stickers: {},
                    orders: {},
                    offers: {},
                    products: {},
                    shops: {},
                    rateCards: {},
                    feedStories: {},
                    persist: null,
                    vouchers: {},
                    messageShortcutsGroups: {},
                    contacts: {}
                }), cn = function(e) {
                    return e.unreadCountReducer.shopsUnreadConversationCount
                }, sn = function(e) {
                    return e.unreadCountReducer.totalUnreadConversationsCount
                }, un = function(e) {
                    return e.unreadCountReducer.regionUnreadCount
                }, pn = function(e) {
                    return (0,
                    Ye.createSelector)(un, (function(t) {
                        return t[e]
                    }
                    ))
                }, dn = {
                    MARK_AS_READ: "markAsRead",
                    MARK_AS_UNREAD: "markASUnread",
                    CLOSE_CONVERSATION: "closeConversation",
                    RESTART_CONVERSATION: "restartConversation",
                    DELETE_CONVERSATION: "deleteConversation",
                    FORWARD_CONVERSATION: "forwardConversation",
                    RECEIVE_UNREADABLE_MESSAGE: "receiveUnreadableMessage",
                    REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT: "refreshTotalUnreadConversationCount",
                    REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT: "refreshShopsUnreadConversationsCount",
                    REFRESH_SINGLE_SHOP_UNREAD_CONVERSATION_COUNT: "refreshSingleShopUnreadConversationCount",
                    UPDATE_CONVERSATION: "updateConversation",
                    MESSAGE_QUEUE_UPDATE: "messageQueueUpdate",
                    MASS_READ: "mass_read",
                    MASS_UNREAD: "mass_unread",
                    MASS_CLOSE: "mass_close",
                    ACTIVE_CONVERSATION: "activeConversation",
                    CLEAR_CONVERSATION_COUNT: "clearConversationCount"
                };
                function ln(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function fn(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? ln(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ln(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                !function(e) {
                    e.UPDATE_UNREAD_COUNT = "UPDATE_UNREAD_COUNT",
                    e.UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT = "UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT",
                    e.UPDATE_SINGLE_SHOP_UNREAD_COUNT = "UPDATE_SINGLE_SHOP_UNREAD_COUNT",
                    e.UPDATE_SHOPS_UNREAD_CONVERSATIONS_COUNT = "UPDATE_SHOPS_UNREAD_CONVERSATIONS_COUNT",
                    e.UPDATE_REGION_UNREAD_COUNT = "UPDATE_REGION_UNREAD_COUNT"
                }(rn || (rn = {}));
                var _n = L().mark(Cn)
                  , En = L().mark(In)
                  , Sn = L().mark(An)
                  , hn = L().mark(Dn)
                  , On = L().mark(Pn)
                  , vn = L().mark(wn)
                  , gn = (0,
                He.createActions)((e(nn = {}, rn.UPDATE_UNREAD_COUNT, (function(e) {
                    return {
                        type: e.type,
                        conversation: e.conversation,
                        messageQueueUpdate: e.messageQueueUpdate,
                        shopId: e.shopId,
                        shopIds: e.shopIds,
                        source: e.source,
                        count: e.count,
                        shopRegion: e.shopRegion
                    }
                }
                )),
                e(nn, rn.UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT, (function(e) {
                    return {
                        count: e.count
                    }
                }
                )),
                e(nn, rn.UPDATE_SINGLE_SHOP_UNREAD_COUNT, (function(e) {
                    return {
                        shopId: e.shopId,
                        num: e.num,
                        action: e.action
                    }
                }
                )),
                e(nn, rn.UPDATE_SHOPS_UNREAD_CONVERSATIONS_COUNT, (function(e) {
                    return {
                        shopUnreadCounts: e.shopUnreadCounts
                    }
                }
                )),
                e(nn, rn.UPDATE_REGION_UNREAD_COUNT, (function(e) {
                    return {
                        regionUnreadCount: e.regionUnreadCount,
                        regionUnreadIncreaseCounts: e.regionUnreadIncreaseCounts,
                        num: e.num,
                        action: e.action,
                        shopRegion: e.shopRegion
                    }
                }
                )),
                nn))
                  , Tn = gn.updateUnreadCount
                  , mn = gn.updateTotalUnreadConversationsCount
                  , bn = gn.updateSingleShopUnreadCount
                  , yn = gn.updateShopsUnreadConversationsCount
                  , Rn = gn.updateRegionUnreadCount;
                function Cn(e, t) {
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return r.next = 2,
                                (0,
                                vr.put)(Xr({
                                    name: "conversations",
                                    id: e,
                                    record: {
                                        unread_count: t
                                    }
                                }));
                            case 2:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), _n)
                }
                function In(e) {
                    var t, r, n, a, o, c, s, i;
                    return L().wrap((function(u) {
                        for (; ; )
                            switch (u.prev = u.next) {
                            case 0:
                                return t = e.source,
                                u.prev = 1,
                                r = t === N.UnreadSource.PRELOAD,
                                n = t ? {
                                    _s: t
                                } : {},
                                u.next = 6,
                                (0,
                                vr.call)(fr, {
                                    shared: !r,
                                    parent: "conversation",
                                    resource: "unread-count",
                                    params: n
                                });
                            case 6:
                                return a = u.sent,
                                o = a.total_unread_count,
                                c = a.region_unread_count,
                                u.next = 11,
                                (0,
                                vr.put)(mn({
                                    count: o
                                }));
                            case 11:
                                return u.next = 13,
                                (0,
                                vr.put)(Rn({
                                    regionUnreadCount: c
                                }));
                            case 13:
                                return u.next = 15,
                                (0,
                                vr.select)(na);
                            case 15:
                                s = u.sent,
                                i = {
                                    web_version: (0,
                                    N.getRuntimeVersion)()
                                },
                                s && (o > 0 ? (i.all_region_has_unread_convo = !0,
                                i.all_region_unread_convo_cnt = o) : i.all_region_has_unread_convo = !1),
                                r && zP({
                                    operation: N.TrackerOperation.VIEW,
                                    trackerName: "viewPage",
                                    data: i
                                }),
                                u.next = 23;
                                break;
                            case 21:
                                u.prev = 21,
                                u.t0 = u.catch(1);
                            case 23:
                            case "end":
                                return u.stop()
                            }
                    }
                    ), En, null, [[1, 21]])
                }
                function An(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.shopIds,
                                r = e.source,
                                n = {
                                    shop_ids: JSON.stringify(t)
                                },
                                r && (n._s = r),
                                s.next = 5,
                                (0,
                                vr.call)(fr, {
                                    parent: "conversation",
                                    resource: "unread-counts",
                                    params: n
                                });
                            case 5:
                                return a = s.sent,
                                o = a["unread-counts"],
                                c = void 0 === o ? [] : o,
                                s.next = 10,
                                (0,
                                vr.put)(yn({
                                    shopUnreadCounts: c
                                }));
                            case 10:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), Sn)
                }
                function Dn(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h;
                    return L().wrap((function(O) {
                        for (; ; )
                            switch (O.prev = O.next) {
                            case 0:
                                return t = e.shopId,
                                r = e.source,
                                O.prev = 1,
                                O.next = 4,
                                (0,
                                vr.select)((function(e) {
                                    return e.entityReducer
                                }
                                ));
                            case 4:
                                if (n = O.sent,
                                a = n.shops,
                                !(o = void 0 === a ? {} : a) || o[t]) {
                                    O.next = 18;
                                    break
                                }
                                return O.next = 10,
                                (0,
                                vr.call)(av, {
                                    payload: {
                                        shopId: t
                                    }
                                });
                            case 10:
                                return O.next = 12,
                                (0,
                                vr.select)((function(e) {
                                    return e.entityReducer
                                }
                                ));
                            case 12:
                                s = O.sent,
                                i = s.shops,
                                u = i[t],
                                c = [{
                                    shop_id: t,
                                    total_unread_count: u.unreadCount
                                }],
                                O.next = 33;
                                break;
                            case 18:
                                return p = r ? {
                                    shop_id: t,
                                    _s: r
                                } : {
                                    shop_id: t
                                },
                                O.next = 21,
                                (0,
                                vr.select)((function(e) {
                                    return e.entityReducer
                                }
                                ));
                            case 21:
                                return d = O.sent,
                                l = d.shops,
                                O.next = 25,
                                (0,
                                vr.call)(fr, {
                                    parent: "conversation",
                                    resource: "unread-count",
                                    params: p
                                });
                            case 25:
                                return f = O.sent,
                                _ = f.total_unread_count,
                                E = fn(fn({}, E = l[t]), {}, {
                                    unreadCount: _
                                }),
                                S = C("shops", E),
                                h = S.entities,
                                O.next = 32,
                                (0,
                                vr.put)(Jr({
                                    entities: h
                                }));
                            case 32:
                                c = [{
                                    shop_id: t,
                                    total_unread_count: _
                                }];
                            case 33:
                                return O.next = 35,
                                (0,
                                vr.put)(yn({
                                    shopUnreadCounts: c
                                }));
                            case 35:
                                O.next = 39;
                                break;
                            case 37:
                                O.prev = 37,
                                O.t0 = O.catch(1);
                            case 39:
                            case "end":
                                return O.stop()
                            }
                    }
                    ), hn, null, [[1, 37]])
                }
                function Pn(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T;
                    return L().wrap((function(m) {
                        for (; ; )
                            switch (m.prev = m.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.conversation,
                                a = void 0 === n ? {} : n,
                                o = t.shopId,
                                c = t.shopIds,
                                s = t.messageQueueUpdate,
                                i = t.source,
                                u = t.count,
                                p = t.shopRegion,
                                d = a.id,
                                l = a.unread_count,
                                f = a.shop_id,
                                _ = a.shop_region,
                                m.next = 4,
                                (0,
                                vr.select)(sn);
                            case 4:
                                E = m.sent,
                                m.t0 = r,
                                m.next = m.t0 === dn.FORWARD_CONVERSATION || m.t0 === dn.CLOSE_CONVERSATION || m.t0 === dn.DELETE_CONVERSATION || m.t0 === dn.UPDATE_CONVERSATION ? 8 : m.t0 === dn.CLEAR_CONVERSATION_COUNT || m.t0 === dn.MARK_AS_READ ? 18 : m.t0 === dn.ACTIVE_CONVERSATION ? 28 : m.t0 === dn.MARK_AS_UNREAD ? 35 : m.t0 === dn.RECEIVE_UNREADABLE_MESSAGE ? 44 : m.t0 === dn.RESTART_CONVERSATION || m.t0 === dn.REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT ? 54 : m.t0 === dn.REFRESH_SINGLE_SHOP_UNREAD_CONVERSATION_COUNT ? 57 : m.t0 === dn.REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT ? 60 : m.t0 === dn.MESSAGE_QUEUE_UPDATE ? 63 : m.t0 === dn.MASS_READ ? 76 : m.t0 === dn.MASS_UNREAD ? 84 : m.t0 === dn.MASS_CLOSE ? 92 : 100;
                                break;
                            case 8:
                                if (0 === l) {
                                    m.next = 17;
                                    break
                                }
                                return m.next = 11,
                                (0,
                                vr.put)(mn({
                                    count: E - 1
                                }));
                            case 11:
                                return m.next = 13,
                                (0,
                                vr.call)(Cn, d, 0);
                            case 13:
                                return m.next = 15,
                                (0,
                                vr.put)(bn({
                                    shopId: f,
                                    num: 1,
                                    action: "decrease"
                                }));
                            case 15:
                                return m.next = 17,
                                (0,
                                vr.put)(Rn({
                                    num: 1,
                                    action: "decrease",
                                    shopRegion: _
                                }));
                            case 17:
                            case 27:
                            case 34:
                            case 43:
                            case 53:
                            case 56:
                            case 59:
                            case 62:
                            case 75:
                            case 83:
                            case 91:
                            case 99:
                            case 100:
                                return m.abrupt("break", 101);
                            case 18:
                                if (!(l > 0)) {
                                    m.next = 27;
                                    break
                                }
                                return m.next = 21,
                                (0,
                                vr.put)(mn({
                                    count: E - 1
                                }));
                            case 21:
                                return m.next = 23,
                                (0,
                                vr.call)(Cn, d, 0);
                            case 23:
                                return m.next = 25,
                                (0,
                                vr.put)(bn({
                                    shopId: f,
                                    num: 1,
                                    action: "decrease"
                                }));
                            case 25:
                                return m.next = 27,
                                (0,
                                vr.put)(Rn({
                                    num: 1,
                                    action: "decrease",
                                    shopRegion: _
                                }));
                            case 28:
                                return m.next = 30,
                                (0,
                                vr.put)(mn({
                                    count: E + 1
                                }));
                            case 30:
                                return m.next = 32,
                                (0,
                                vr.put)(bn({
                                    shopId: f,
                                    num: 1,
                                    action: "increase"
                                }));
                            case 32:
                                return m.next = 34,
                                (0,
                                vr.put)(Rn({
                                    num: 1,
                                    action: "increase",
                                    shopRegion: _
                                }));
                            case 35:
                                return m.next = 37,
                                (0,
                                vr.put)(mn({
                                    count: E + 1
                                }));
                            case 37:
                                return m.next = 39,
                                (0,
                                vr.call)(Cn, d, l + 1);
                            case 39:
                                return m.next = 41,
                                (0,
                                vr.put)(bn({
                                    shopId: f,
                                    num: 1,
                                    action: "increase"
                                }));
                            case 41:
                                return m.next = 43,
                                (0,
                                vr.put)(Rn({
                                    num: 1,
                                    action: "increase",
                                    shopRegion: _
                                }));
                            case 44:
                                if (0 !== l) {
                                    m.next = 51;
                                    break
                                }
                                return m.next = 47,
                                (0,
                                vr.put)(mn({
                                    count: E + 1
                                }));
                            case 47:
                                return m.next = 49,
                                (0,
                                vr.put)(bn({
                                    shopId: f,
                                    num: 1,
                                    action: "increase"
                                }));
                            case 49:
                                return m.next = 51,
                                (0,
                                vr.put)(Rn({
                                    num: 1,
                                    action: "increase",
                                    shopRegion: _
                                }));
                            case 51:
                                return m.next = 53,
                                (0,
                                vr.call)(Cn, d, l + 1);
                            case 54:
                                return m.next = 56,
                                (0,
                                vr.call)(In, {
                                    source: i
                                });
                            case 57:
                                return m.next = 59,
                                (0,
                                vr.call)(Dn, {
                                    shopId: o,
                                    source: i
                                });
                            case 60:
                                return m.next = 62,
                                An({
                                    shopIds: c,
                                    source: i
                                });
                            case 63:
                                return h = (S = s).totalIncrease,
                                O = S.shopsIncrease,
                                m.next = 66,
                                (0,
                                vr.select)(cn);
                            case 66:
                                return v = m.sent,
                                g = O.map((function(e) {
                                    var t = e.shopId
                                      , r = e.num;
                                    return {
                                        shop_id: t,
                                        total_unread_count: (v[t] || 0) + r
                                    }
                                }
                                )),
                                T = O.map((function(e) {
                                    return {
                                        increase_num: e.num,
                                        shop_region: e.shopRegion
                                    }
                                }
                                )),
                                m.next = 71,
                                (0,
                                vr.put)(yn({
                                    shopUnreadCounts: g
                                }));
                            case 71:
                                return m.next = 73,
                                (0,
                                vr.put)(Rn({
                                    regionUnreadIncreaseCounts: T
                                }));
                            case 73:
                                return m.next = 75,
                                (0,
                                vr.put)(mn({
                                    count: E + h
                                }));
                            case 76:
                                if (!o) {
                                    m.next = 79;
                                    break
                                }
                                return m.next = 79,
                                (0,
                                vr.put)(bn({
                                    shopId: o,
                                    num: u,
                                    action: "decrease"
                                }));
                            case 79:
                                return m.next = 81,
                                (0,
                                vr.put)(Rn({
                                    num: u,
                                    action: "decrease",
                                    shopRegion: p
                                }));
                            case 81:
                                return m.next = 83,
                                (0,
                                vr.put)(mn({
                                    count: E - u
                                }));
                            case 84:
                                if (!o) {
                                    m.next = 87;
                                    break
                                }
                                return m.next = 87,
                                (0,
                                vr.put)(bn({
                                    shopId: o,
                                    num: u,
                                    action: "increase"
                                }));
                            case 87:
                                return m.next = 89,
                                (0,
                                vr.put)(Rn({
                                    num: u,
                                    action: "increase",
                                    shopRegion: p
                                }));
                            case 89:
                                return m.next = 91,
                                (0,
                                vr.put)(mn({
                                    count: E + u
                                }));
                            case 92:
                                if (!o) {
                                    m.next = 95;
                                    break
                                }
                                return m.next = 95,
                                (0,
                                vr.put)(bn({
                                    shopId: o,
                                    num: u,
                                    action: "decrease"
                                }));
                            case 95:
                                return m.next = 97,
                                (0,
                                vr.put)(Rn({
                                    num: u,
                                    action: "decrease",
                                    shopRegion: p
                                }));
                            case 97:
                                return m.next = 99,
                                (0,
                                vr.put)(mn({
                                    count: E - u
                                }));
                            case 101:
                            case "end":
                                return m.stop()
                            }
                    }
                    ), On)
                }
                function wn() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Tn, Pn);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), vn)
                }
                const xn = (e(an = {}, rn.UPDATE_TOTAL_UNREAD_CONVERSATIONS_COUNT, (function(e, t) {
                    var r = t.payload.count;
                    return fn(fn({}, e), {}, {
                        totalUnreadConversationsCount: r < 0 ? 0 : r
                    })
                }
                )),
                e(an, rn.UPDATE_SHOPS_UNREAD_CONVERSATIONS_COUNT, (function(e, t) {
                    var r = t.payload.shopUnreadCounts
                      , n = void 0 === r ? [] : r;
                    if (!n.length)
                        return e;
                    var a = {};
                    return n.forEach((function(e) {
                        var t = e.shop_id
                          , r = e.total_unread_count;
                        a[t] = r
                    }
                    )),
                    fn(fn({}, e), {}, {
                        shopsUnreadConversationCount: fn(fn({}, e.shopsUnreadConversationCount), a)
                    })
                }
                )),
                e(an, rn.UPDATE_SINGLE_SHOP_UNREAD_COUNT, (function(t, r) {
                    var n = r.payload
                      , a = n.shopId
                      , o = n.num
                      , c = n.action
                      , s = t.shopsUnreadConversationCount[a] || 0;
                    switch (c) {
                    case "increase":
                        s += o;
                        break;
                    case "decrease":
                        s -= o
                    }
                    return s < 0 && (s = 0),
                    fn(fn({}, t), {}, {
                        shopsUnreadConversationCount: fn(fn({}, t.shopsUnreadConversationCount), {}, e({}, a, s))
                    })
                }
                )),
                e(an, rn.UPDATE_REGION_UNREAD_COUNT, (function(t, r) {
                    var n, a = r.payload, o = a.regionUnreadCount, c = void 0 === o ? {} : o, s = a.regionUnreadIncreaseCounts, i = void 0 === s ? [] : s, u = a.num, p = void 0 === u ? 0 : u, d = a.action, l = a.shopRegion, f = t.regionUnreadCount;
                    switch (d) {
                    case "increase":
                        n = f[l] + p;
                        break;
                    case "decrease":
                        n = f[l] - p > 0 ? f[l] - p : 0
                    }
                    i.length && i.forEach((function(e) {
                        var t = e.increase_num
                          , r = e.shop_region;
                        f[r] += t
                    }
                    ));
                    var _ = fn(fn({}, t), {}, {
                        regionUnreadCount: fn(fn(fn({}, t.regionUnreadCount), f), c)
                    });
                    return l && (_.regionUnreadCount = fn(fn({}, _.regionUnreadCount), {}, e({}, l, n))),
                    _
                }
                )),
                an);
                function Nn(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var kn, Un = [wn], Mn = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Nn(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Nn(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, xn), {
                    shopsUnreadConversationCount: {},
                    regionUnreadCount: {},
                    totalUnreadConversationsCount: 0
                }), jn = function(e) {
                    return e.userReducer.loading
                }, Ln = function(e) {
                    return e.userReducer.currentUserId
                }, Fn = function(e) {
                    return e.userReducer.newbie
                }, Gn = function(e) {
                    return e.userReducer.networkStatus
                }, Hn = function(e) {
                    return e.userReducer.hasVideoPermission
                }, Vn = function(e) {
                    return e.userReducer.hasReplyPermission
                }, Bn = function(e) {
                    return e.userReducer.hasDeletePermission
                }, Yn = function(e) {
                    return e.userReducer.deleteConfigDuration
                }, qn = function(e) {
                    var t = e.userReducer;
                    return {
                        hasDeletePermission: t.hasDeletePermission,
                        deleteConfigVersion: t.deleteConfigVersion,
                        deleteConfigDuration: t.deleteConfigDuration
                    }
                }, Qn = function(e) {
                    return e.userReducer.captchaVisible
                }, Wn = function(e) {
                    return e.userReducer.captchaSignature
                }, Kn = function(e) {
                    return e.userReducer.resendMessagePayload
                }, zn = function(e) {
                    return e.userReducer.newMessageFlag
                }, Jn = function(e) {
                    return (0,
                    Ye.createSelector)(Rr, (function(r) {
                        return (0,
                        t.denormalize)(e, o, {
                            users: r
                        })
                    }
                    ))
                }, Xn = (0,
                Ye.createSelector)(Cr, Ln, (function(e, r) {
                    return (0,
                    t.denormalize)(r, o, {
                        users: e
                    }) || {}
                }
                )), $n = (0,
                Ye.createSelector)(Xn, (function(e) {
                    return e && e.locale
                }
                )), Zn = (0,
                Ye.createSelector)(Xn, (function(e) {
                    return !(0,
                    N.checkEmptyObject)(e) && e.type === N.AccountType.SUBACCOUNT
                }
                )), ea = (0,
                Ye.createSelector)(Xn, (function(e) {
                    return !(0,
                    N.checkEmptyObject)(e) && e.is_cb
                }
                )), ta = function(e) {
                    return e.userReducer.shopStatisticsMap
                }, ra = function(e, t) {
                    return (0,
                    Ye.createSelector)(ta, (function(r) {
                        return r["".concat(e, "-").concat(t)] || {}
                    }
                    ))
                }, na = (0,
                Ye.createSelector)(Zn, ea, (function(e, t) {
                    return e && t
                }
                )), aa = function(e) {
                    return e.userReducer.capacity
                }, oa = function(e) {
                    return e.userReducer.validConversationCount
                }, ca = (0,
                Ye.createSelector)(Xn, Zn, (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                      , t = arguments.length > 1 ? arguments[1] : void 0;
                    return t ? void 0 : e.shop_id
                }
                )), sa = (0,
                Ye.createSelector)(Xn, Zn, jr, (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                      , r = arguments.length > 1 ? arguments[1] : void 0
                      , n = arguments.length > 2 ? arguments[2] : void 0;
                    return r ? void 0 : (0,
                    t.denormalize)(e.shop_id, l, {
                        shops: n
                    }) || {}
                }
                )), ia = (0,
                Ye.createSelector)(Xn, (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return e.role || ""
                }
                )), ua = (0,
                Ye.createSelector)(Xn, (function(e) {
                    return e && e.distribution_status || ""
                }
                )), pa = function(e) {
                    return e.userReducer.isMainPage
                }, da = function(e) {
                    return e.userReducer.curTabFocused
                }, la = function(e) {
                    return e.userReducer.textBoxHeight
                }, fa = function(e) {
                    return e.userReducer.status
                }, _a = function(e) {
                    return e.userReducer.performance
                }, Ea = function(e) {
                    return e.userReducer.closeHangupTips
                }, Sa = function(e) {
                    return e.userReducer.translationGuide
                }, ha = function(e) {
                    return e.userReducer.regionFilterGuide
                }, Oa = function(e) {
                    return e.userReducer.feedbackClassification
                }, va = (0,
                Ye.createSelector)(Xn, (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return e.authorizedShopsCount || 0
                }
                )), ga = function(e) {
                    return e.userReducer.showAutoHangupModal
                };
                !function(e) {
                    e.BLOCK_USER_REQUESTED = "BLOCK_USER_REQUESTED",
                    e.CHECK_USER_PERMISSION_REQUESTED = "CHECK_USER_PERMISSION_REQUESTED",
                    e.CHECK_USER_PERMISSION_SUCCEEDED = "CHECK_USER_PERMISSION_SUCCEEDED",
                    e.CLOSE_HANGUP_TIPS_REQUESTED = "CLOSE_HANGUP_TIPS_REQUESTED",
                    e.SEND_FEEDBACK_REQUESTED = "SEND_FEEDBACK_REQUESTED",
                    e.GET_GUIDE_REQUESTED = "GET_GUIDE_REQUESTED",
                    e.GET_GUIDE_SUCCEEDED = "GET_GUIDE_SUCCEEDED",
                    e.GET_GUIDE_FAILED = "GET_GUIDE_FAILED",
                    e.SHOW_LOADING_SUCCEEDED = "SHOW_LOADING_SUCCEEDED",
                    e.SET_HAS_SESSION = "SET_HAS_SESSION",
                    e.SHOW_USER_REQUESTED = "SHOW_USER_REQUESTED",
                    e.FETCH_USER_ORDER_DETAIL_REQUESTED = "FETCH_USER_ORDER_DETAIL_REQUESTED",
                    e.FETCH_USER_ORDER_DETAIL_SUCCEEDED = "FETCH_USER_ORDER_DETAIL_SUCCEEDED",
                    e.FETCH_USER_PERFORMANCE_REQUESTED = "FETCH_USER_PERFORMANCE_REQUESTED",
                    e.FETCH_USER_PERFORMANCE_SUCCEED = "FETCH_USER_PERFORMANCE_SUCCEED",
                    e.UPDATE_USER_REQUESTED = "UPDATE_USER_REQUESTED",
                    e.UPDATE_NETWORK_STATUS = "UPDATE_NETWORK_STATUS",
                    e.UPDATE_CUR_TAB_FOCUSED = "UPDATE_CUR_TAB_FOCUSED",
                    e.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED = "UPDATE_CUR_TAB_FOCUSED_SUCCEEDED",
                    e.UPDATE_WORKSTATION_PANEL = "UPDATE_WORKSTATION_PANEL",
                    e.UPDATE_NEW_MESSAGE_FLAG = "UPDATE_NEW_MESSAGE_FLAG",
                    e.UPDATE_CHAT_WINDOW_STATUS = "UPDATE_CHAT_WINDOW_STATUS",
                    e.UPDATE_CHAT_WINDOW_STATUS_SUCCEEDED = "UPDATE_CHAT_WINDOW_STATUS_SUCCEEDED",
                    e.UPDATE_CONVERSATION_DETAIL_STATUS = "UPDATE_CONVERSATION_DETAIL_STATUS",
                    e.UPDATE_CONVERSATION_DETAIL_STATUS_SUCCEEDED = "UPDATE_CONVERSATION_DETAIL_STATUS_SUCCEEDED",
                    e.UPDATE_OPENED_MENU = "UPDATE_OPENED_MENU",
                    e.SET_CHAT_SOURCE = "SET_CHAT_SOURCE",
                    e.UPDATE_LOGIN_SUCCESS_STATUS = "UPDATE_LOGIN_SUCCESS_STATUS",
                    e.UPDATE_SOCKET_SUCCESS_STATUS = "UPDATE_SOCKET_SUCCESS_STATUS",
                    e.UPDATE_CHAT_ENTRY_STATUS = "UPDATE_CHAT_ENTRY_STATUS",
                    e.UPDATE_GUIDE_REQUESTED = "UPDATE_GUIDE_REQUESTED",
                    e.UPDATE_GUIDE_SUCCEEDED = "UPDATE_GUIDE_SUCCEEDED",
                    e.LOGIN_REQUESTED = "LOGIN_REQUESTED",
                    e.LOGIN_SUCCEEDED = "LOGIN_SUCCEEDED",
                    e.LOGOUT_REQUESTED = "LOGOUT_REQUESTED",
                    e.LOGOUT_SUCCEEDED = "LOGOUT_SUCCEEDED",
                    e.UPDATE_LOGIN_STATUS = "UPDATE_LOGIN_STATUS",
                    e.SHOW_TRANSLATION_GUIDE = "SHOW_TRANSLATION_GUIDE",
                    e.SHOW_REGION_FILTER_GUIDE = "SHOW_REGION_FILTER_GUIDE",
                    e.FORCE_LOGOUT_REQUESTED = "FORCE_LOGOUT_REQUESTED",
                    e.CONNECT_SOCKET = "CONNECT_SOCKET",
                    e.REPORT_ASYNC_TASK = "REPORT_ASYNC_TASK",
                    e.UPLOAD_FEEDBACK_VIDEO_REQUESTED = "UPLOAD_FEEDBACK_VIDEO_REQUESTED",
                    e.UPLOAD_FEEDBACK_VIDEO_STATUS = "UPLOAD_FEEDBACK_VIDEO_STATUS",
                    e.UPDATE_CAPTCHA_VISIBLE = "UPDATE_CAPTCHA_VISIBLE",
                    e.UPDATE_CAPTCHA_SIGNATURE = "UPDATE_CAPTCHA_SIGNATURE",
                    e.UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED = "UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED",
                    e.SET_TEXT_BOX_HEIGHT = "SET_TEXT_BOX_HEIGHT",
                    e.UPDATE_RELATED_CAPACITY = "UPDATE_RELATED_CAPACITY",
                    e.UPDATE_IS_MAIN_PAGE = "UPDATE_IS_MAIN_PAGE",
                    e.UPDATE_DEL_PERMISSION = "UPDATE_DEL_PERMISSION",
                    e.GET_FEEDBACK_CLASSIFICATION_REQUESTED = "GET_FEEDBACK_CLASSIFICATION_REQUESTED",
                    e.GET_CLASSIFICATION_SUCCEED = "GET_CLASSIFICATION_SUCCEED",
                    e.UPDATE_SHOW_AUTO_HANGUP_MODAL = "UPDATE_SHOW_AUTO_HANGUP_MODAL"
                }(kn || (kn = {}));
                var Ta, ma, ba = P(439).t, ya = L().mark(Pa), Ra = L().mark(wa), Ca = (0,
                He.createActions)(e({}, kn.BLOCK_USER_REQUESTED, (function(e) {
                    var t = e.buyerName
                      , r = e.buyerId
                      , n = e.block;
                    return {
                        buyerName: t,
                        buyerId: r,
                        block: void 0 === n || n,
                        shopId: e.shopId,
                        conversationId: e.conversationId
                    }
                }
                ))), Ia = Ca.blockUserRequested, Aa = function(e) {
                    return {
                        type: "CONFIRM_MODAL",
                        title: {
                            key: "conversation_detail.workstation.block_fail_modal.title",
                            vars: {
                                username: e
                            }
                        },
                        actions: {
                            confirm: {
                                label: {
                                    key: "common.confirm"
                                }
                            }
                        }
                    }
                }, Da = function(e, t, r) {
                    return {
                        toast: {
                            show: !0,
                            type: e ? "fail" : "warn",
                            message: e ? ba("common.server_error.warning_tips") : ba("conversation_detail.".concat(t ? "blocked" : "unblocked"), {
                                username: r
                            })
                        }
                    }
                };
                function Pa(e) {
                    var t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return t = e.payload,
                                r = t.buyerName,
                                n = t.buyerId,
                                a = t.block,
                                o = t.shopId,
                                c = t.conversationId,
                                i.prev = 1,
                                s = a ? "PUT" : "DELETE",
                                i.next = 5,
                                (0,
                                vr.call)(fr, {
                                    method: s,
                                    parent: "user",
                                    resource: "blocks",
                                    id: n,
                                    params: {
                                        shop_id: o
                                    }
                                });
                            case 5:
                                return i.next = 7,
                                (0,
                                vr.put)(Gv(Da(!1, a, r)));
                            case 7:
                                return i.next = 9,
                                (0,
                                vr.put)(Xr({
                                    name: "users",
                                    id: n,
                                    record: {
                                        is_blocked: a
                                    }
                                }));
                            case 9:
                                return i.next = 11,
                                (0,
                                vr.put)(Xr({
                                    name: "conversations",
                                    id: c,
                                    record: {
                                        is_blocked: a
                                    }
                                }));
                            case 11:
                            case 18:
                                i.next = 22;
                                break;
                            case 13:
                                if (i.prev = 13,
                                i.t0 = i.catch(1),
                                !(i.t0 instanceof ot && a && i.t0.handler().message)) {
                                    i.next = 20;
                                    break
                                }
                                return i.next = 18,
                                (0,
                                vr.put)(ze(Aa(r)));
                            case 20:
                                return i.next = 22,
                                (0,
                                vr.put)(Gv(Da(!0)));
                            case 22:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), ya, null, [[1, 13]])
                }
                function wa() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Ia, Pa);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Ra)
                }
                function xa(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Na(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? xa(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : xa(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var ka = L().mark(Ga)
                  , Ua = L().mark(Ha)
                  , Ma = (0,
                He.createActions)((e(Ta = {}, kn.GET_GUIDE_REQUESTED, (function(e) {
                    return {
                        userId: e.userId,
                        version: e.version
                    }
                }
                )),
                e(Ta, kn.GET_GUIDE_SUCCEEDED, (function(e) {
                    return {
                        newbie: e.newbie
                    }
                }
                )),
                e(Ta, kn.GET_GUIDE_FAILED, (function() {
                    return {}
                }
                )),
                Ta))
                  , ja = Ma.getGuideRequested
                  , La = Ma.getGuideSucceeded
                  , Fa = Ma.getGuideFailed;
                function Ga() {
                    var e, t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return n.prev = 0,
                                e = [0, 3],
                                n.next = 4,
                                (0,
                                vr.call)(fr, {
                                    resource: "newbie",
                                    suffix: "uncompleted",
                                    params: {
                                        chat_types: "[".concat(e.join(","), "]")
                                    }
                                });
                            case 4:
                                return t = n.sent,
                                r = t.newbie,
                                n.next = 8,
                                (0,
                                vr.put)(La({
                                    newbie: r
                                }));
                            case 8:
                                return n.abrupt("return", r);
                            case 11:
                                return n.prev = 11,
                                n.t0 = n.catch(0),
                                n.next = 15,
                                (0,
                                vr.put)(Fa());
                            case 15:
                                return n.abrupt("return", []);
                            case 16:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), ka, null, [[0, 11]])
                }
                function Ha() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(ja, Ga);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Ua)
                }
                const Va = (e(ma = {}, kn.GET_GUIDE_SUCCEEDED, (function(e, t) {
                    var r = t.payload.newbie;
                    return Na(Na({}, e), {}, {
                        newbie: r
                    })
                }
                )),
                e(ma, kn.GET_GUIDE_FAILED, (function(e) {
                    return Na(Na({}, e), {}, {
                        newbie: []
                    })
                }
                )),
                ma);
                var Ba;
                function Ya(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function qa(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Ya(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Ya(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Qa = L().mark(Za)
                  , Wa = L().mark(eo);
                function Ka(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var r = 0, n = new Array(t); r < t; r++)
                        n[r] = e[r];
                    return n
                }
                var za = (0,
                He.createActions)((e(Ba = {}, kn.UPDATE_GUIDE_REQUESTED, (function(e) {
                    return {
                        newbieId: e.newbieId
                    }
                }
                )),
                e(Ba, kn.UPDATE_GUIDE_SUCCEEDED, (function(e) {
                    return {
                        newbie: e.newbie
                    }
                }
                )),
                Ba))
                  , Ja = za.updateGuideRequested
                  , Xa = za.updateGuideSucceeded;
                function $a(e, t) {
                    var r, n = _e(e), a = function(e, t) {
                        var r = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                        if (!r) {
                            if (Array.isArray(e) || (r = function(e, t) {
                                if (e) {
                                    if ("string" == typeof e)
                                        return Ka(e, t);
                                    var r = Object.prototype.toString.call(e).slice(8, -1);
                                    return "Object" === r && e.constructor && (r = e.constructor.name),
                                    "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? Ka(e, t) : void 0
                                }
                            }(e)) || t && e && "number" == typeof e.length) {
                                r && (e = r);
                                var n = 0
                                  , a = function() {};
                                return {
                                    s: a,
                                    n: function() {
                                        return n >= e.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: e[n++]
                                        }
                                    },
                                    e: function(e) {
                                        throw e
                                    },
                                    f: a
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var o, c = !0, s = !1;
                        return {
                            s: function() {
                                r = r.call(e)
                            },
                            n: function() {
                                var e = r.next();
                                return c = e.done,
                                e
                            },
                            e: function(e) {
                                s = !0,
                                o = e
                            },
                            f: function() {
                                try {
                                    c || null == r.return || r.return()
                                } finally {
                                    if (s)
                                        throw o
                                }
                            }
                        }
                    }(n);
                    try {
                        for (a.s(); !(r = a.n()).done; ) {
                            var o = r.value
                              , c = o.children.findIndex((function(e) {
                                return e.id === t
                            }
                            ));
                            if (-1 !== c) {
                                o.children.splice(c, 1);
                                break
                            }
                        }
                    } catch (e) {
                        a.e(e)
                    } finally {
                        a.f()
                    }
                    return n
                }
                function Za(e) {
                    var t, r, n;
                    return L().wrap((function(a) {
                        for (; ; )
                            switch (a.prev = a.next) {
                            case 0:
                                return t = e.payload.newbieId,
                                a.next = 3,
                                (0,
                                vr.select)(Fn);
                            case 3:
                                return r = a.sent,
                                n = $a(r, t),
                                a.next = 7,
                                (0,
                                vr.put)(Xa({
                                    newbie: n
                                }));
                            case 7:
                                return a.prev = 7,
                                a.next = 10,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    resource: "newbie",
                                    id: t
                                });
                            case 10:
                                a.next = 14;
                                break;
                            case 12:
                                a.prev = 12,
                                a.t0 = a.catch(7);
                            case 14:
                            case "end":
                                return a.stop()
                            }
                    }
                    ), Qa, null, [[7, 12]])
                }
                function eo() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Ja, Za);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Wa)
                }
                const to = e({}, kn.UPDATE_GUIDE_SUCCEEDED, (function(e, t) {
                    var r = t.payload.newbie;
                    return qa(qa({}, e), {}, {
                        newbie: r
                    })
                }
                ));
                var ro, no;
                function ao(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function oo(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? ao(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ao(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var co = L().mark(ho)
                  , so = L().mark(Oo)
                  , io = L().mark(vo)
                  , uo = (0,
                He.createActions)((e(ro = {}, kn.UPDATE_USER_REQUESTED, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(ro, kn.UPDATE_NETWORK_STATUS, (function(e) {
                    return {
                        networkStatus: e.networkStatus
                    }
                }
                )),
                e(ro, kn.FETCH_USER_ORDER_DETAIL_REQUESTED, (function(e) {
                    return {
                        userId: e.userId,
                        shopId: e.shopId
                    }
                }
                )),
                e(ro, kn.FETCH_USER_ORDER_DETAIL_SUCCEEDED, (function(e) {
                    return {
                        userId: e.userId,
                        shopId: e.shopId,
                        data: e.data
                    }
                }
                )),
                e(ro, kn.UPDATE_SHOW_AUTO_HANGUP_MODAL, (function(e) {
                    return {
                        showAutoHangupModal: e.showAutoHangupModal
                    }
                }
                )),
                e(ro, kn.UPDATE_RELATED_CAPACITY, (function(e) {
                    return {
                        capacity: e.capacity,
                        validConversationCount: e.validConversationCount
                    }
                }
                )),
                ro))
                  , po = uo.updateUserRequested
                  , lo = uo.updateNetworkStatus
                  , fo = uo.fetchUserOrderDetailRequested
                  , _o = uo.fetchUserOrderDetailSucceeded
                  , Eo = uo.updateShowAutoHangupModal
                  , So = uo.updateRelatedCapacity;
                function ho(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return t = e.payload.status,
                                r.prev = 1,
                                r.next = 4,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    resource: "user",
                                    payload: JSON.stringify({
                                        distribution_status: t
                                    })
                                });
                            case 4:
                                if ("working" !== t) {
                                    r.next = 8;
                                    break
                                }
                                return r.next = 8,
                                (0,
                                vr.put)(eD({
                                    event_time: (Date.parse(new Date + "") / 1e3).toString(),
                                    url: window.location.href
                                }));
                            case 8:
                                r.next = 14;
                                break;
                            case 10:
                                return r.prev = 10,
                                r.t0 = r.catch(1),
                                r.next = 14,
                                (0,
                                vr.put)(Gv({
                                    error: r.t0
                                }));
                            case 14:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), co, null, [[1, 10]])
                }
                function Oo(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.payload,
                                r = t.userId,
                                n = t.shopId,
                                o.prev = 1,
                                o.next = 4,
                                (0,
                                vr.call)(fr, {
                                    parent: "users",
                                    parentId: r,
                                    resource: "get_user_shop_statistics_info",
                                    params: {
                                        shop_id: n
                                    }
                                });
                            case 4:
                                return a = o.sent,
                                o.next = 7,
                                (0,
                                vr.put)(_o({
                                    userId: r,
                                    shopId: n,
                                    data: a
                                }));
                            case 7:
                                o.next = 11;
                                break;
                            case 9:
                                o.prev = 9,
                                o.t0 = o.catch(1);
                            case 11:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), so, null, [[1, 9]])
                }
                function vo() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(po, ho);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(fo, Oo);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), io)
                }
                const go = (e(no = {}, kn.UPDATE_NETWORK_STATUS, (function(e, t) {
                    var r = t.payload.networkStatus;
                    return oo(oo({}, e), {}, {
                        networkStatus: r
                    })
                }
                )),
                e(no, kn.FETCH_USER_ORDER_DETAIL_SUCCEEDED, (function(t, r) {
                    var n = r.payload
                      , a = n.userId
                      , o = n.shopId
                      , c = n.data
                      , s = "".concat(a, "-").concat(o)
                      , i = t.shopStatisticsMap;
                    return oo(oo({}, t), {}, {
                        shopStatisticsMap: oo(oo({}, i), {}, e({}, s, c))
                    })
                }
                )),
                e(no, kn.UPDATE_SHOW_AUTO_HANGUP_MODAL, (function(e, t) {
                    var r = t.payload.showAutoHangupModal;
                    return oo(oo({}, e), {}, {
                        showAutoHangupModal: r
                    })
                }
                )),
                e(no, kn.UPDATE_RELATED_CAPACITY, (function(e, t) {
                    var r = t.payload
                      , n = r.capacity
                      , a = r.validConversationCount
                      , o = {};
                    return void 0 !== n && (o.capacity = n),
                    void 0 !== a && (o.validConversationCount = a),
                    oo(oo({}, e), o)
                }
                )),
                no);
                var To, mo, bo = P(171), yo = P.n(bo), Ro = P(550), Co = P.n(Ro), Io = P(947), Ao = P.n(Io);
                function Do(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Po(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Do(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Do(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var wo = L().mark(Wo)
                  , xo = L().mark(zo)
                  , No = L().mark($o)
                  , ko = L().mark(nc)
                  , Uo = L().mark(ac)
                  , Mo = L().mark(oc)
                  , jo = L().mark(cc)
                  , Lo = (0,
                He.createActions)((e(To = {}, kn.LOGIN_REQUESTED, (function() {
                    return {}
                }
                )),
                e(To, kn.LOGIN_SUCCEEDED, (function(e) {
                    return {
                        currentUserId: e.currentUserId,
                        status: e.status
                    }
                }
                )),
                e(To, kn.LOGOUT_REQUESTED, (function() {
                    return {}
                }
                )),
                e(To, kn.LOGOUT_SUCCEEDED, (function() {
                    return {}
                }
                )),
                e(To, kn.UPDATE_LOGIN_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(To, kn.SHOW_TRANSLATION_GUIDE, (function(e) {
                    return {
                        translationGuide: e.translationGuide
                    }
                }
                )),
                e(To, kn.SHOW_REGION_FILTER_GUIDE, (function(e) {
                    return {
                        regionFilterGuide: e.regionFilterGuide
                    }
                }
                )),
                e(To, kn.FORCE_LOGOUT_REQUESTED, (function() {
                    return {}
                }
                )),
                To))
                  , Fo = Lo.loginRequested
                  , Go = Lo.loginSucceeded
                  , Ho = Lo.logoutRequested
                  , Vo = Lo.logoutSucceeded
                  , Bo = Lo.updateLoginStatus
                  , Yo = Lo.showTranslationGuide
                  , qo = Lo.showRegionFilterGuide
                  , Qo = Lo.forceLogoutRequested;
                function Wo(e) {
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2,
                                (0,
                                vr.call)(N.getItem, e);
                            case 2:
                                if (t.sent) {
                                    t.next = 6;
                                    break
                                }
                                return t.next = 6,
                                (0,
                                vr.call)(N.setItem, e, yo()());
                            case 6:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), wo)
                }
                var Ko = function(e) {
                    return e instanceof rt ? "InternalServerError" : e instanceof nt ? "Forbidden" : e instanceof Ze ? "Unauthoried" : "Other"
                };
                function zo() {
                    var e, t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return e = (0,
                                N.getTranslationLocale)((0,
                                N.getRuntimeLocale)()),
                                r.next = 3,
                                (0,
                                vr.call)(mr, {
                                    locale: e
                                });
                            case 3:
                                return t = r.sent,
                                r.next = 6,
                                (0,
                                vr.call)(N.changeLanguage, e, t);
                            case 6:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), xo)
                }
                var Jo = L().mark((function e(t) {
                    var r, n;
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return n = (0,
                                N.getTranslationLocale)(t),
                                e.prev = 1,
                                e.next = 4,
                                (0,
                                vr.call)(mr, {
                                    locale: n
                                });
                            case 4:
                                r = e.sent,
                                e.next = 12;
                                break;
                            case 7:
                                return e.prev = 7,
                                e.t0 = e.catch(1),
                                e.next = 11,
                                (0,
                                vr.call)(mr, {
                                    locale: (0,
                                    N.getTranslationLocale)((0,
                                    N.getRuntimeLocale)())
                                });
                            case 11:
                                r = e.sent;
                            case 12:
                                return e.next = 14,
                                (0,
                                vr.call)(N.changeLanguage, n, r);
                            case 14:
                                return e.next = 16,
                                (0,
                                vr.call)(N.updateTimeLocale, (0,
                                N.getServiceLocale)(t));
                            case 16:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), e, null, [[1, 7]])
                }
                ))
                  , Xo = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    if (t) {
                        var r = (0,
                        N.checkReplyGuide)(e);
                        r && F.store.dispatch(ze({
                            type: "REPLY_GUIDE_MODAL",
                            actions: {
                                cancel: {
                                    handler: function() {
                                        F.store.dispatch(Ja({
                                            newbieId: r.id
                                        }))
                                    }
                                }
                            }
                        }))
                    }
                };
                function $o(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return o.next = 2,
                                (0,
                                vr.call)(BT);
                            case 2:
                                return t = o.sent,
                                o.next = 5,
                                (0,
                                vr.call)(Ga);
                            case 5:
                                return r = o.sent,
                                o.next = 8,
                                (0,
                                vr.select)(Vn);
                            case 8:
                                if (n = o.sent,
                                "no_permission" === t.auto_translation_status) {
                                    o.next = 22;
                                    break
                                }
                                return a = (0,
                                N.checkTranslationGuilde)(r),
                                o.next = 14,
                                (0,
                                vr.put)(Yo({
                                    translationGuide: !!a
                                }));
                            case 14:
                                if (!a) {
                                    o.next = 19;
                                    break
                                }
                                return o.next = 17,
                                (0,
                                vr.put)(ze({
                                    type: "AUTO_TRANSLATE_MODAL",
                                    actions: {
                                        cancel: {
                                            handler: function() {
                                                F.store.dispatch(Ja({
                                                    newbieId: a.id
                                                })),
                                                F.store.dispatch(Yo({
                                                    translationGuide: !1
                                                })),
                                                Xo(r, n)
                                            }
                                        }
                                    },
                                    additions: {
                                        currentUserType: e.type
                                    }
                                }));
                            case 17:
                                o.next = 20;
                                break;
                            case 19:
                                Xo(r, n);
                            case 20:
                                o.next = 23;
                                break;
                            case 22:
                                Xo(r, n);
                            case 23:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), No)
                }
                var Zo = {
                    name: "username"
                }
                  , ec = {
                    name: "account_name",
                    nick_name: "username"
                }
                  , tc = function(e) {
                    var t = e.type
                      , r = Po({}, e);
                    return t === N.AccountType.SELLER ? Object.keys(Zo).forEach((function(t) {
                        delete r[t],
                        r[Zo[t]] = e[t]
                    }
                    )) : Object.keys(ec).forEach((function(t) {
                        delete r[t],
                        r[ec[t]] = e[t]
                    }
                    )),
                    r
                }
                  , rc = L().mark((function e(t) {
                    var r, n, a, o;
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.call)(N.getItem, "webchat_login");
                            case 2:
                                if (r = e.sent,
                                sr({
                                    message: "Login Exception",
                                    name: ir(t, It.LOGIN_ERROR),
                                    tag: At.LOGIN_ERROR,
                                    extra: Po(Po({}, ur(t)), {}, {
                                        errorTimes: r
                                    })
                                }),
                                er(Xt.LOGIN_FAILED, 0, {
                                    type: Ko(t)
                                }),
                                !(r && r >= 5)) {
                                    e.next = 14;
                                    break
                                }
                                return e.next = 8,
                                (0,
                                vr.call)(zo);
                            case 8:
                                return e.next = 10,
                                (0,
                                vr.put)(gs({
                                    loading: !1
                                }));
                            case 10:
                                return e.next = 12,
                                (0,
                                vr.put)(Bo({
                                    status: N.UserLoginStatus.INTERNAL_SERVER_ERROR
                                }));
                            case 12:
                            case 32:
                            case 50:
                                e.next = 57;
                                break;
                            case 14:
                                if (!(t instanceof rt)) {
                                    e.next = 34;
                                    break
                                }
                                return e.next = 17,
                                (0,
                                N.getItem)("session");
                            case 17:
                                if (!e.sent) {
                                    e.next = 27;
                                    break
                                }
                                return e.next = 21,
                                (0,
                                vr.call)(zo);
                            case 21:
                                return e.next = 23,
                                (0,
                                vr.put)(gs({
                                    loading: !1
                                }));
                            case 23:
                                return e.next = 25,
                                (0,
                                vr.put)(Bo({
                                    status: N.UserLoginStatus.INTERNAL_SERVER_ERROR
                                }));
                            case 25:
                                e.next = 32;
                                break;
                            case 27:
                                return n = r ? r + 1 : 1,
                                e.next = 30,
                                (0,
                                vr.call)(N.setItem, "webchat_login", n);
                            case 30:
                                return e.next = 32,
                                (0,
                                vr.call)(Bs);
                            case 34:
                                if (!(t instanceof nt)) {
                                    e.next = 52;
                                    break
                                }
                                if (2 !== t.handler()) {
                                    e.next = 44;
                                    break
                                }
                                return a = r ? r + 1 : 1,
                                e.next = 40,
                                (0,
                                vr.call)(N.setItem, "webchat_login", a);
                            case 40:
                                return e.next = 42,
                                (0,
                                vr.call)(Bs);
                            case 42:
                                e.next = 50;
                                break;
                            case 44:
                                return e.next = 46,
                                (0,
                                vr.call)(zo);
                            case 46:
                                return e.next = 48,
                                (0,
                                vr.put)(gs({
                                    loading: !1
                                }));
                            case 48:
                                return e.next = 50,
                                (0,
                                vr.put)(Bo({
                                    status: N.UserLoginStatus.FORBIDDEN_ERROR
                                }));
                            case 52:
                                return o = r ? r + 1 : 1,
                                e.next = 55,
                                (0,
                                vr.call)(N.setItem, "webchat_login", o);
                            case 55:
                                return e.next = 57,
                                (0,
                                vr.call)(Bs);
                            case 57:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), e)
                }
                ));
                function nc() {
                    var e, t, r, n, a, o = arguments;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                return e = o.length > 0 && void 0 !== o[0] && o[0],
                                c.prev = 1,
                                t = {
                                    subServer: "coreapi",
                                    resource: "agent/capacity"
                                },
                                e && (t = Po(Po({}, t), {}, {
                                    params: {
                                        need_capacity: !0
                                    }
                                })),
                                c.next = 6,
                                (0,
                                vr.call)(fr, t);
                            case 6:
                                return r = c.sent,
                                n = r.valid_conversation_count,
                                a = r.capacity,
                                c.next = 11,
                                (0,
                                vr.put)(So({
                                    validConversationCount: n,
                                    capacity: a
                                }));
                            case 11:
                                c.next = 15;
                                break;
                            case 13:
                                c.prev = 13,
                                c.t0 = c.catch(1);
                            case 15:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), ko, null, [[1, 13]])
                }
                function ac(e, t) {
                    var r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O;
                    return L().wrap((function(v) {
                        for (; ; )
                            switch (v.prev = v.next) {
                            case 0:
                                return v.prev = 0,
                                r = t.godToken,
                                N.LS.setItem(N.StorageKey.USERID, e.user.id),
                                e.user = tc(e.user),
                                window.__SHOULD_LOAD_CONVERSATIONS__ = !0,
                                window.__SHOULD_LOAD_MESSAGES__ = !0,
                                n = e.user,
                                a = e.is_ccu_grey,
                                o = e.shop,
                                c = void 0 === o ? {} : o,
                                s = e.auth_shop_count,
                                i = e.pending_shop_count,
                                u = n.id,
                                p = n.type,
                                d = n.locale,
                                l = n.distribution_status,
                                f = p === N.AccountType.SUBACCOUNT,
                                window.__WEBCHAT_LOGIN__ || f && "working" === l && (window.__WEBCHAT_LOGIN__ = !0),
                                v.next = 12,
                                (0,
                                vr.call)(Jo, d || "en");
                            case 12:
                                return performance.mark("APP_RENDERING"),
                                $t(),
                                Wt(p),
                                BP(n),
                                v.next = 18,
                                (0,
                                vr.put)(lo({
                                    networkStatus: "online"
                                }));
                            case 18:
                                if (window.addEventListener("online", (function() {
                                    F.store.dispatch(lo({
                                        networkStatus: "online"
                                    }))
                                }
                                )),
                                window.addEventListener("offline", (function() {
                                    F.store.dispatch(lo({
                                        networkStatus: "offline"
                                    }))
                                }
                                )),
                                !f) {
                                    v.next = 25;
                                    break
                                }
                                n.authorizedShopsCount = s,
                                n.pendingShopsCount = i,
                                v.next = 30;
                                break;
                            case 25:
                                if (!c) {
                                    v.next = 30;
                                    break
                                }
                                return n.shop = c,
                                _ = C("shops", c),
                                E = _.entities,
                                v.next = 30,
                                (0,
                                vr.put)(Jr({
                                    entities: E
                                }));
                            case 30:
                                return v.next = 32,
                                (0,
                                vr.put)(ns({
                                    visible: !1
                                }));
                            case 32:
                                return v.next = 34,
                                (0,
                                vr.put)(gs({
                                    loading: !1
                                }));
                            case 34:
                                return S = C("users", n),
                                h = S.entities,
                                v.next = 37,
                                (0,
                                vr.put)(Jr({
                                    entities: h
                                }));
                            case 37:
                                return !r && te.connect(),
                                te.dispatch(N.CustomShareEvent.CALC_CONNECTIONS),
                                v.next = 41,
                                (0,
                                vr.put)(Go({
                                    currentUserId: u,
                                    status: N.UserLoginStatus.SUCCEED
                                }));
                            case 41:
                                return f || !r && !a && nP.connect(),
                                v.next = 44,
                                (0,
                                vr.put)(Ec());
                            case 44:
                                return v.next = 46,
                                (0,
                                vr.spawn)(Wo, "device_id");
                            case 46:
                                if (O = ["login", ""].includes(ce()),
                                !f) {
                                    v.next = 59;
                                    break
                                }
                                return v.next = 50,
                                Co().put(Ao().fetchCloseReasonSettings());
                            case 50:
                                if (!O || 0 === s) {
                                    v.next = 54;
                                    break
                                }
                                oe.push("/conversations"),
                                v.next = 57;
                                break;
                            case 54:
                                if (0 !== s) {
                                    v.next = 57;
                                    break
                                }
                                return v.next = 57,
                                (0,
                                vr.put)(Bo({
                                    status: N.UserLoginStatus.FORBIDDEN_ERROR
                                }));
                            case 57:
                                v.next = 62;
                                break;
                            case 59:
                                return O && oe.push("/conversations"),
                                v.next = 62,
                                (0,
                                vr.put)(tI());
                            case 62:
                                return v.next = 64,
                                (0,
                                vr.call)(N.removeItem, "webchat_login");
                            case 64:
                                return v.next = 66,
                                (0,
                                vr.spawn)($o, n);
                            case 66:
                                if (f) {
                                    v.next = 69;
                                    break
                                }
                                return v.next = 69,
                                (0,
                                vr.call)(ky, Dy({
                                    shopId: n.shop_id
                                }));
                            case 69:
                                if (!f) {
                                    v.next = 72;
                                    break
                                }
                                return v.next = 72,
                                (0,
                                vr.spawn)(nc, !0);
                            case 72:
                                v.next = 78;
                                break;
                            case 74:
                                return v.prev = 74,
                                v.t0 = v.catch(0),
                                v.next = 78,
                                (0,
                                vr.call)(rc, v.t0);
                            case 78:
                                return v.prev = 78,
                                N.isValidBrowser || er(Xt.INVALID_BROWSER, 0),
                                v.finish(78);
                            case 81:
                            case "end":
                                return v.stop()
                            }
                    }
                    ), Uo, null, [[0, 74, 78, 81]])
                }
                function oc() {
                    var e, t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return n.prev = 0,
                                performance.mark("APP_PREPARED"),
                                e = "",
                                t = {
                                    method: "POST",
                                    subServer: "coreapi",
                                    resource: "login"
                                },
                                (e = (0,
                                N.getUrlParam)("godToken", "")) && (t = Po(Po({}, t), {}, {
                                    resource: "god_login",
                                    payload: JSON.stringify({
                                        god_token: e
                                    })
                                })),
                                ((0,
                                N.isVisitingCNSC)() || (0,
                                N.isVisitingKRSC)()) && (t.parent = "cbsc"),
                                n.next = 9,
                                (0,
                                vr.call)(fr, t);
                            case 9:
                                return r = n.sent,
                                performance.mark("LOGIN_API_RESPONSED"),
                                n.next = 13,
                                (0,
                                N.setItem)("session", r);
                            case 13:
                                return N.LS.setItem("chat-session", JSON.stringify(r)),
                                n.abrupt("return", {
                                    session: r,
                                    params: {
                                        godToken: e
                                    }
                                });
                            case 17:
                                return n.prev = 17,
                                n.t0 = n.catch(0),
                                n.next = 21,
                                (0,
                                vr.call)(rc, n.t0);
                            case 21:
                                return n.prev = 21,
                                N.isValidBrowser || er(Xt.INVALID_BROWSER, 0),
                                n.finish(21);
                            case 24:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), Mo, null, [[0, 17, 21, 24]])
                }
                function cc() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)(Fo, oc);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeLatest)(Ho, Ys);
                            case 4:
                                return e.next = 6,
                                (0,
                                vr.takeLatest)(Qo, Bs);
                            case 6:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), jo)
                }
                const sc = (e(mo = {}, kn.LOGIN_SUCCEEDED, (function(e, t) {
                    var r = t.payload
                      , n = r.currentUserId
                      , a = r.status;
                    return Po(Po({}, e), {}, {
                        currentUserId: n,
                        status: a
                    })
                }
                )),
                e(mo, kn.LOGOUT_SUCCEEDED, (function(e) {
                    return Po(Po({}, e), {}, {
                        currentUserId: null,
                        performance: {},
                        closeHangupTips: !1,
                        hasVideoPermission: !1,
                        captchaVisible: !1,
                        curTabFocused: !0,
                        loading: !1,
                        currentUser: {},
                        loginTimeHash: {},
                        ratingHash: {},
                        newbie: [],
                        status: N.UserLoginStatus.LOGOUT
                    })
                }
                )),
                e(mo, kn.UPDATE_LOGIN_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return Po(Po({}, e), {}, {
                        status: r
                    })
                }
                )),
                e(mo, kn.SHOW_TRANSLATION_GUIDE, (function(e, t) {
                    var r = t.payload.translationGuide;
                    return Po(Po({}, e), {}, {
                        translationGuide: r
                    })
                }
                )),
                e(mo, kn.SHOW_REGION_FILTER_GUIDE, (function(e, t) {
                    var r = t.payload.regionFilterGuide;
                    return Po(Po({}, e), {}, {
                        regionFilterGuide: r
                    })
                }
                )),
                mo);
                var ic, uc, pc = L().mark(Oc), dc = L().mark(vc);
                function lc(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function fc(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? lc(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : lc(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var _c = (0,
                He.createActions)((e(ic = {}, kn.CHECK_USER_PERMISSION_REQUESTED, (function() {
                    return {}
                }
                )),
                e(ic, kn.CHECK_USER_PERMISSION_SUCCEEDED, (function(e) {
                    return {
                        hasVideoPermission: e.hasVideoPermission,
                        hasReplyPermission: e.hasReplyPermission,
                        hasDeletePermission: e.hasDeletePermission,
                        deleteConfigDuration: e.deleteConfigDuration,
                        deleteConfigVersion: e.deleteConfigVersion
                    }
                }
                )),
                e(ic, kn.UPDATE_DEL_PERMISSION, (function(e) {
                    return {
                        hasDeletePermission: e.hasDeletePermission,
                        deleteConfigDuration: e.deleteConfigDuration,
                        deleteConfigVersion: e.deleteConfigVersion
                    }
                }
                )),
                ic))
                  , Ec = _c.checkUserPermissionRequested
                  , Sc = _c.checkUserPermissionSucceeded
                  , hc = _c.updateDelPermission;
                function Oc() {
                    var e, t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return e = {
                                    hasVideoPermission: !1,
                                    hasReplyPermission: !1,
                                    hasDeletePermission: !1,
                                    deleteConfigDuration: 0,
                                    deleteConfigVersion: 0
                                },
                                s.prev = 1,
                                s.next = 4,
                                (0,
                                vr.call)(fr, {
                                    subServer: "coreapi",
                                    parent: "user",
                                    resource: "global_config"
                                });
                            case 4:
                                return t = s.sent,
                                s.next = 7,
                                (0,
                                vr.select)(Xn);
                            case 7:
                                (r = s.sent).id,
                                n = r.type,
                                a = r.country,
                                e.hasVideoPermission = t.video,
                                e.hasReplyPermission = t.reply,
                                "seller" === n && (o = t.delete_msg || {},
                                e.deleteConfigVersion = o.config_version,
                                c = (o.region_config || []).find((function(e) {
                                    return e.region === a
                                }
                                )),
                                c && c.duration && (e.hasDeletePermission = !0,
                                e.deleteConfigDuration = c.duration)),
                                s.next = 16;
                                break;
                            case 14:
                                s.prev = 14,
                                s.t0 = s.catch(1);
                            case 16:
                                return s.next = 18,
                                (0,
                                vr.put)(Sc(fc({}, e)));
                            case 18:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), pc, null, [[1, 14]])
                }
                function vc() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Ec, Oc);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), dc)
                }
                const gc = (e(uc = {}, kn.CHECK_USER_PERMISSION_SUCCEEDED, (function(e, t) {
                    var r = t.payload
                      , n = r.hasVideoPermission
                      , a = r.hasReplyPermission
                      , o = r.hasDeletePermission
                      , c = r.deleteConfigDuration
                      , s = r.deleteConfigVersion;
                    return fc(fc({}, e), {}, {
                        hasVideoPermission: n,
                        hasReplyPermission: a,
                        hasDeletePermission: o,
                        deleteConfigDuration: c,
                        deleteConfigVersion: s
                    })
                }
                )),
                e(uc, kn.UPDATE_DEL_PERMISSION, (function(e, t) {
                    var r = t.payload
                      , n = r.hasDeletePermission
                      , a = r.deleteConfigDuration
                      , o = r.deleteConfigVersion;
                    return fc(fc({}, e), {}, {
                        hasDeletePermission: n,
                        deleteConfigDuration: a,
                        deleteConfigVersion: o
                    })
                }
                )),
                uc);
                var Tc, mc = L().mark(xc), bc = L().mark(kc), yc = L().mark(Uc);
                function Rc(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Cc(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Rc(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Rc(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Ic = (0,
                He.createActions)(e({}, kn.SHOW_USER_REQUESTED, (function(e) {
                    return {
                        userId: e.userId,
                        shopId: e.shopId,
                        buyerShopId: e.buyerShopId
                    }
                }
                ))).showUserRequested
                  , Ac = (0,
                He.createActions)((e(Tc = {}, kn.FETCH_USER_PERFORMANCE_REQUESTED, (function(e) {
                    return {
                        timestamp: e.timestamp
                    }
                }
                )),
                e(Tc, kn.FETCH_USER_PERFORMANCE_SUCCEED, (function(e) {
                    return {
                        performance: e.performance
                    }
                }
                )),
                Tc))
                  , Dc = Ac.fetchUserPerformanceRequested
                  , Pc = Ac.fetchUserPerformanceSucceed
                  , wc = function(e) {
                    var t = e.userIds;
                    return new Promise((function(e) {
                        fr({
                            resource: "users",
                            params: {
                                ids: JSON.stringify(t)
                            }
                        }).then((function(t) {
                            var r = t.users;
                            e(void 0 === r ? [] : r)
                        }
                        )).catch((function() {
                            e([])
                        }
                        ))
                    }
                    ))
                };
                function xc(e) {
                    var t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return t = e.payload.timestamp,
                                r = {},
                                n.prev = 2,
                                n.next = 5,
                                (0,
                                vr.call)(fr, {
                                    parent: "user",
                                    resource: "chat_data_period",
                                    params: Cc({}, t)
                                });
                            case 5:
                                r = n.sent,
                                n.next = 10;
                                break;
                            case 8:
                                n.prev = 8,
                                n.t0 = n.catch(2);
                            case 10:
                                return n.next = 12,
                                (0,
                                vr.put)(Pc({
                                    performance: r
                                }));
                            case 12:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), mc, null, [[2, 8]])
                }
                const Nc = e({}, kn.FETCH_USER_PERFORMANCE_SUCCEED, (function(e, t) {
                    var r = t.payload.performance;
                    return Cc(Cc({}, e), {}, {
                        performance: r
                    })
                }
                ));
                function kc(e) {
                    var t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return t = e.payload,
                                r = t.userId,
                                n = t.shopId,
                                a = t.buyerShopId,
                                i.prev = 1,
                                i.next = 4,
                                (0,
                                vr.call)(fr, {
                                    resource: "users",
                                    id: r,
                                    params: {
                                        shop_id: n,
                                        need_cache: 1,
                                        cache_expires: 1800
                                    }
                                });
                            case 4:
                                (o = i.sent).storedTimestamp = Date.now(),
                                i.next = 11;
                                break;
                            case 8:
                                i.prev = 8,
                                i.t0 = i.catch(1),
                                o = {
                                    id: r,
                                    shop_id: a
                                };
                            case 11:
                                return c = C("users", o),
                                s = c.entities,
                                i.next = 14,
                                (0,
                                vr.put)(Jr({
                                    entities: s
                                }));
                            case 14:
                                return i.next = 16,
                                (0,
                                vr.put)(fo({
                                    userId: r,
                                    shopId: n
                                }));
                            case 16:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), bc, null, [[1, 8]])
                }
                function Uc() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Ic, kc);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(Dc, xc);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), yc)
                }
                var Mc, jc;
                function Lc(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Fc(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Lc(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Lc(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Gc = L().mark(Wc)
                  , Hc = L().mark(Kc)
                  , Vc = (0,
                He.createActions)((e(Mc = {}, kn.UPDATE_NEW_MESSAGE_FLAG, (function(e) {
                    return {
                        flag: e.flag
                    }
                }
                )),
                e(Mc, kn.UPDATE_IS_MAIN_PAGE, (function(e) {
                    return {
                        isMainPage: e.isMainPage
                    }
                }
                )),
                e(Mc, kn.UPDATE_CUR_TAB_FOCUSED, (function(e) {
                    return {
                        focused: e.focused
                    }
                }
                )),
                e(Mc, kn.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED, (function(e) {
                    return {
                        focused: e.focused
                    }
                }
                )),
                Mc))
                  , Bc = Vc.updateNewMessageFlag
                  , Yc = Vc.updateIsMainPage
                  , qc = Vc.updateCurTabFocused
                  , Qc = Vc.updateCurTabFocusedSucceeded;
                function Wc(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                if (!(t = e.payload.focused)) {
                                    r.next = 7;
                                    break
                                }
                                return r.next = 4,
                                (0,
                                vr.put)(Bc({
                                    flag: !1
                                }));
                            case 4:
                                return te.dispatch(N.CustomShareEvent.TAB_FOCUSED),
                                r.next = 7,
                                (0,
                                vr.put)(Yc({
                                    isMainPage: !0
                                }));
                            case 7:
                                return r.next = 9,
                                (0,
                                vr.put)(Qc({
                                    focused: t
                                }));
                            case 9:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), Gc)
                }
                function Kc() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(qc, Wc);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Hc)
                }
                const zc = (e(jc = {}, kn.UPDATE_NEW_MESSAGE_FLAG, (function(e, t) {
                    var r = t.payload.flag;
                    return Fc(Fc({}, e), {}, {
                        newMessageFlag: r
                    })
                }
                )),
                e(jc, kn.UPDATE_IS_MAIN_PAGE, (function(e, t) {
                    var r = t.payload.isMainPage;
                    return Fc(Fc({}, e), {}, {
                        isMainPage: r
                    })
                }
                )),
                e(jc, kn.UPDATE_CUR_TAB_FOCUSED_SUCCEEDED, (function(e, t) {
                    var r = t.payload.focused;
                    return Fc(Fc({}, e), {}, {
                        curTabFocused: r
                    })
                }
                )),
                jc);
                var Jc, Xc;
                function $c(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Zc(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? $c(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : $c(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var es = L().mark(cs)
                  , ts = L().mark(ss)
                  , rs = (0,
                He.createActions)((e(Jc = {}, kn.UPDATE_CAPTCHA_VISIBLE, (function(e) {
                    return {
                        visible: e.visible,
                        resendMessagePayload: e.resendMessagePayload
                    }
                }
                )),
                e(Jc, kn.UPDATE_CAPTCHA_SIGNATURE, (function(e) {
                    var t = e.signature;
                    return {
                        signature: void 0 === t ? "" : t
                    }
                }
                )),
                e(Jc, kn.UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED, (function(e) {
                    var t = e.signature;
                    return {
                        signature: void 0 === t ? "" : t
                    }
                }
                )),
                Jc))
                  , ns = rs.updateCaptchaVisible
                  , as = rs.updateCaptchaSignature
                  , os = rs.updateCaptchaSignatureSucceeded;
                function cs(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                if (!(t = e.payload.signature)) {
                                    o.next = 12;
                                    break
                                }
                                return o.next = 4,
                                (0,
                                vr.select)(Kn);
                            case 4:
                                if (!(r = o.sent)) {
                                    o.next = 12;
                                    break
                                }
                                return o.next = 8,
                                (0,
                                vr.select)(Pg(r.messageId));
                            case 8:
                                return n = o.sent,
                                a = {
                                    message: n,
                                    conversationId: r.conversationId
                                },
                                o.next = 12,
                                Co().put(Ao().resendMessageRequested({
                                    payload: a
                                }));
                            case 12:
                                return o.next = 14,
                                (0,
                                vr.put)(os({
                                    signature: t
                                }));
                            case 14:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), es)
                }
                function ss() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(as, cs);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), ts)
                }
                const is = (e(Xc = {}, kn.UPDATE_CAPTCHA_VISIBLE, (function(e, t) {
                    var r = t.payload
                      , n = r.visible
                      , a = r.resendMessagePayload;
                    return Zc(Zc({}, e), {}, {
                        captchaVisible: n,
                        resendMessagePayload: a
                    })
                }
                )),
                e(Xc, kn.UPDATE_CAPTCHA_SIGNATURE_SUCCEEDED, (function(e, t) {
                    var r = t.payload.signature;
                    return Zc(Zc({}, e), {}, {
                        captchaSignature: r
                    })
                }
                )),
                Xc);
                function us(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function ps(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? us(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : us(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var ds = (0,
                He.createActions)(e({}, kn.SET_TEXT_BOX_HEIGHT, (function(e) {
                    return e
                }
                ))).setTextBoxHeight;
                const ls = e({}, kn.SET_TEXT_BOX_HEIGHT, (function(e, t) {
                    var r = t.payload;
                    return ps(ps({}, e), {}, {
                        textBoxHeight: r
                    })
                }
                ));
                function fs(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function _s(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? fs(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : fs(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Es = (0,
                He.createActions)(e({}, kn.CLOSE_HANGUP_TIPS_REQUESTED, (function() {
                    return {}
                }
                ))).closeHangupTipsRequested;
                const Ss = e({}, kn.CLOSE_HANGUP_TIPS_REQUESTED, (function(e) {
                    return _s(_s({}, e), {}, {
                        closeHangupTips: !0
                    })
                }
                ));
                function hs(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Os(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? hs(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : hs(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var vs = (0,
                He.createActions)(e({}, kn.SHOW_LOADING_SUCCEEDED, (function(e) {
                    var t = e.loading;
                    return {
                        loading: void 0 !== t && t
                    }
                }
                )))
                  , gs = vs.showLoadingSucceeded;
                const Ts = e({}, kn.SHOW_LOADING_SUCCEEDED, (function(e, t) {
                    var r = t.payload.loading;
                    return Os(Os({}, e), {}, {
                        loading: r
                    })
                }
                ));
                var ms, bs = P(439).t;
                function ys(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Rs(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? ys(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ys(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Cs = L().mark(ks)
                  , Is = L().mark(Us)
                  , As = L().mark(Ms)
                  , Ds = (0,
                He.createActions)((e(ms = {}, kn.SEND_FEEDBACK_REQUESTED, (function(e) {
                    return {
                        type: e.type,
                        description: e.description,
                        classification: e.classification,
                        image: e.image,
                        feedback_file_id: e.feedback_file_id
                    }
                }
                )),
                e(ms, kn.GET_FEEDBACK_CLASSIFICATION_REQUESTED, (function(e) {
                    return function(e) {
                        if (null == e)
                            throw new TypeError("Cannot destructure undefined")
                    }(e),
                    {}
                }
                )),
                e(ms, kn.GET_CLASSIFICATION_SUCCEED, (function(e) {
                    return {
                        data: e.data
                    }
                }
                )),
                ms))
                  , Ps = Ds.sendFeedbackRequested
                  , ws = Ds.getFeedbackClassificationRequested
                  , xs = Ds.getClassificationSucceed
                  , Ns = {
                    classification_name: "Chat",
                    id: 29,
                    sub_list: [],
                    transify_key: "ps_feedback_classification_chat"
                };
                function ks(e) {
                    var t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.description,
                                a = t.classification,
                                o = t.image,
                                c = t.feedback_file_id,
                                i.prev = 1,
                                i.next = 4,
                                (0,
                                vr.call)(fr, {
                                    method: "POST",
                                    resource: "add_feedback",
                                    payload: JSON.stringify({
                                        type: r,
                                        description: n,
                                        image: o,
                                        classification: a,
                                        version: (0,
                                        N.getRuntimeVersion)(),
                                        browser_version: (0,
                                        N.getBrowserInfo)(),
                                        feedback_file_id: c
                                    })
                                });
                            case 4:
                                return i.next = 6,
                                (0,
                                vr.put)(Je());
                            case 6:
                                return i.next = 8,
                                (0,
                                vr.put)(Gv({
                                    toast: {
                                        show: !0,
                                        type: "success",
                                        message: bs("ps_feedback_submit_success")
                                    }
                                }));
                            case 8:
                                i.next = 15;
                                break;
                            case 10:
                                return i.prev = 10,
                                i.t0 = i.catch(1),
                                s = jv(!1, {
                                    type: "send-feedback"
                                }),
                                i.next = 15,
                                (0,
                                vr.put)(Gv({
                                    toast: s
                                }));
                            case 15:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), Cs, null, [[1, 10]])
                }
                function Us() {
                    var e;
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.prev = 0,
                                t.next = 3,
                                (0,
                                vr.put)(xs({
                                    data: []
                                }));
                            case 3:
                                return t.next = 5,
                                (0,
                                vr.call)(fr, {
                                    resource: "get_classifications"
                                });
                            case 5:
                                return e = t.sent,
                                t.next = 8,
                                (0,
                                vr.put)(xs({
                                    data: e.get_classifications || []
                                }));
                            case 8:
                                t.next = 14;
                                break;
                            case 10:
                                return t.prev = 10,
                                t.t0 = t.catch(0),
                                t.next = 14,
                                (0,
                                vr.put)(xs({
                                    data: [Ns]
                                }));
                            case 14:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), Is, null, [[0, 10]])
                }
                function Ms() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)(Ps, ks);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeLatest)(ws, Us);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), As)
                }
                const js = e({}, kn.GET_CLASSIFICATION_SUCCEED, (function(e, t) {
                    var r = t.payload.data;
                    return Rs(Rs({}, e), {}, {
                        feedbackClassification: r
                    })
                }
                ));
                var Ls = L().mark(Hs)
                  , Fs = L().mark(Vs)
                  , Gs = (0,
                He.createActions)(e({}, kn.REPORT_ASYNC_TASK, (function(e) {
                    return {
                        reportPoint: e.reportPoint,
                        duration: e.duration,
                        extra: e.extra
                    }
                }
                ))).reportAsyncTask;
                function Hs(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.payload,
                                r = t.reportPoint,
                                n = t.duration,
                                a = t.extra,
                                s.next = 3,
                                (0,
                                vr.select)(Gr);
                            case 3:
                                return o = s.sent,
                                s.next = 6,
                                (0,
                                vr.select)(Fr);
                            case 6:
                                c = s.sent,
                                er(r, n, {
                                    messageLevel: o,
                                    conversationLevel: c,
                                    extra: a
                                });
                            case 8:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), Ls)
                }
                function Vs() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Gs, Hs);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Fs)
                }
                var Bs = L().mark((function e() {
                    var t, r = arguments;
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return (!(r.length > 0 && void 0 !== r[0]) || r[0]) && te.close(),
                                e.next = 4,
                                (0,
                                vr.put)(Vo());
                            case 4:
                                return e.next = 6,
                                (0,
                                vr.put)(Tm());
                            case 6:
                                (0,
                                N.removeItem)("session"),
                                (0,
                                N.removeItem)("sc_redirect"),
                                N.LS.removeItem("chat-session"),
                                N.LS.setItem(N.StorageKey.USERID, ""),
                                t = location.pathname || "/webchat/conversations",
                                document.location.replace("https://".concat((0,
                                N.getSellerCenterUrl)(), "/account/signin?next=").concat(encodeURIComponent(t)));
                            case 12:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), e)
                }
                ))
                  , Ys = L().mark((function e() {
                    var t;
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.prev = 0,
                                t = {
                                    server: (0,
                                    N.getSCApiServer)(),
                                    resource: "logout",
                                    suffixSlash: !0,
                                    params: {
                                        SPC_CDS: H().get("SPC_CDS"),
                                        SPC_CDS_VER: 2
                                    }
                                },
                                (0,
                                N.isVisitingCNSC)() || (0,
                                N.isVisitingKRSC)() ? (t.version = "cnsc",
                                t.parent = "selleraccount") : t.version = "v1",
                                e.next = 5,
                                (0,
                                vr.all)([(0,
                                vr.call)(fr, {
                                    method: "POST",
                                    subServer: "coreapi",
                                    resource: "logout"
                                }), (0,
                                vr.call)(fr, t)]);
                            case 5:
                                return window.removeEventListener("online", (function() {
                                    F.store.dispatch(lo({
                                        networkStatus: "online"
                                    }))
                                }
                                )),
                                window.removeEventListener("offline", (function() {
                                    F.store.dispatch(lo({
                                        networkStatus: "offline"
                                    }))
                                }
                                )),
                                Oe(),
                                e.next = 10,
                                (0,
                                vr.call)(Bs);
                            case 10:
                                e.next = 15;
                                break;
                            case 12:
                                e.prev = 12,
                                e.t0 = e.catch(0),
                                e.t0.handler ? (0,
                                vr.call)(e.t0.handler) : console.error("[Logout Failed] ", e.t0);
                            case 15:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), e, null, [[0, 12]])
                }
                ));
                function qs(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Qs(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? qs(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : qs(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Ws = [wa, Ha, eo, vo, cc, Uc, vc, ss, Kc, Ms, Vs]
                  , Ks = {
                    newbie: [],
                    networkStatus: "online",
                    hasVideoPermission: !1,
                    currentUserId: null,
                    currentUser: {},
                    hasReplyPermission: !1,
                    hasDeletePermission: !1,
                    deleteConfigVersion: 0,
                    deleteConfigDuration: 0,
                    captchaVisible: !1,
                    captchaSignature: "",
                    resendMessagePayload: void 0,
                    curTabFocused: !0,
                    isMainPage: !0,
                    shopStatisticsMap: {},
                    textBoxHeight: N.CHAT_MIN_TEXT_BOX_HEIGHT,
                    showAutoHangupModal: !1,
                    closeHangupTips: !1,
                    performance: {},
                    status: "",
                    loginTimeHash: {},
                    ratingHash: {},
                    openedMenu: "",
                    translationGuide: !1,
                    loading: !1,
                    newMessageFlag: !1,
                    regionFilterGuide: !1,
                    validConversationCount: N.SERVER_ERROR_VALID_CONV_COUNT,
                    capacity: N.SERVER_ERROR_CAPACITY,
                    feedbackClassification: []
                }
                  , zs = (0,
                He.handleActions)(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs(Qs({}, {}), gc), is), zc), ls), Ss), Nc), Ts), js), Va), to), go), sc), Ks);
                function Js(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Xs(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Js(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Js(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var $s, Zs, ei = function(e) {
                    return e.conversationReducer.conversationIds
                }, ti = function(e) {
                    return e.conversationReducer.readRequestIds
                }, ri = function(e) {
                    return e.conversationReducer.missedReadNoticeCount
                }, ni = function(e) {
                    return e.conversationReducer.inlocation
                }, ai = function(e) {
                    return e.conversationReducer.updateTimeNow
                }, oi = function(e) {
                    return e.conversationReducer.currentConversationId
                }, ci = function(e) {
                    return e.conversationReducer.currentConversationType
                }, si = function(e) {
                    return e.conversationReducer.previousConversationId
                }, ii = function(e) {
                    return e.conversationReducer.currentConversationInSearch
                }, ui = function(e) {
                    return e.conversationReducer.searchFilter
                }, pi = function(e) {
                    return e.conversationReducer.pagination
                }, di = function(e) {
                    return e.conversationReducer.searchResult
                }, li = function(e) {
                    return e.conversationReducer.inMultipleSelectionMode
                }, fi = function(e) {
                    return e.conversationReducer.selectedConversationIds
                }, _i = function(e) {
                    return e.conversationReducer.currentSelectedConversationId
                }, Ei = (0,
                Ye.createSelector)(fi, Ir, (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                      , r = arguments.length > 1 ? arguments[1] : void 0;
                    return (0,
                    t.denormalize)(e, [s], {
                        conversations: r
                    }) || []
                }
                )), Si = function(e) {
                    return e.conversationReducer.currentConversationCanRead
                }, hi = function(e) {
                    return e.conversationReducer.status
                }, Oi = function(e) {
                    return e.conversationReducer.direction
                }, vi = (0,
                Ye.createSelector)(Ir, ei, jr, (function(e, r, n) {
                    return ((0,
                    t.denormalize)(r, [s], {
                        conversations: e
                    }) || []).filter(Boolean).map((function(e) {
                        var r = (0,
                        t.denormalize)(e.shop_id, l, {
                            shops: n
                        }) || {}
                          , a = r.country
                          , o = r.name;
                        return Xs(Xs({}, e), {}, {
                            shop_region: a,
                            shop_name: o
                        })
                    }
                    ))
                }
                )), gi = (0,
                Ye.createSelector)(vi, oi, (function(e, t) {
                    return e.filter((function(e) {
                        var r = e.id
                          , n = e.unread_count;
                        return e && (n > 0 || r === t)
                    }
                    ))
                }
                )), Ti = (0,
                Ye.createSelector)(vi, (function(e) {
                    return e.filter((function(e) {
                        return e.pinned
                    }
                    ))
                }
                )), mi = (0,
                Ye.createSelector)(vi, (function(e) {
                    return e.filter((function(e) {
                        return e.status && "closed" === e.status
                    }
                    ))
                }
                )), bi = (0,
                Ye.createSelector)(vi, oi, (function(e, t) {
                    return e.filter((function(e) {
                        var r = e.unreplied
                          , n = e.id;
                        return void 0 === r || r || !r && n === t
                    }
                    ))
                }
                )), yi = (0,
                Ye.createSelector)(vi, (function(e) {
                    return e.filter((function(e) {
                        return e.lack
                    }
                    )).map((function(e) {
                        return e.id
                    }
                    )) || []
                }
                )), Ri = function(e) {
                    return e.conversationReducer.keyword
                }, Ci = function(e) {
                    return e.conversationReducer.filter
                }, Ii = function(e) {
                    return e.conversationReducer.regionFilter
                }, Ai = (0,
                Ye.createSelector)(Zn, Ii, (function(e, t) {
                    return e ? t : "All"
                }
                )), Di = (0,
                Ye.createSelector)(Ci, vi, gi, Ti, mi, bi, (function(e, t, r, n, a, o) {
                    return {
                        All: t,
                        Unread: r,
                        Pinned: n,
                        Closed: a,
                        Unreplied: o
                    }[e]
                }
                )), Pi = (0,
                Ye.createSelector)(Di, (function(e) {
                    return e.sort((function(e, t) {
                        return parseInt(t.latest_message_id) - parseInt(e.latest_message_id)
                    }
                    )).filter((function(e) {
                        return void 0 === e.faking
                    }
                    ))
                }
                )), wi = (0,
                Ye.createSelector)(vi, oi, Zn, ni, Cr, Ir, (function(e, r, n, a, c, i) {
                    var u = e.find((function(e) {
                        return e.id === r
                    }
                    )) || {};
                    if (a && !u.id && (u = (0,
                    t.denormalize)(r, s, {
                        conversations: i
                    }) || {}),
                    !n && u.lack) {
                        var p = u.to_id
                          , d = (0,
                        t.denormalize)(p, o, {
                            users: c
                        }) || {}
                          , l = {
                            to_shop_id: d.shop_id,
                            to_status: d.status,
                            to_name: d.name || "-",
                            to_avatar: d.avatar
                        };
                        return Object.assign(u, l)
                    }
                    return u
                }
                )), xi = (0,
                Ye.createSelector)(wi, (function(e) {
                    return (e || {}).to_id || null
                }
                )), Ni = (0,
                Ye.createSelector)(wi, jr, (function(e, r) {
                    return (0,
                    t.denormalize)(e.shop_id, l, {
                        shops: r
                    }) || {}
                }
                )), ki = (0,
                Ye.createSelector)(Ni, (function(e) {
                    return (null == e ? void 0 : e.country) || "SG"
                }
                )), Ui = (0,
                Ye.createSelector)(wi, (function(e) {
                    return e.shop_id
                }
                )), Mi = (0,
                Ye.createSelector)(wi, (function(e) {
                    return e.to_id
                }
                )), ji = (0,
                Ye.createSelector)(wi, (function(e) {
                    return e.status
                }
                )), Li = (0,
                Ye.createSelector)(wi, (function(e) {
                    return e.auto_translation
                }
                )), Fi = (0,
                Ye.createSelector)(wi, (function(e) {
                    return e.max_general_option_hide_time
                }
                )), Gi = function(e) {
                    return (0,
                    Ye.createSelector)(Ir, (function(r) {
                        return (0,
                        t.denormalize)(e, s, {
                            conversations: r
                        }) || {}
                    }
                    ))
                }, Hi = function(e) {
                    return (0,
                    Ye.createSelector)(Gi(e), (function(e) {
                        return e.shop_id
                    }
                    ))
                }, Vi = function(e) {
                    return (0,
                    Ye.createSelector)(vi, (function(t) {
                        return e.map((function(e) {
                            return t.find((function(t) {
                                return t.id === e
                            }
                            ))
                        }
                        )).filter(Boolean)
                    }
                    ))
                }, Bi = (0,
                Ye.createSelector)(wi, (function(e) {
                    return (e || {}).shop_id || null
                }
                )), Yi = (0,
                Ye.createSelector)(Cr, wi, (function(e, r) {
                    return r ? (0,
                    t.denormalize)(r.to_id, o, {
                        users: e
                    }) : {}
                }
                )), qi = (0,
                Ye.createSelector)(wi, (function(e) {
                    return (e || {}).to_shop_id || null
                }
                )), Qi = (0,
                Ye.createSelector)(wi, (function(e) {
                    return (e || {}).to_name
                }
                )), Wi = function(e) {
                    return e.conversationReducer.access
                }, Ki = function(e) {
                    return e.conversationReducer.isNavigateToUnreadMessage
                }, zi = function(e) {
                    return e.conversationReducer.navigateToUnreadMessageId
                }, Ji = function(e) {
                    return e.conversationReducer.pendingOffersCount
                }, Xi = (0,
                Ye.createSelector)(wi, Ji, (function(e, t) {
                    var r = e.shop_id
                      , n = e.to_id;
                    return t["".concat(r, "_").concat(n)] || 0
                }
                )), $i = function(e) {
                    return (0,
                    Ye.createSelector)(Gi(e), Ji, (function(e, t) {
                        var r = e.shop_id
                          , n = e.to_id;
                        return t["".concat(r, "_").concat(n)] || 0
                    }
                    ))
                }, Zi = function(e) {
                    return (0,
                    Ye.createSelector)(Hi(e), jr, (function(e, r) {
                        var n = (0,
                        t.denormalize)(e, l, {
                            shops: r
                        }) || {};
                        return (null == n ? void 0 : n.country) || "SG"
                    }
                    ))
                };
                !function(e) {
                    e.DELETE_CONVERSATION_REQUESTED = "DELETE_CONVERSATION_REQUESTED",
                    e.DELETE_CONVERSATION_SUCCEEDED = "DELETE_CONVERSATION_SUCCEEDED",
                    e.GET_CONVERSATION_DETAIL_REQUESTED = "GET_CONVERSATION_DETAIL_REQUESTED",
                    e.FAKE_CONVERSATION_SUCCEEDED = "FAKE_CONVERSATION_SUCCEEDED",
                    e.FETCH_CONVERSATIONS_REQUESTED = "FETCH_CONVERSATIONS_REQUESTED",
                    e.FETCH_CONVERSATIONS_SUCCEEDED = "FETCH_CONVERSATIONS_SUCCEEDED",
                    e.UPDATE_FETCH_CONVERSATIONS_STATUS = "UPDATE_FETCH_CONVERSATIONS_STATUS",
                    e.UPDATE_FETCH_CONVERSATIONS_DIRECTION = "UPDATE_FETCH_CONVERSATIONS_DIRECTION",
                    e.UPDATE_CONVERSATION_TIMESTAMP = "UPDATE_CONVERSATION_TIMESTAMP",
                    e.UPDATE_CONVERSATION_FILTER = "UPDATE_CONVERSATION_FILTER",
                    e.FORWARD_CONVERSATION_REQUESTED = "FORWARD_CONVERSATION_REQUESTED",
                    e.MASS_FORWARD_CONVERSATION_REQUESTED = "MASS_FORWARD_CONVERSATION_REQUESTED",
                    e.MARK_MESSAGES_REQUESTED = "MARK_MESSAGES_REQUESTED",
                    e.MARK_MESSAGES_SUCCEEDED = "MARK_MESSAGES_SUCCEEDED",
                    e.UPDATE_READ_REQUEST_DATA = "UPDATE_READ_REQUEST_DATA",
                    e.PIN_CONVERSATION_REQUESTED = "PIN_CONVERSATION_REQUESTED",
                    e.SEARCH_CONVERSATIONS_REQUESTED = "SEARCH_CONVERSATIONS_REQUESTED",
                    e.SEARCH_CONVERSATIONS_SUCCEEDED = "SEARCH_CONVERSATIONS_SUCCEEDED",
                    e.RESET_SEARCH_PARAMS = "RESET_SEARCH_PARAMS",
                    e.UPDATE_EXISTED_RESULT_ID_MAP = "UPDATE_EXISTED_RESULT_ID_MAP",
                    e.UPDATE_CURRENT_CONVERSATION_MODE = "UPDATE_CURRENT_CONVERSATION_MODE",
                    e.SET_CURRENT_CONVERSATION_MODE = "SET_CURRENT_CONVERSATION_MODE",
                    e.SEARCH_BY_COMBINED_API = "SEARCH_BY_COMBINED_API",
                    e.TOGGLE_MULTIPLE_SELECTION_MODE = "TOGGLE_MULTIPLE_SELECTION_MODE",
                    e.SET_SELECTED_CONVERSATION_LIST = "SET_SELECTED_CONVERSATION_LIST",
                    e.UPDATE_SELECTED_CONVERSATION_ID = "UPDATE_SELECTED_CONVERSATION_ID",
                    e.SELECTED_CONVERSATIONS_REQUESTED = "SELECTED_CONVERSATIONS_REQUESTED",
                    e.CONVERSATION_BATCH_OPERATE_REQUESTED = "CONVERSATION_BATCH_OPERATE_REQUESTED",
                    e.SET_CURRENT_CONVERSATION_CAN_READ = "SET_CURRENT_CONVERSATION_CAN_READ",
                    e.UPDATE_PREVIOUS_CONVERSATION_ID = "UPDATE_PREVIOUS_CONVERSATION_ID",
                    e.CLOSE_CONVERSATION_REQUESTED = "CLOSE_CONVERSATION_REQUESTED",
                    e.FETCH_GROUPS_REQUESTED = "FETCH_GROUPS_REQUESTED",
                    e.FETCH_MASS_GROUPS_REQUESTED = "FETCH_MASS_GROUPS_REQUESTED",
                    e.SHOW_CONVERSATION_REQUESTED = "SHOW_CONVERSATION_REQUESTED",
                    e.RESET_CONVERSATION_REQUESTED = "RESET_CONVERSATION_REQUESTED",
                    e.SHOW_CONVERSATION_SUCCEEDED = "SHOW_CONVERSATION_SUCCEEDED",
                    e.SHOW_NORMAL_CONVERSATION_SUCCEEDED = "SHOW_NORMAL_CONVERSATION_SUCCEEDED",
                    e.CHANGE_CONVERSATION_STATUS_REQUESTED = "CHANGE_CONVERSATION_STATUS_REQUESTED",
                    e.FETCH_DEGRADE_CONVERSATIONS_DETAIL = "FETCH_DEGRADE_CONVERSATIONS_DETAIL",
                    e.CONVERSATION_OPERATE_REQUESTED = "CONVERSATION_OPERATE_REQUESTED",
                    e.SEARCH_MORE_RESULTS = "SEARCH_MORE_RESULTS",
                    e.SEARCH_MORE_SUCCEED = "SEARCH_MORE_SUCCEED",
                    e.SET_SEARCH_STATUS = "SET_SEARCH_STATUS",
                    e.UPDATE_ACCESS = "UPDATE_ACCESS",
                    e.SHOW_SEARCHED_CONVERSATION_REQUESTED = "SHOW_SEARCHED_CONVERSATION_REQUESTED",
                    e.UPDATE_SEARCH_PARAMS = "UPDATE_SEARCH_PARAMS",
                    e.LOCATION_MESSAGE = "LOCATION_MESSAGE",
                    e.UPDATE_LOCATION_MODE = "UPDATE_LOCATION_MODE",
                    e.UPDATE_SYNC_TIME_NOW = "UPDATE_SYNC_TIME_NOW",
                    e.SET_CURRENT_CONVERSATION_TYPE = "SET_CURRENT_CONVERSATION_TYPE",
                    e.SET_CONVERSATION_BEEN_DELETED = "SET_CONVERSATION_BEEN_DELETED",
                    e.MUTE_CONVERSATION_REQUESTED = "MUTE_CONVERSATION_REQUESTED",
                    e.SET_NAVIGATE_TO_UNREAD_MESSAGE = "SET_NAVIGATE_TO_UNREAD_MESSAGE",
                    e.SET_NAVIGATE_TO_UNREAD_MESSAGE_ID = "SET_NAVIGATE_TO_UNREAD_MESSAGE_ID",
                    e.RESET_NAVIGATE_TO_UNREAD_MESSAGE_ID = "RESET_NAVIGATE_TO_UNREAD_MESSAGE_ID",
                    e.GET_PENDING_OFFERS_COUNT_REQUESTED = "GET_PENDING_OFFERS_COUNT_REQUESTED",
                    e.GET_PENDING_OFFERS_COUNT_SUCCEED = "GET_PENDING_OFFERS_COUNT_SUCCEED",
                    e.GET_BATCH_PENDING_OFFERS_COUNT_SUCCEED = "GET_BATCH_PENDING_OFFERS_COUNT_SUCCEED"
                }($s || ($s = {}));
                var eu = (0,
                He.createActions)((e(Zs = {}, $s.DELETE_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.DELETE_CONVERSATION_SUCCEEDED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.GET_CONVERSATION_DETAIL_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.FAKE_CONVERSATION_SUCCEEDED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.FETCH_CONVERSATIONS_REQUESTED, (function(e) {
                    var t = e.direction
                      , r = void 0 === t ? "reset" : t
                      , n = e.noPending
                      , a = void 0 !== n && n
                      , o = e.source
                      , c = e.isFromRegionFilter;
                    return {
                        direction: r,
                        noPending: a,
                        source: o,
                        isFromRegionFilter: void 0 !== c && c
                    }
                }
                )),
                e(Zs, $s.FETCH_CONVERSATIONS_SUCCEEDED, (function(e) {
                    var t = e.conversationIds
                      , r = e.conversationIdsMap
                      , n = e.oldestMessageRegion
                      , a = e.latestMessageRegion
                      , o = e.oldestReceivedMessageId
                      , c = e.latestReceivedMessageId
                      , s = e.oldestTimestampNano
                      , i = e.latestTimestampNano
                      , u = e.direction;
                    return {
                        conversationIds: t,
                        conversationIdsMap: r,
                        oldestMessageRegion: n,
                        latestMessageRegion: a,
                        oldestReceivedMessageId: o,
                        latestReceivedMessageId: c,
                        direction: void 0 === u ? "reset" : u,
                        status: e.status,
                        hasMore: e.hasMore,
                        latestTimestampNano: i,
                        oldestTimestampNano: s,
                        persist: e.persist,
                        shouldFetchByTimestamp: e.shouldFetchByTimestamp,
                        maxLatestTimestampNano: e.maxLatestTimestampNano,
                        maxLatestReceivedMessageId: e.maxLatestReceivedMessageId,
                        syncFetchException: e.syncFetchException
                    }
                }
                )),
                e(Zs, $s.UPDATE_FETCH_CONVERSATIONS_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(Zs, $s.UPDATE_FETCH_CONVERSATIONS_DIRECTION, (function(e) {
                    return {
                        direction: e.direction
                    }
                }
                )),
                e(Zs, $s.UPDATE_CONVERSATION_TIMESTAMP, (function(e) {
                    return {
                        latestTimestampNano: e.latestTimestampNano,
                        oldestTimestampNano: e.oldestTimestampNano
                    }
                }
                )),
                e(Zs, $s.UPDATE_CONVERSATION_FILTER, (function(e) {
                    return {
                        filter: e.filter,
                        regionFilter: e.regionFilter
                    }
                }
                )),
                e(Zs, $s.FORWARD_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId,
                        type: e.type,
                        forwardId: e.forwardId
                    }
                }
                )),
                e(Zs, $s.MASS_FORWARD_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        type: e.type,
                        forwardId: e.forwardId,
                        conversationIds: e.conversationIds
                    }
                }
                )),
                e(Zs, $s.MARK_MESSAGES_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId,
                        isRead: e.isRead,
                        latestMessageId: e.latestMessageId
                    }
                }
                )),
                e(Zs, $s.MARK_MESSAGES_SUCCEEDED, (function(e) {
                    return {
                        conversationId: e.conversationId,
                        markType: e.markType
                    }
                }
                )),
                e(Zs, $s.UPDATE_READ_REQUEST_DATA, (function(e) {
                    return {
                        requestId: e.requestId,
                        requestIds: e.requestIds,
                        count: e.count
                    }
                }
                )),
                e(Zs, $s.PIN_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.SEARCH_CONVERSATIONS_REQUESTED, (function(e) {
                    var t = e.keyword
                      , r = void 0 === t ? "" : t
                      , n = e.filter;
                    return {
                        keyword: r,
                        filter: void 0 === n ? "all" : n
                    }
                }
                )),
                e(Zs, $s.RESET_SEARCH_PARAMS, (function(e) {
                    var t = e.keyword;
                    return {
                        keyword: void 0 === t ? "" : t,
                        searchFilter: e.searchFilter
                    }
                }
                )),
                e(Zs, $s.UPDATE_EXISTED_RESULT_ID_MAP, (function(e) {
                    return {
                        addedMap: e.addedMap
                    }
                }
                )),
                e(Zs, $s.UPDATE_CURRENT_CONVERSATION_MODE, (function(e) {
                    return {
                        mode: e.mode,
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.SET_CURRENT_CONVERSATION_MODE, (function(e) {
                    return {
                        mode: e.mode
                    }
                }
                )),
                e(Zs, $s.SEARCH_BY_COMBINED_API, (function() {
                    return {}
                }
                )),
                e(Zs, $s.TOGGLE_MULTIPLE_SELECTION_MODE, (function(e) {
                    return {
                        mode: e.mode
                    }
                }
                )),
                e(Zs, $s.SET_SELECTED_CONVERSATION_LIST, (function(e) {
                    return {
                        list: e.list
                    }
                }
                )),
                e(Zs, $s.UPDATE_SELECTED_CONVERSATION_ID, (function(e) {
                    return {
                        id: e.id,
                        selected: e.selected
                    }
                }
                )),
                e(Zs, $s.SELECTED_CONVERSATIONS_REQUESTED, (function(e) {
                    return {
                        type: e.type,
                        id: e.id
                    }
                }
                )),
                e(Zs, $s.CONVERSATION_BATCH_OPERATE_REQUESTED, (function(e) {
                    return {
                        type: e.type
                    }
                }
                )),
                e(Zs, $s.SET_CURRENT_CONVERSATION_CAN_READ, (function(e) {
                    return {
                        canRead: e.canRead
                    }
                }
                )),
                e(Zs, $s.UPDATE_PREVIOUS_CONVERSATION_ID, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.CLOSE_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.FETCH_GROUPS_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.FETCH_MASS_GROUPS_REQUESTED, (function(e) {
                    return {
                        conversationIds: e.conversationIds
                    }
                }
                )),
                e(Zs, $s.SHOW_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        conversation: e.conversation,
                        previousId: e.previousId,
                        messageId: e.messageId,
                        sourceInfo: e.sourceInfo
                    }
                }
                )),
                e(Zs, $s.RESET_CONVERSATION_REQUESTED, (function() {
                    return {}
                }
                )),
                e(Zs, $s.SHOW_NORMAL_CONVERSATION_SUCCEEDED, (function(e) {
                    var t = e.conversationId
                      , r = e.previousId;
                    return {
                        conversationId: t,
                        previousId: void 0 === r ? null : r
                    }
                }
                )),
                e(Zs, $s.CHANGE_CONVERSATION_STATUS_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.FETCH_DEGRADE_CONVERSATIONS_DETAIL, (function(e) {
                    return {
                        conversationIds: e.conversationIds
                    }
                }
                )),
                e(Zs, $s.CONVERSATION_OPERATE_REQUESTED, (function(e) {
                    return {
                        type: e.type,
                        extra: e.extra
                    }
                }
                )),
                e(Zs, $s.SEARCH_MORE_RESULTS, (function(e) {
                    return {
                        type: e.type,
                        reset: e.reset
                    }
                }
                )),
                e(Zs, $s.SEARCH_MORE_SUCCEED, (function(e) {
                    return {
                        type: e.type,
                        total: e.total,
                        results: e.results,
                        isFromCache: e.isFromCache,
                        hasMore: e.hasMore,
                        nextOffset: e.nextOffset
                    }
                }
                )),
                e(Zs, $s.SET_SEARCH_STATUS, (function(e) {
                    return {
                        type: e.type,
                        status: e.status
                    }
                }
                )),
                e(Zs, $s.UPDATE_ACCESS, (function(e) {
                    return {
                        access: e.access
                    }
                }
                )),
                e(Zs, $s.SHOW_SEARCHED_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        conversation: e.conversation
                    }
                }
                )),
                e(Zs, $s.LOCATION_MESSAGE, (function(e) {
                    return {
                        msgId: e.msgId,
                        shopId: e.shopId
                    }
                }
                )),
                e(Zs, $s.UPDATE_LOCATION_MODE, (function(e) {
                    return {
                        inlocation: e.inlocation
                    }
                }
                )),
                e(Zs, $s.UPDATE_SYNC_TIME_NOW, (function(e) {
                    return {
                        timeNow: e.timeNow
                    }
                }
                )),
                e(Zs, $s.SHOW_CONVERSATION_SUCCEEDED, (function(e) {
                    var t = e.conversationId
                      , r = e.previousId
                      , n = void 0 === r ? null : r
                      , a = e.type;
                    return {
                        conversationId: t,
                        previousId: n,
                        type: void 0 === a ? N.ConversationTypeEnum.Normal : a
                    }
                }
                )),
                e(Zs, $s.SET_CURRENT_CONVERSATION_TYPE, (function(e) {
                    var t = e.type;
                    return {
                        type: void 0 === t ? N.ConversationTypeEnum.Normal : t
                    }
                }
                )),
                e(Zs, $s.SET_NAVIGATE_TO_UNREAD_MESSAGE, (function(e) {
                    return {
                        isNavigateToUnreadMessage: e.isNavigateToUnreadMessage
                    }
                }
                )),
                e(Zs, $s.SET_NAVIGATE_TO_UNREAD_MESSAGE_ID, (function(e) {
                    return {
                        navigateToUnreadMessageId: e.navigateToUnreadMessageId
                    }
                }
                )),
                e(Zs, $s.RESET_NAVIGATE_TO_UNREAD_MESSAGE_ID, (function() {}
                )),
                e(Zs, $s.MUTE_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(Zs, $s.GET_PENDING_OFFERS_COUNT_REQUESTED, (function(e) {
                    return {
                        shopId: e.shopId,
                        buyerId: e.buyerId
                    }
                }
                )),
                e(Zs, $s.GET_PENDING_OFFERS_COUNT_SUCCEED, (function(e) {
                    return {
                        shopId: e.shopId,
                        buyerId: e.buyerId,
                        count: e.count
                    }
                }
                )),
                e(Zs, $s.GET_BATCH_PENDING_OFFERS_COUNT_SUCCEED, (function(e) {
                    return {
                        records: e.records
                    }
                }
                )),
                Zs))
                  , tu = eu.deleteConversationRequested
                  , ru = eu.deleteConversationSucceeded
                  , nu = eu.getConversationDetailRequested
                  , au = eu.fakeConversationSucceeded
                  , ou = eu.fetchConversationsRequested
                  , cu = eu.fetchConversationsSucceeded
                  , su = eu.updateFetchConversationsStatus
                  , iu = eu.updateFetchConversationsDirection
                  , uu = eu.updateConversationTimestamp
                  , pu = eu.updateConversationFilter
                  , du = eu.forwardConversationRequested
                  , lu = eu.massForwardConversationRequested
                  , fu = eu.markMessagesRequested
                  , _u = eu.markMessagesSucceeded
                  , Eu = eu.updateReadRequestData
                  , Su = eu.pinConversationRequested
                  , hu = eu.searchConversationsRequested
                  , Ou = eu.resetSearchParams
                  , vu = eu.updateExistedResultIdMap
                  , gu = eu.updateCurrentConversationMode
                  , Tu = eu.setCurrentConversationMode
                  , mu = eu.searchByCombinedApi
                  , bu = eu.toggleMultipleSelectionMode
                  , yu = eu.setSelectedConversationList
                  , Ru = eu.updateSelectedConversationId
                  , Cu = eu.selectedConversationsRequested
                  , Iu = eu.conversationBatchOperateRequested
                  , Au = eu.setCurrentConversationCanRead
                  , Du = eu.updatePreviousConversationId
                  , Pu = eu.closeConversationRequested
                  , wu = eu.fetchGroupsRequested
                  , xu = eu.fetchMassGroupsRequested
                  , Nu = eu.setCurrentConversationType
                  , ku = eu.showConversationRequested
                  , Uu = eu.resetConversationRequested
                  , Mu = eu.showConversationSucceeded
                  , ju = eu.changeConversationStatusRequested
                  , Lu = eu.fetchDegradeConversationsDetail
                  , Fu = eu.conversationOperateRequested
                  , Gu = eu.searchMoreResults
                  , Hu = eu.searchMoreSucceed
                  , Vu = eu.setSearchStatus
                  , Bu = eu.updateAccess
                  , Yu = eu.showSearchedConversationRequested
                  , qu = eu.locationMessage
                  , Qu = eu.updateLocationMode
                  , Wu = eu.updateSyncTimeNow
                  , Ku = eu.showNormalConversationSucceeded
                  , zu = eu.setNavigateToUnreadMessage
                  , Ju = eu.setNavigateToUnreadMessageId
                  , Xu = eu.resetNavigateToUnreadMessageId
                  , $u = eu.muteConversationRequested
                  , Zu = eu.getPendingOffersCountRequested
                  , ep = eu.getPendingOffersCountSucceed
                  , tp = eu.getBatchPendingOffersCountSucceed
                  , rp = L().mark(ap)
                  , np = L().mark(op);
                function ap(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                c.prev = 1,
                                c.next = 4,
                                (0,
                                vr.select)(Gi(t));
                            case 4:
                                return r = c.sent,
                                n = r.shop_id,
                                a = r.pinned,
                                o = {
                                    method: "PUT",
                                    subServer: "coreapi",
                                    parent: "conversations",
                                    parentId: t,
                                    resource: a ? "unpin" : "pin"
                                },
                                n && (o.payload = JSON.stringify({
                                    shop_id: n
                                })),
                                c.next = 11,
                                (0,
                                vr.call)(fr, o);
                            case 11:
                                c.next = 17;
                                break;
                            case 13:
                                return c.prev = 13,
                                c.t0 = c.catch(1),
                                c.next = 17,
                                (0,
                                vr.put)(Gv({
                                    error: c.t0
                                }));
                            case 17:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), rp, null, [[1, 13]])
                }
                function op() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Su, ap);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), np)
                }
                function cp(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function sp(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? cp(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cp(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var ip = function(t, r) {
                    var n = r.payload.conversationId
                      , a = sp(sp({}, t.conversationIdsMap), {}, e({}, n, !1))
                      , o = new Set(t.conversationIds);
                    o.delete(n);
                    var c = Array.from(o)
                      , s = t.currentConversationId;
                    return sp(sp({}, t), {}, {
                        currentConversationId: s === n ? null : s,
                        conversationIds: c,
                        conversationIdsMap: a
                    })
                }
                  , up = function(e) {
                    return function(t, r) {
                        var n = r.payload
                          , a = n.filter
                          , o = sp(sp({}, t), {}, {
                            filter: a
                        });
                        if (e === N.ConversationTypeEnum.Normal) {
                            var c = n.regionFilter;
                            o = sp(sp({}, o), {}, {
                                regionFilter: c
                            })
                        }
                        return o
                    }
                }
                  , pp = function(e, t) {
                    var r = t.payload.status;
                    return sp(sp({}, e), {}, {
                        status: r
                    })
                }
                  , dp = function(e, t) {
                    var r = t.payload.direction;
                    return sp(sp({}, e), {}, {
                        direction: r
                    })
                }
                  , lp = function(e, t) {
                    var r = t.payload.conversationId;
                    return sp(sp({}, e), {}, {
                        previousConversationId: r
                    })
                }
                  , fp = function(e, t) {
                    var r = t.payload.canRead;
                    return sp(sp({}, e), {}, {
                        currentConversationCanRead: r
                    })
                };
                function _p(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Ep(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? _p(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : _p(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Sp, hp = function(e, t) {
                    var r = t.payload.conversationId
                      , n = Ep({}, e.draftHash);
                    return delete n[r],
                    Ep(Ep({}, e), {}, {
                        draftHash: n
                    })
                }, Op = function(e) {
                    return Ep(Ep({}, e), {}, {
                        draftHash: {}
                    })
                }, vp = function(e, t) {
                    var r = t.payload
                      , n = r.conversationId
                      , a = r.draft
                      , o = Ep({}, e.draftHash);
                    return o[n] = a,
                    Ep(Ep({}, e), {}, {
                        draftHash: o
                    })
                }, gp = L().mark(mp), Tp = (e(Sp = {}, N.ConversationTypeEnum.Agent, "receiveAgentMessageRequested"),
                e(Sp, N.ConversationTypeEnum.Normal, "receiveMessageRequested"),
                Sp);
                function mp(e) {
                    var t, r, n;
                    return L().wrap((function(a) {
                        for (; ; )
                            switch (a.prev = a.next) {
                            case 0:
                                return t = e.payload,
                                r = e.type,
                                n = Tp[r],
                                a.next = 4,
                                (0,
                                vr.spawn)(wp, t.request_id);
                            case 4:
                                return a.next = 6,
                                Co().put(Ao()[n]({
                                    payload: {
                                        message: t
                                    }
                                }));
                            case 6:
                            case "end":
                                return a.stop()
                            }
                    }
                    ), gp)
                }
                function bp(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function yp(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? bp(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : bp(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Rp = function(t, r) {
                    var n = r.payload
                      , a = n.medias
                      , o = n.conversationId
                      , c = t.mediaMap
                      , s = (c[o] || []).concat(Array.isArray(a) ? a : [a]);
                    return yp(yp({}, t), {}, {
                        mediaMap: yp(yp({}, c), {}, e({}, o, s))
                    })
                }
                  , Cp = function(t, r) {
                    var n = r.payload
                      , a = n.id
                      , o = n.conversationId
                      , c = t.mediaMap
                      , s = _e(c[o]) || [];
                    return s.splice(a, 1),
                    yp(yp({}, t), {}, {
                        mediaMap: yp(yp({}, c), {}, e({}, o, s))
                    })
                }
                  , Ip = function(t, r) {
                    var n = r.payload.conversationId
                      , a = t.mediaMap;
                    return yp(yp({}, t), {}, {
                        mediaMap: yp(yp({}, a), {}, e({}, n, []))
                    })
                }
                  , Ap = function(e) {
                    e.sort((function(e, t) {
                        return parseInt(t.latest_message_id) - parseInt(e.latest_message_id)
                    }
                    ))
                }
                  , Dp = function(e, t) {
                    var r = e.last_message_time_nano
                      , n = e.next_timestamp_nano;
                    return t && !n && (n = t.next_message_time_nano),
                    {
                        nextTimestampNano: n,
                        oldestTimestampNano: n,
                        latestTimestampNano: r
                    }
                }
                  , Pp = L().mark(wp);
                function wp(e) {
                    var t, r, n;
                    return L().wrap((function(a) {
                        for (; ; )
                            switch (a.prev = a.next) {
                            case 0:
                                return a.next = 2,
                                (0,
                                N.getItem)(e);
                            case 2:
                                (t = a.sent) && (r = new Date,
                                n = +r - +t,
                                er(Xt.MESSAGE_SOCKET, n),
                                (0,
                                N.removeItem)(e));
                            case 4:
                            case "end":
                                return a.stop()
                            }
                    }
                    ), Pp)
                }
                var xp = P(439).t
                  , Np = N.MessageTypes.MSG_TYPE_TEXT
                  , kp = function(e, r, n) {
                    var a = e.all || []
                      , o = e.sending || []
                      , s = e.failed || []
                      , i = a.length
                      , u = null;
                    if (i) {
                        for (var p = 0, d = null; p < i && !d; ) {
                            var l = e.all[p];
                            (d = (0,
                            t.denormalize)(l, c, {
                                messages: n
                            })) && (d.type === N.MessageTypes.MSG_TYPE_SECURITY_TIPS || d.isFaking) && (d = null),
                            p++
                        }
                        d && d.created_timestamp > Math.floor(r.last_message_time_nano / Math.pow(10, 9)) && (u = (0,
                        N.fillMessagePreview)(d))
                    }
                    if (!u) {
                        var f = r.latest_message_id
                          , _ = r.latest_message_content
                          , E = r.latest_message_type
                          , S = r.last_message_option
                          , h = r.latest_message_source
                          , O = r.last_message_time_nano;
                        (u = {
                            id: f,
                            content: _,
                            type: E,
                            message_option: S,
                            source: h,
                            to_shop_id: r.latest_message_to_shop_id
                        }).created_at = new Date(O / 1e6) + ""
                    }
                    var v = u
                      , g = v.id
                      , T = v.message_option
                      , m = o.includes(g) ? N.MessageSendStatus.SENDING : s.includes(g) ? N.MessageSendStatus.FAILED : u.send_status ? N.MessageSendStatus.SUCCEED : null;
                    return (0,
                    N.hasTargetMessageOption)(T, N.MessageOption.MSG_OPT_CENSORED_BLACKLIST) && (m = N.MessageSendStatus.FAILED,
                    u.type = Np,
                    u.content = {
                        text: xp("common.blacklist.replaced_text")
                    }),
                    (0,
                    N.hasTargetMessageOption)(T, N.MessageOption.MSG_OPT_CANCELORDER_WARNING_NOT_SEND) && (m = N.MessageSendStatus.FAILED),
                    u.send_status = m,
                    u
                }
                  , Up = "mark_as_read"
                  , Mp = "mark_as_unread"
                  , jp = "delete_conversation"
                  , Lp = "mark_as_unreplied"
                  , Fp = "mute_conversation"
                  , Gp = "unmute_conversation"
                  , Hp = L().mark(Bp)
                  , Vp = L().mark(Yp);
                function Bp(e) {
                    var t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                n.prev = 1,
                                n.next = 4,
                                (0,
                                vr.select)(Hi(t));
                            case 4:
                                return r = n.sent,
                                n.next = 7,
                                (0,
                                vr.call)(fr, {
                                    method: "DELETE",
                                    resource: "conversations",
                                    id: t,
                                    params: {
                                        shop_id: r
                                    }
                                });
                            case 7:
                                n.next = 13;
                                break;
                            case 9:
                                return n.prev = 9,
                                n.t0 = n.catch(1),
                                n.next = 13,
                                (0,
                                vr.put)(Gv({
                                    error: n.t0
                                }));
                            case 13:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), Hp, null, [[1, 9]])
                }
                function Yp() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(tu, Bp);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Vp)
                }
                const qp = e({}, $s.DELETE_CONVERSATION_SUCCEEDED, ip);
                var Qp, Wp = L().mark(Zp), Kp = L().mark(ed), zp = L().mark(td), Jp = L().mark(rd);
                function Xp(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function $p(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Xp(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Xp(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                function Zp(e) {
                    var t, r, n, a, o, c, s, i;
                    return L().wrap((function(u) {
                        for (; ; )
                            switch (u.prev = u.next) {
                            case 0:
                                return t = e.conversation,
                                r = e.sourceInfo,
                                u.prev = 1,
                                u.next = 4,
                                (0,
                                vr.select)(Zn);
                            case 4:
                                return n = u.sent,
                                a = t.id,
                                o = t.to_id,
                                u.next = 8,
                                (0,
                                vr.call)(fr, {
                                    method: "POST",
                                    parent: "conversation",
                                    resource: "enter",
                                    payload: JSON.stringify($p({
                                        conversation_id: a,
                                        to_id: o
                                    }, r))
                                });
                            case 8:
                                if (c = u.sent,
                                s = c.faq_session_id,
                                i = c.session_expiry_timestamp,
                                n) {
                                    u.next = 14;
                                    break
                                }
                                return u.next = 14,
                                (0,
                                vr.put)(ZR({
                                    conversationId: a,
                                    faqSessionId: s,
                                    sessionExpiryTime: i
                                }));
                            case 14:
                                u.next = 18;
                                break;
                            case 16:
                                u.prev = 16,
                                u.t0 = u.catch(1);
                            case 18:
                            case "end":
                                return u.stop()
                            }
                    }
                    ), Wp, null, [[1, 16]])
                }
                function ed(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R, C, I, A, D, P, w;
                    return L().wrap((function(x) {
                        for (; ; )
                            switch (x.prev = x.next) {
                            case 0:
                                return t = e.payload,
                                r = t.conversation,
                                n = t.previousId,
                                a = t.messageId,
                                t.sourceInfo,
                                x.prev = 1,
                                x.next = 4,
                                (0,
                                vr.select)(Zn);
                            case 4:
                                if (o = x.sent,
                                s = (c = r).id,
                                i = c.lack,
                                o || !i) {
                                    x.next = 12;
                                    break
                                }
                                return x.next = 9,
                                (0,
                                vr.call)(Al, {
                                    payload: {
                                        conversationIds: [s]
                                    }
                                });
                            case 9:
                                return x.next = 11,
                                (0,
                                vr.select)(Gi(s));
                            case 11:
                                r = x.sent;
                            case 12:
                                if (p = (u = r).faking,
                                d = u.status,
                                l = u.to_id,
                                f = u.shop_id,
                                _ = u.latest_message_id,
                                E = u.to_shop_id,
                                S = u.unread_count,
                                h = u.last_read_message_id,
                                zP({
                                    shopId: f,
                                    operation: N.TrackerOperation.IMPRESSION,
                                    trackerName: "impressionChatRoom",
                                    data: {
                                        convo_userid: l,
                                        conversation_id: s
                                    }
                                }),
                                o) {
                                    x.next = 24;
                                    break
                                }
                                return x.next = 17,
                                (0,
                                vr.call)(N.getItem, "sc_redirect");
                            case 17:
                                return O = x.sent,
                                v = {},
                                O && (g = O.orderId,
                                T = O.productId,
                                m = O.conversationId,
                                O.shopId,
                                parseInt(s) === parseInt(m) && (g ? v = {
                                    order_id: parseInt(g)
                                } : T && (v = {
                                    product_id: parseInt(T)
                                }))),
                                x.next = 22,
                                (0,
                                vr.spawn)(Zp, {
                                    conversation: r,
                                    sourceInfo: v
                                });
                            case 22:
                                x.next = 26;
                                break;
                            case 24:
                                return x.next = 26,
                                (0,
                                vr.spawn)(Zp, {
                                    conversation: r
                                });
                            case 26:
                                return x.next = 28,
                                (0,
                                vr.select)(hy);
                            case 28:
                                if ((b = x.sent) && b[f] || !o) {
                                    x.next = 33;
                                    break
                                }
                                return x.next = 33,
                                (0,
                                vr.call)(ky, Dy({
                                    shopId: f
                                }));
                            case 33:
                                return x.next = 35,
                                (0,
                                vr.put)(Ic({
                                    userId: l,
                                    shopId: f,
                                    buyerShopId: E
                                }));
                            case 35:
                                return x.next = 37,
                                (0,
                                vr.put)(Xu());
                            case 37:
                                return y = "number" == typeof S && S > 0 && !a,
                                x.next = 40,
                                (0,
                                vr.select)(ii);
                            case 40:
                                return R = x.sent,
                                y = y && !R,
                                x.next = 44,
                                (0,
                                vr.put)(zu({
                                    isNavigateToUnreadMessage: y
                                }));
                            case 44:
                                return x.next = 46,
                                (0,
                                vr.put)(Mu({
                                    conversationId: s,
                                    previousId: n
                                }));
                            case 46:
                                return x.next = 48,
                                Co().put(Ao().fetchMessagesRequested({
                                    payload: {
                                        conversationId: s,
                                        messageId: a || (y ? h : void 0),
                                        direction: a || y ? "around" : "older",
                                        reset: !0
                                    }
                                }));
                            case 48:
                                return x.next = 50,
                                (0,
                                vr.put)(Zu({
                                    shopId: f,
                                    buyerId: l
                                }));
                            case 50:
                                return x.next = 52,
                                Co().call(Ao().handleCurrentConversationChange({
                                    payload: s
                                }));
                            case 52:
                                if (C = x.sent,
                                !(!p && "closed" !== d && S > 0 || C)) {
                                    x.next = 60;
                                    break
                                }
                                return I = C || _,
                                x.next = 58,
                                (0,
                                vr.put)(fu({
                                    conversationId: s,
                                    isRead: !0,
                                    latestMessageId: I
                                }));
                            case 58:
                                return x.next = 60,
                                (0,
                                vr.put)(Du({
                                    conversationId: s
                                }));
                            case 60:
                                if (A = {},
                                !o) {
                                    x.next = 69;
                                    break
                                }
                                return x.next = 64,
                                (0,
                                vr.call)(mv, {
                                    payload: {
                                        shopId: f
                                    }
                                });
                            case 64:
                                return D = x.sent,
                                P = D.auth_names,
                                w = void 0 === P ? [] : P,
                                x.next = 69,
                                (0,
                                vr.put)(Bu({
                                    access: w
                                }));
                            case 69:
                                return x.next = 71,
                                (0,
                                vr.select)(yO(f));
                            case 71:
                                if (A = x.sent) {
                                    x.next = 76;
                                    break
                                }
                                return x.next = 75,
                                (0,
                                vr.call)(av, {
                                    payload: {
                                        shopId: f
                                    }
                                });
                            case 75:
                                A = x.sent;
                            case 76:
                                return x.next = 78,
                                (0,
                                vr.put)(Xr({
                                    name: "shops",
                                    id: f,
                                    record: $p({}, A)
                                }));
                            case 78:
                                if (a) {
                                    x.next = 83;
                                    break
                                }
                                return x.next = 83,
                                Co().put(Ao().messageSyncUpdate({
                                    payload: {
                                        conversation: r
                                    }
                                }));
                            case 83:
                                KD.emit("scrollToConversation", s),
                                x.next = 89;
                                break;
                            case 86:
                                x.prev = 86,
                                x.t0 = x.catch(1),
                                console.log("*** Show Conversation Failed: ", x.t0);
                            case 89:
                            case "end":
                                return x.stop()
                            }
                    }
                    ), Kp, null, [[1, 86]])
                }
                function td(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                if (t = e.payload,
                                r = t.type,
                                n = t.conversationId,
                                a = t.previousId,
                                r !== N.ConversationTypeEnum.Agent) {
                                    o.next = 10;
                                    break
                                }
                                return o.next = 5,
                                (0,
                                vr.put)(q_({
                                    conversationId: n,
                                    previousId: a
                                }));
                            case 5:
                                return o.next = 7,
                                (0,
                                vr.put)(Nu({
                                    type: r
                                }));
                            case 7:
                                return o.next = 9,
                                (0,
                                vr.put)(Uu());
                            case 9:
                                return o.abrupt("return");
                            case 10:
                                return o.next = 12,
                                (0,
                                vr.put)(Ku({
                                    conversationId: n,
                                    previousId: a
                                }));
                            case 12:
                                return o.next = 14,
                                (0,
                                vr.put)(Nu({
                                    type: r
                                }));
                            case 14:
                                return o.next = 16,
                                (0,
                                vr.put)(W_());
                            case 16:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), zp)
                }
                function rd() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)(ku, ed);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(Mu, td);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Jp)
                }
                const nd = (e(Qp = {}, $s.SHOW_NORMAL_CONVERSATION_SUCCEEDED, (function(e, t) {
                    var r = t.payload
                      , n = r.conversationId
                      , a = r.previousId;
                    return $p($p({}, e), {}, {
                        currentConversationId: n,
                        previousConversationId: a
                    })
                }
                )),
                e(Qp, $s.RESET_CONVERSATION_REQUESTED, (function(e) {
                    return $p($p({}, e), {}, {
                        currentConversationId: null
                    })
                }
                )),
                e(Qp, $s.SET_NAVIGATE_TO_UNREAD_MESSAGE, (function(e, t) {
                    var r = t.payload.isNavigateToUnreadMessage;
                    return $p($p({}, e), {}, {
                        isNavigateToUnreadMessage: r
                    })
                }
                )),
                e(Qp, $s.SET_NAVIGATE_TO_UNREAD_MESSAGE_ID, (function(e, t) {
                    var r = t.payload.navigateToUnreadMessageId;
                    return $p($p({}, e), {}, {
                        navigateToUnreadMessageId: r
                    })
                }
                )),
                e(Qp, $s.RESET_NAVIGATE_TO_UNREAD_MESSAGE_ID, (function(e) {
                    return $p($p({}, e), {}, {
                        navigateToUnreadMessageId: ""
                    })
                }
                )),
                e(Qp, $s.SET_CURRENT_CONVERSATION_TYPE, (function(e, t) {
                    var r = t.payload.type;
                    return $p($p({}, e), {}, {
                        currentConversationType: r
                    })
                }
                )),
                Qp)
                  , ad = e({}, $s.UPDATE_CONVERSATION_FILTER, up(N.ConversationTypeEnum.Normal));
                function od(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function cd(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? od(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : od(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var sd, id = ["id", "name", "region", "shop_id", "sold", "stock", "status", "original_price", "actual_price", "image", "image_hash", "promotion_label", "raw_discount"], ud = {
                    region: "country",
                    status: "status",
                    original_price: "original_prices",
                    actual_price: "actual_prices",
                    promotion_label: "promotion_label"
                }, pd = {
                    id: "item_id",
                    region: "region",
                    actual_price: "price"
                }, dd = cd(cd({}, pd), {}, {
                    original_price: "price_before_discount",
                    image_hash: "thumb_url"
                }), ld = cd(cd({}, pd), {}, {
                    original_price: "price_before_discount",
                    shop_id: "shop_id"
                }), fd = cd(cd({}, pd), {}, {
                    shop_id: "shop_id"
                }), _d = cd(cd({}, pd), {}, {
                    shop_id: "shop_id",
                    original_price: "hidden_price_display"
                }), Ed = {
                    id: "item_id",
                    name: "name",
                    actual_price: "price"
                }, Sd = ["asking_price", "buyer_id", "conversation_id", "create_at", "discount", "id", "model_id", "model_name", "offer_price", "product", "product_id", "product_deleted", "products_count", "region", "shop_id", "status", "tax_applicable", "tax_value", "total_price"], hd = ["discount", "total_price", "region", "disclaimer"], Od = ["product", "product_deleted"], vd = {
                    asking_price: "asking_price",
                    create_at: "create_at",
                    model_name: "model_name",
                    offer_price: "offer_price",
                    tax_value: "tax_value"
                }, gd = ["claimed", "code", "country", "type", "id", "is_used", "name", "expired", "usage_progress", "stock_out", "rule_text", "displayed_time", "discount_text", "show_usage_progress_bar", "show_usage_progress_text", "status", "start_time", "end_time", "current_usage", "total_usage"], Td = {
                    rule_text: "rule_text",
                    displayed_time: "displayed_time",
                    expired: "expired",
                    stock_out: "stock_out",
                    discount_text: "discount_text",
                    show_usage_progress_bar: "show_usage_progress_bar",
                    show_usage_progress_text: "show_usage_progress_text"
                }, md = P(439).t;
                function bd(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function yd(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? bd(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : bd(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Rd = N.ProductPromotionLabel.SHOW_DISCOUNT
                  , Cd = N.ProductPromotionLabel.FLASH_SALES
                  , Id = N.ProductPromotionLabel.CAMPAIGN
                  , Ad = N.ProductPromotionLabel.BUNDLE_DEAL
                  , Dd = N.ProductPromotionLabel.ADD_ON_DEAL
                  , Pd = N.ProductPromotionLabel.GIFT_WITH_PURCHASE
                  , wd = [Rd, Cd, Id, Ad, Dd, Pd]
                  , xd = (e(sd = {}, N.ProductStatusUsingString.DELETED, N.ProductStatusUsingNumber.DELETED),
                e(sd, N.ProductStatusUsingString.NORMAL, N.ProductStatusUsingNumber.NORMAL),
                e(sd, N.ProductStatusUsingString.BANNED, N.ProductStatusUsingNumber.BANNED),
                e(sd, N.ProductStatusUsingString.SOLD_OUT, N.ProductStatusUsingNumber.SOLD_OUT),
                e(sd, N.ProductStatusUsingString.DELISTED, N.ProductStatusUsingNumber.DELISTED),
                sd)
                  , Nd = "???"
                  , kd = function(e, t) {
                    if (!e)
                        return e;
                    var r = (0,
                    N.formatPrice)(e, t);
                    return r.includes("NaN") && (r = r.replace("NaN", Nd)),
                    r
                }
                  , Ud = function(e) {
                    var t = e.original_price
                      , r = e.actual_price;
                    return (t === r || r.includes(Nd)) && (e.original_price = ""),
                    e
                }
                  , Md = function(e) {
                    var t = {};
                    return id.forEach((function(r) {
                        var n = ud[r];
                        switch (n) {
                        case "country":
                            t[r] = e[n];
                            break;
                        case "status":
                            t[r] = xd[e[n]];
                            break;
                        case "original_prices":
                        case "actual_prices":
                            t[r] = function(e, t) {
                                var r = x(e, 2)
                                  , n = r[0]
                                  , a = r[1];
                                if (n === a)
                                    return kd(n, t);
                                var o = kd(n, t)
                                  , c = kd(a, t);
                                return o.includes(Nd) ? o : c.includes(Nd) ? c : "".concat(o, " - ").concat(c)
                            }(e[n], e.country);
                            break;
                        case "promotion_label":
                            t[r] = function(e) {
                                var t = [];
                                return wd.forEach((function(r) {
                                    if (e[r]) {
                                        var n = "common.label.".concat(r);
                                        r === Rd ? t.push({
                                            key: r,
                                            value: md(n, {
                                                discount: (0,
                                                N.formatDiscount)(e[r])
                                            })
                                        }) : t.push({
                                            key: r,
                                            value: md(n)
                                        })
                                    }
                                }
                                )),
                                t
                            }(e[n]);
                            break;
                        default:
                            t[r] = e[r]
                        }
                    }
                    )),
                    Ud(t)
                }
                  , jd = function(e, t) {
                    var r = {};
                    return id.forEach((function(n) {
                        var a = dd[n];
                        switch (a) {
                        case "item_id":
                        case "thumb_url":
                            r[n] = e[a];
                            break;
                        case "region":
                            r[n] = t;
                            break;
                        case "price_before_discount":
                        case "price":
                            r[n] = kd(e[a], t);
                            break;
                        default:
                            r[n] = e[n]
                        }
                    }
                    )),
                    Ud(r)
                }
                  , Ld = function(e, t, r) {
                    var n = {};
                    return id.forEach((function(a) {
                        var o = ld[a];
                        switch (o) {
                        case "item_id":
                            n[a] = e[o];
                            break;
                        case "region":
                            n[a] = t;
                            break;
                        case "shop_id":
                            n[a] = r;
                            break;
                        case "price_before_discount":
                        case "price":
                            n[a] = kd(e[o], t);
                            break;
                        default:
                            n[a] = e[a]
                        }
                    }
                    )),
                    Ud(n)
                }
                  , Fd = 1e5
                  , Gd = function(e, t) {
                    var r = e.amount_spent;
                    return e.amount_spent = kd("".concat(r / Fd), t),
                    e
                }
                  , Hd = function(e, t, r) {
                    var n = {};
                    return id.forEach((function(a) {
                        var o = fd[a];
                        switch (o) {
                        case "item_id":
                            n[a] = e[o];
                            break;
                        case "region":
                            n[a] = t;
                            break;
                        case "shop_id":
                            n[a] = r;
                            break;
                        case "price":
                            n[a] = kd(e[o], t);
                            break;
                        default:
                            n[a] = e[a]
                        }
                    }
                    )),
                    Ud(n)
                }
                  , Vd = function(e, t) {
                    var r = e.rule_type
                      , n = e.discount_percentage
                      , a = e.discount_value
                      , o = e.fix_price;
                    if (1 === r)
                        e.fix_price = kd("".concat(o / Fd), t);
                    else if (2 === r) {
                        var c = n / Fd;
                        "tw" === (t || "SG").toLowerCase() && (c = 10 - c / 10,
                        Number.isInteger(c) || (c = c.toFixed(1))),
                        e.discount_percentage = c
                    } else
                        e.discount_value = kd("".concat(a / Fd), t);
                    return e
                }
                  , Bd = function(e, t, r) {
                    var n = {};
                    return id.forEach((function(a) {
                        var o = _d[a];
                        switch (o) {
                        case "item_id":
                            n[a] = e[o];
                            break;
                        case "region":
                            n[a] = t;
                            break;
                        case "shop_id":
                            n[a] = r;
                            break;
                        case "hidden_price_display":
                            n[a] = (0,
                            N.transPrice)(e[o], t);
                            break;
                        case "price":
                            n[a] = kd("".concat(e[o] / Fd), t);
                            break;
                        default:
                            n[a] = e[a]
                        }
                    }
                    )),
                    Ud(n)
                }
                  , Yd = function(e) {
                    var t = {};
                    return id.forEach((function(r) {
                        var n, a = Ed[r];
                        switch (a) {
                        case "item_id":
                            t[r] = e[a];
                            break;
                        case "name":
                            t[r] = null != e && null !== (n = e.model) && void 0 !== n && n.model_name ? e.model.model_name : e[a];
                            break;
                        case "price":
                            var o, c = null != e && null !== (o = e.model) && void 0 !== o && o.price ? e.model.price : e[a];
                            t[r] = kd(c, e.region);
                            break;
                        default:
                            t[r] = e[r]
                        }
                    }
                    )),
                    Ud(t)
                }
                  , qd = function(e) {
                    var t = e.model_name;
                    return t && t.includes(",") && (e.model_name = t.replace(/,/g, " · ")),
                    e
                }
                  , Qd = function(e, t, r, n, a, o) {
                    var c = {};
                    return hd.forEach((function(t) {
                        switch (t) {
                        case "discount":
                            c[t] = function(e, t, r) {
                                var n = e.offer_price
                                  , a = e.asking_price
                                  , o = Number(n) / Number(a);
                                if (function(e, t) {
                                    return e && (0,
                                    N.isVisitingCNSC)() || "TW" === (null == t ? void 0 : t.toUpperCase())
                                }(t, r)) {
                                    var c = (10 * o).toFixed(o < .05 ? 2 : 1)
                                      , s = Number.isInteger(Number(c)) ? Number.parseInt(c) : c;
                                    return "".concat(s, "折")
                                }
                                var i = (100 * (1 - o)).toFixed(1)
                                  , u = Number.parseInt(i)
                                  , p = [0, 100].includes(u) ? u : i;
                                return "".concat(p).concat(md("message.offer.discount"))
                            }(e, n, r);
                            break;
                        case "total_price":
                            c[t] = kd(function(e) {
                                var t = e.offer_price
                                  , r = e.tax_value
                                  , n = e.products_count;
                                return ((Number(t) - Number(r)) * n).toString()
                            }(e), r);
                            break;
                        case "region":
                            c[t] = r;
                            break;
                        case "disclaimer":
                            c[t] = function(e, t) {
                                var r = e.offer_disclaimer;
                                return (r.find((function(e) {
                                    return (0,
                                    N.getTranslationLocale)(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())
                                }
                                )) || r.find((function(e) {
                                    return "en" === e.language
                                }
                                )) || {}).disclaimer
                            }(e, o)
                        }
                    }
                    )),
                    Od.forEach((function(t) {
                        switch (t) {
                        case "product":
                            c[t] = yd(yd({}, a), {}, {
                                original_price: "",
                                actual_price: kd(e.asking_price, r)
                            });
                            break;
                        case "product_deleted":
                            c[t] = function(e) {
                                var t = e.id
                                  , r = e.status;
                                return !(!t || r !== N.ProductStatusUsingNumber.DELETED)
                            }(a)
                        }
                    }
                    )),
                    Sd.forEach((function(n) {
                        if (!hd.includes(n) && !Od.includes(n)) {
                            var a = vd[n];
                            switch (a) {
                            case "asking_price":
                            case "offer_price":
                            case "tax_value":
                                c[n] = kd(e[a], r);
                                break;
                            case "create_at":
                                c[n] = (0,
                                N.getFormattedTime)(e[a]);
                                break;
                            case "model_name":
                                c[n] = function(e, t) {
                                    if (t && t.includes(",")) {
                                        var r = "detail" === e ? " · " : " / ";
                                        return t.replace(/,/g, r)
                                    }
                                    return t
                                }(t, e[a]);
                                break;
                            default:
                                c[n] = e[n]
                            }
                        }
                    }
                    )),
                    c
                }
                  , Wd = "message.voucher.rule"
                  , Kd = function(e, t) {
                    return (0,
                    N.formatPrice)(e, t, {
                        withUnit: e >= 1e4
                    })
                }
                  , zd = function(e) {
                    var t = e.country
                      , r = e.min_basket_size
                      , n = e.reward.max_capped_amount
                      , a = Kd(r, t)
                      , o = md("".concat(Wd, ".min_spend"), {
                        spend: a
                    });
                    return "number" == typeof n && (o = md("".concat(Wd, ".min_spend_max_cap"), {
                        spend: a,
                        cap: Kd(n, t)
                    })),
                    o
                }
                  , Jd = function(e) {
                    var t = e.country
                      , r = e.reward
                      , n = r.value
                      , a = r.type
                      , o = r.discount_type === N.DiscountType.PERCENTAGE ? "".concat(n, "%").concat(" " + md("common.label.off")) : (0,
                    N.formatPrice)(n, t);
                    return a === N.RewardType.COIN_CASHBACK && (o = "".concat(o, " ").concat(md("conversation_detail.workstation.voucher_panel.coins_cashback"))),
                    o
                }
                  , Xd = function(e) {
                    return e.status === N.VoucherStatus.FINISHED
                }
                  , $d = function(e) {
                    return e.current_usage >= e.total_usage
                }
                  , Zd = function(e, t) {
                    var r = !t && Xd(e)
                      , n = e.status
                      , a = e.start_time
                      , o = e.end_time;
                    return md("".concat("conversation_detail.workstation.voucher_panel", ".").concat(r ? N.VoucherStatus.ONGOING : n, "_time"), {
                        time: n === N.VoucherStatus.SCHEDULED ? (0,
                        N.getFormattedTime)(a, "MM.DD.YYYY h:mm") : (0,
                        N.getFormattedTime)(o, "MM.DD.YYYY")
                    })
                }
                  , el = function(e, t) {
                    var r = Xd(e)
                      , n = $d(e)
                      , a = e.is_used
                      , o = e.usage_progress
                      , c = e.country
                      , s = a || r || n;
                    return (o >= 50 || "id" === c.toLowerCase() && (t || o >= 25)) && !s
                }
                  , tl = function(e) {
                    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]
                      , r = {}
                      , n = Xd(e)
                      , a = $d(e);
                    return gd.forEach((function(o) {
                        switch (Td[o]) {
                        case "rule_text":
                            r[o] = zd(e);
                            break;
                        case "displayed_time":
                            r[o] = Zd(e, t);
                            break;
                        case "expired":
                            r[o] = n;
                            break;
                        case "stock_out":
                            r[o] = a;
                            break;
                        case "discount_text":
                            r[o] = Jd(e);
                            break;
                        case "show_usage_progress_bar":
                            r[o] = el(e, !0);
                            break;
                        case "show_usage_progress_text":
                            r[o] = el(e, !1);
                            break;
                        default:
                            r[o] = e[o]
                        }
                    }
                    )),
                    r
                }
                  , rl = function(e, t) {
                    var r = t.expired
                      , n = t.stockOut
                      , a = yd({}, e);
                    return r ? (a.status = "finished",
                    {
                        status: "finished",
                        expired: r,
                        displayed_time: Zd(a, r),
                        show_usage_progress_bar: el(a, !0),
                        show_usage_progress_text: el(a, !1)
                    }) : n ? (a.current_usage = a.total_usage,
                    {
                        current_usage: a.total_usage,
                        stock_out: n,
                        show_usage_progress_bar: el(a, !0),
                        show_usage_progress_text: el(a, !1)
                    }) : {}
                };
                function nl(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function al(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? nl(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : nl(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var ol, cl = L().mark(il), sl = L().mark(ul);
                function il(e, t, r, n, a) {
                    var o, c, s, i, u, p, d, l, f, _, E, S, h, O, v;
                    return L().wrap((function(g) {
                        for (; ; )
                            switch (g.prev = g.next) {
                            case 0:
                                return o = C("conversations", e),
                                g.next = 3,
                                (0,
                                vr.select)(wi);
                            case 3:
                                return c = g.sent,
                                g.next = 6,
                                (0,
                                vr.select)((function(e) {
                                    return e.entityReducer
                                }
                                ));
                            case 6:
                                return s = g.sent,
                                i = s.conversations,
                                u = void 0 === i ? {} : i,
                                p = s.shops,
                                d = void 0 === p ? {} : p,
                                l = [],
                                c && c.faking ? (f = c.id,
                                l = BD(t, o.result, n, f)) : l = BD(t, o.result, n),
                                _ = l.length < N.persistLimit ? null : _e(l).splice(0, N.persistLimit),
                                g.next = 16,
                                (0,
                                vr.put)(Jr({
                                    entities: {
                                        persist: _
                                    }
                                }));
                            case 16:
                                return g.next = 18,
                                (0,
                                vr.call)(VD, u, e, "conversations");
                            case 18:
                                return g.next = 20,
                                (0,
                                vr.spawn)(ul, e);
                            case 20:
                                if (!(E = a && a.length)) {
                                    g.next = 26;
                                    break
                                }
                                return g.next = 24,
                                (0,
                                vr.call)(VD, d, a, "shops");
                            case 24:
                                return g.next = 26,
                                (0,
                                vr.put)(qO({
                                    shopIds: a.map((function(e) {
                                        return e.id
                                    }
                                    ))
                                }));
                            case 26:
                                if (!(S = QD(_, r, t)) || !S.changed) {
                                    g.next = 38;
                                    break
                                }
                                if (O = S.lastConversationId,
                                "older" !== n && "reset" !== n) {
                                    g.next = 33;
                                    break
                                }
                                h = o.entities.conversations && o.entities.conversations[O],
                                g.next = 37;
                                break;
                            case 33:
                                return g.next = 35,
                                (0,
                                vr.select)(vi);
                            case 35:
                                v = g.sent,
                                h = v.find((function(e) {
                                    return e.id === O
                                }
                                ));
                            case 37:
                                h && (E ? S.oldestReceivedMessageId = h.latest_message_id : S.oldestTimestampNano = h.last_msg_time_nano);
                            case 38:
                                return g.abrupt("return", {
                                    persistObj: S,
                                    resultConversationIds: l
                                });
                            case 39:
                            case "end":
                                return g.stop()
                            }
                    }
                    ), cl)
                }
                function ul(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _;
                    return L().wrap((function(E) {
                        for (; ; )
                            switch (E.prev = E.next) {
                            case 0:
                                if (t = [],
                                e.forEach((function(e) {
                                    (0,
                                    N.hasTargetMessageOption)(e.last_message_option, N.MessageOption.MSG_OPT_RECALL) && t.push({
                                        conversation_id: e.id,
                                        shop_id: e.shop_id
                                    })
                                }
                                )),
                                !t.length) {
                                    E.next = 27;
                                    break
                                }
                                return E.next = 5,
                                (0,
                                vr.call)(fr, {
                                    method: "POST",
                                    parent: "conversation",
                                    resource: "last_msg_in_conversation_batch",
                                    payload: JSON.stringify({
                                        pairs: t
                                    })
                                });
                            case 5:
                                if (r = E.sent,
                                !(n = Object.keys(r)).length) {
                                    E.next = 27;
                                    break
                                }
                                a = {};
                            case 9:
                                if (!n.length) {
                                    E.next = 24;
                                    break
                                }
                                if (!(o = n.shift())) {
                                    E.next = 22;
                                    break
                                }
                                return E.next = 14,
                                (0,
                                vr.select)(Gi(o));
                            case 14:
                                if (c = E.sent,
                                (0,
                                N.hasTargetMessageOption)(c.last_message_option, N.MessageOption.MSG_OPT_RECALL)) {
                                    E.next = 17;
                                    break
                                }
                                return E.abrupt("continue", 9);
                            case 17:
                                s = r[o],
                                i = s.id,
                                u = s.type,
                                p = s.content,
                                d = s.to_shop_id,
                                l = s.created_at,
                                f = (0,
                                N.getChatBotParams)(s, {
                                    updateMaxGeneralOptionHideTime: c.shop_id !== d
                                }),
                                _ = (0,
                                N.getCrmPreviewParams)(s),
                                a[o] = al(al({
                                    latest_message_id: i,
                                    latest_message_type: u,
                                    latest_message_content: p,
                                    last_message_time: l
                                }, f), _);
                            case 22:
                                E.next = 9;
                                break;
                            case 24:
                                if ((0,
                                N.checkEmptyObject)(a)) {
                                    E.next = 27;
                                    break
                                }
                                return E.next = 27,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: a
                                }));
                            case 27:
                            case "end":
                                return E.stop()
                            }
                    }
                    ), sl)
                }
                function pl(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function dl(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? pl(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : pl(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var ll = L().mark(yl)
                  , fl = L().mark(Rl)
                  , _l = L().mark(Cl)
                  , El = L().mark(Il)
                  , Sl = L().mark(Al)
                  , hl = L().mark(Dl)
                  , Ol = L().mark(Pl)
                  , vl = ["pinned", "unreplied"]
                  , gl = function(e, t, r, n, a) {
                    var o = {}
                      , c = "older" === e ? t : "latest" === e ? r : ""
                      , s = vl.includes(n);
                    return o.resource = s ? "conversation/list" : "conversations",
                    o.params = {
                        next_timestamp_nano: c,
                        direction: "latest" === e && c ? "latest" : "older"
                    },
                    a && (o.params._s = a),
                    "unread" === n && (o.params.unread_only = !0),
                    s && (o.params.type = n),
                    new Promise((function(e, t) {
                        fr(o).then((function(t) {
                            var r = t.conversations
                              , n = void 0 === r ? [] : r
                              , a = t.page_result;
                            e([n, void 0 === a ? {} : a])
                        }
                        )).catch((function(e) {
                            t(e)
                        }
                        ))
                    }
                    ))
                }
                  , Tl = function(e) {
                    var t = e.source
                      , r = e.filter
                      , n = e.shopId
                      , a = e.direction
                      , o = e.oldestMessageRegion
                      , c = e.latestMessageRegion
                      , s = e.oldestReceivedMessageId
                      , i = e.latestReceivedMessageId
                      , u = e.regionFilter
                      , p = ""
                      , d = "";
                    "older" === a ? (p = o,
                    d = s) : "latest" === a && (p = c,
                    d = i);
                    var l = {
                        direction: "latest" === a ? "latest" : "older"
                    };
                    return n && (l.shop_id = n),
                    p && (l.last_message_region = p),
                    d && (l.last_received_message_id = d),
                    r && ["unread", "pinned"].includes(r) && (l.type = r),
                    t && (l._s = t),
                    "all" !== u && (l.region = u),
                    new Promise((function(e, t) {
                        fr({
                            parent: "subaccount",
                            resource: "conversations",
                            params: l
                        }).then((function(t) {
                            var r = t.conversations;
                            e(void 0 === r ? [] : r)
                        }
                        )).catch((function(e) {
                            t(e)
                        }
                        ))
                    }
                    ))
                }
                  , ml = function(e) {
                    return new Promise((function(t, r) {
                        fr({
                            subServer: "coreapi",
                            parent: "conversation_list_by_ids",
                            params: {
                                conversation_ids: JSON.stringify(e)
                            }
                        }).then((function(e) {
                            var r = e.conversations;
                            t(void 0 === r ? [] : r)
                        }
                        )).catch((function(e) {
                            r(e)
                        }
                        ))
                    }
                    ))
                }
                  , bl = 0;
                function yl(e) {
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2,
                                (0,
                                vr.put)(Gs({
                                    reportPoint: Xt.FETCH_LATEST_CONVS_COUNT,
                                    duration: e
                                }));
                            case 2:
                                bl = 0;
                            case 3:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), ll)
                }
                function Rl(t) {
                    var r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R, C, I, A, D, P, w, x, N, k, U, M, j, F, G, H, V, B, Y, q, Q, W, K, z;
                    return L().wrap((function(J) {
                        for (; ; )
                            switch (J.prev = J.next) {
                            case 0:
                                return r = t.list,
                                n = t.needFetchOfferCount,
                                a = void 0 !== n && n,
                                o = t.conversationId,
                                c = t.handleSave,
                                J.next = 3,
                                (0,
                                vr.select)(Zn);
                            case 3:
                                s = J.sent,
                                i = [],
                                u = [],
                                p = [],
                                d = [],
                                l = {},
                                f = 0;
                            case 7:
                                if (!(f < r.length)) {
                                    J.next = 23;
                                    break
                                }
                                if (_ = r[f],
                                E = _.id,
                                S = _.conversation_id,
                                h = _.type,
                                O = _.content,
                                v = _.latest_message_type,
                                g = _.latest_message_content,
                                T = _.to_id,
                                m = _.shop_id,
                                b = v || h,
                                y = g || O,
                                R = S || E,
                                a && d.push({
                                    buyer_id: T,
                                    shop_id: m
                                }),
                                !["order", "offer", "voucher"].includes(b)) {
                                    J.next = 20;
                                    break
                                }
                                return J.next = 16,
                                (0,
                                vr.select)(Hi(R));
                            case 16:
                                C = J.sent,
                                I = !1,
                                "order" === b && s && C !== y.shop_id && (I = !0),
                                I || (A = "".concat(b, "_id"),
                                D = y[A],
                                P = "order" === b ? u : "offer" === b ? i : p,
                                0 !== (w = y.shop_id) && 0 !== parseInt(D) && (P.push(e({
                                    shop_id: w
                                }, A, parseInt(D))),
                                l[E] = {
                                    type: b,
                                    itemId: D,
                                    conversationId: R
                                }));
                            case 20:
                                f++,
                                J.next = 7;
                                break;
                            case 23:
                                if (Object.keys(l).length || d.length) {
                                    J.next = 25;
                                    break
                                }
                                return J.abrupt("return");
                            case 25:
                                return x = {},
                                J.next = 28,
                                (0,
                                vr.select)(ca);
                            case 28:
                                if (N = J.sent) {
                                    J.next = 34;
                                    break
                                }
                                if (!o) {
                                    J.next = 34;
                                    break
                                }
                                return J.next = 33,
                                (0,
                                vr.select)(Hi(o));
                            case 33:
                                N = J.sent;
                            case 34:
                                return N && (x = {
                                    params: {
                                        shop_id: N
                                    }
                                }),
                                J.prev = 35,
                                J.next = 38,
                                (0,
                                vr.call)(fr, dl(dl({
                                    method: "POST",
                                    parent: "chat_preview",
                                    resource: "detail"
                                }, x), {}, {
                                    payload: JSON.stringify({
                                        offer_preview_req: i,
                                        order_preview_req: u,
                                        voucher_preview_req: p,
                                        offer_count_req: d
                                    })
                                }));
                            case 38:
                                k = J.sent,
                                J.next = 44;
                                break;
                            case 41:
                                J.prev = 41,
                                J.t0 = J.catch(35),
                                k = {};
                            case 44:
                                if (M = (U = k).vouchers,
                                j = void 0 === M ? [] : M,
                                F = U.offers,
                                G = void 0 === F ? [] : F,
                                H = U.orders,
                                V = void 0 === H ? [] : H,
                                B = U.buyer_offer_counts,
                                Y = void 0 === B ? [] : B,
                                j.length || G.length || V.length || Y.length) {
                                    J.next = 47;
                                    break
                                }
                                return J.abrupt("return");
                            case 47:
                                q = {},
                                Q = Object.keys(l),
                                W = L().mark((function e() {
                                    var t, r, n, a, o, c, s, i, u;
                                    return L().wrap((function(e) {
                                        for (; ; )
                                            switch (e.prev = e.next) {
                                            case 0:
                                                return t = z[K],
                                                r = void 0,
                                                n = l[t],
                                                a = n.type,
                                                o = n.itemId,
                                                c = n.conversationId,
                                                e.next = 5,
                                                (0,
                                                vr.select)(Zi(c));
                                            case 5:
                                                s = e.sent,
                                                e.t0 = a,
                                                e.next = "voucher" === e.t0 ? 9 : "offer" === e.t0 ? 12 : "order" === e.t0 ? 15 : 17;
                                                break;
                                            case 9:
                                                return i = j.find((function(e) {
                                                    return e.id === o
                                                }
                                                )),
                                                r = i ? dl(dl({}, i), tl(i)) : i,
                                                e.abrupt("break", 17);
                                            case 12:
                                                return u = G.find((function(e) {
                                                    return e.id === o
                                                }
                                                )),
                                                r = u ? dl(dl({}, u), {}, {
                                                    offer_price: kd(u.offer_price, s)
                                                }) : u,
                                                e.abrupt("break", 17);
                                            case 15:
                                                return r = V.find((function(e) {
                                                    return e.id === o
                                                }
                                                )),
                                                e.abrupt("break", 17);
                                            case 17:
                                                r && (q[t] = r);
                                            case 18:
                                            case "end":
                                                return e.stop()
                                            }
                                    }
                                    ), e)
                                }
                                )),
                                K = 0,
                                z = Q;
                            case 51:
                                if (!(K < z.length)) {
                                    J.next = 56;
                                    break
                                }
                                return J.delegateYield(W(), "t1", 53);
                            case 53:
                                K++,
                                J.next = 51;
                                break;
                            case 56:
                                c && c({
                                    records: q,
                                    buyerOfferCounts: Y
                                });
                            case 57:
                            case "end":
                                return J.stop()
                            }
                    }
                    ), fl, null, [[35, 41]])
                }
                function Cl(e) {
                    var t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return t = {},
                                r = {},
                                n.next = 3,
                                (0,
                                vr.call)(Rl, {
                                    list: e,
                                    needFetchOfferCount: !0,
                                    handleSave: function(e) {
                                        var n = e.records
                                          , a = e.buyerOfferCounts;
                                        Object.keys(n).forEach((function(e) {
                                            t[e] = {
                                                latest_message_content: n[e]
                                            }
                                        }
                                        )),
                                        a.forEach((function(e) {
                                            var t = e.shop_id
                                              , n = e.buyer_id
                                              , a = e.pending_count
                                              , o = "".concat(t, "_").concat(n);
                                            r[o] = a
                                        }
                                        ))
                                    }
                                });
                            case 3:
                                return n.next = 5,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: t
                                }));
                            case 5:
                                return n.next = 7,
                                (0,
                                vr.put)(tp({
                                    records: r
                                }));
                            case 7:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), _l)
                }
                function Il(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R, C, I, A, D, P, w, k, U, M, j, F, G, H, V, B, Y, q, Q, W, K, z, J, X, $, Z, ee, te, re, ne, ae, oe, ce, se, ie, ue, pe, de, le, fe, Ee, Se, he;
                    return L().wrap((function(L) {
                        for (; ; )
                            switch (L.prev = L.next) {
                            case 0:
                                return t = e.payload,
                                r = t.direction,
                                n = t.noPending,
                                a = t.source,
                                o = t.isFromRegionFilter,
                                s = null,
                                (i = (c = "latest" === r) && a === N.ConversationSource.PRELOAD) && (bl++,
                                window.__PRELOAD_FETCH_CONVERSATION_TIMESTAMP__ = Date.now()),
                                L.next = 7,
                                (0,
                                vr.select)(kO);
                            case 7:
                                if (L.t0 = L.sent,
                                L.t0) {
                                    L.next = 10;
                                    break
                                }
                                L.t0 = {};
                            case 10:
                                return s = L.t0.id,
                                L.next = 13,
                                (0,
                                vr.select)(Zn);
                            case 13:
                                return u = L.sent,
                                L.next = 16,
                                (0,
                                vr.select)(Ci);
                            case 16:
                                return p = L.sent.toLowerCase(),
                                L.next = 19,
                                (0,
                                vr.select)(Ai);
                            case 19:
                                return d = L.sent.toLowerCase(),
                                L.next = 22,
                                (0,
                                vr.select)(na);
                            case 22:
                                if (l = L.sent,
                                f = !u,
                                _ = a === N.ConversationSource.SYNC,
                                "reset" !== r) {
                                    L.next = 30;
                                    break
                                }
                                return L.next = 28,
                                Co().put(Ao().resetConversationQueue({
                                    isLazy: !0
                                }));
                            case 28:
                                return L.next = 30,
                                (0,
                                vr.put)(cu({
                                    conversationIds: [],
                                    oldestMessageRegion: "",
                                    latestMessageRegion: "",
                                    oldestReceivedMessageId: "",
                                    latestReceivedMessageId: "",
                                    maxLatestReceivedMessageId: "",
                                    oldestTimestampNano: "",
                                    latestTimestampNano: "",
                                    maxLatestTimestampNano: "",
                                    direction: "reset",
                                    hasMore: !0,
                                    status: N.DataFetchStatus.SUCCEED,
                                    persist: null,
                                    shouldFetchByTimestamp: f
                                }));
                            case 30:
                                return L.next = 32,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer
                                }
                                ));
                            case 32:
                                if (E = L.sent,
                                S = E.oldestTimestampNano,
                                h = E.latestTimestampNano,
                                O = E.maxLatestTimestampNano,
                                v = E.oldestReceivedMessageId,
                                g = E.latestReceivedMessageId,
                                T = E.maxLatestReceivedMessageId,
                                m = E.hasMore,
                                b = E.persist,
                                y = E.conversationIds,
                                R = E.status,
                                C = E.syncFetchException,
                                I = E.currentConversationId,
                                A = E.oldestMessageRegion,
                                D = E.latestMessageRegion,
                                P = "reset" === r || (f ? !S : !v) && "older" === r,
                                L.prev = 48,
                                "older" === r && (f ? "0" === S : !m)) {
                                    L.next = 182;
                                    break
                                }
                                if (n) {
                                    L.next = 53;
                                    break
                                }
                                return L.next = 53,
                                (0,
                                vr.put)(su({
                                    status: P ? N.DataFetchStatus.INIT_PENDING : N.DataFetchStatus.PENDING
                                }));
                            case 53:
                                if (w = [],
                                k = {},
                                !f) {
                                    L.next = 64;
                                    break
                                }
                                return L.next = 58,
                                (0,
                                vr.call)(gl, r, S, h, p, a);
                            case 58:
                                U = L.sent,
                                M = x(U, 2),
                                w = M[0],
                                k = M[1],
                                L.next = 67;
                                break;
                            case 64:
                                return L.next = 66,
                                (0,
                                vr.call)(Tl, {
                                    source: a,
                                    shopId: s,
                                    direction: r,
                                    oldestMessageRegion: A,
                                    latestMessageRegion: D,
                                    oldestReceivedMessageId: v,
                                    latestReceivedMessageId: g,
                                    filter: p,
                                    regionFilter: d
                                });
                            case 66:
                                w = L.sent;
                            case 67:
                                if (!(j = w.length)) {
                                    L.next = 166;
                                    break
                                }
                                if ("reset" === r && (!f || vl.includes(p))) {
                                    L.next = 79;
                                    break
                                }
                                if (F = w[j - 1],
                                G = "older" === r,
                                f ? (H = G ? S : h,
                                V = G ? F.next_timestamp_nano : F.last_message_time_nano) : (H = G ? v : g,
                                V = F.latest_message_id),
                                !H || !V) {
                                    L.next = 79;
                                    break
                                }
                                if (G ? V < H : V > H) {
                                    L.next = 79;
                                    break
                                }
                                return L.next = 78,
                                (0,
                                vr.put)(cu({
                                    direction: r,
                                    status: N.DataFetchStatus.SUCCEED,
                                    hasMore: c,
                                    persist: b,
                                    oldestReceivedMessageId: v,
                                    latestReceivedMessageId: g,
                                    maxLatestReceivedMessageId: g,
                                    conversationIds: y,
                                    oldestTimestampNano: S,
                                    latestTimestampNano: h,
                                    maxLatestTimestampNano: h,
                                    shouldFetchByTimestamp: f
                                }));
                            case 78:
                                return L.abrupt("return");
                            case 79:
                                if (B = {},
                                w.forEach((function(e) {
                                    B[e.id] = !0
                                }
                                )),
                                Ap(w),
                                Y = w[0],
                                q = Dp(Y, k.next_cursor),
                                Q = Y.latest_message_id,
                                W = {
                                    status: N.DataFetchStatus.SUCCEED,
                                    direction: r,
                                    conversationIdsMap: B,
                                    shouldFetchByTimestamp: f,
                                    latestMessageRegion: Y.last_message_region,
                                    maxLatestReceivedMessageId: !T || T < Q ? Q : T
                                },
                                !f) {
                                    L.next = 101;
                                    break
                                }
                                return K = q.oldestTimestampNano,
                                z = q.latestTimestampNano,
                                L.next = 90,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer
                                }
                                ));
                            case 90:
                                return J = L.sent,
                                X = J.conversationIds,
                                $ = J.persist,
                                L.next = 95,
                                (0,
                                vr.call)(il, w, X, $, r);
                            case 95:
                                Z = L.sent,
                                ee = Z.persistObj,
                                te = Z.resultConversationIds,
                                W = Object.assign({}, W, {
                                    oldestTimestampNano: K,
                                    latestTimestampNano: z,
                                    persist: ee,
                                    conversationIds: te,
                                    maxLatestTimestampNano: !O || O < z ? z : O
                                }),
                                L.next = 127;
                                break;
                            case 101:
                                return re = [],
                                ne = [],
                                L.next = 105,
                                (0,
                                vr.select)(RO);
                            case 105:
                                if (ae = L.sent,
                                w.forEach((function(e) {
                                    !ae.includes(e.shop_id) && ne.push(e.shop_id)
                                }
                                )),
                                !ne.length) {
                                    L.next = 117;
                                    break
                                }
                                return L.next = 110,
                                (0,
                                vr.call)(Tv, {
                                    shopIds: _e(new Set(ne)),
                                    regionFilter: d
                                });
                            case 110:
                                if (re = L.sent,
                                !l) {
                                    L.next = 117;
                                    break
                                }
                                return L.next = 114,
                                (0,
                                vr.select)(AO);
                            case 114:
                                return oe = L.sent,
                                L.next = 117,
                                (0,
                                vr.put)(VO(dl(dl({}, oe), {}, {
                                    result: [].concat(_e((oe || {}).result), _e(new Set(ne)))
                                })));
                            case 117:
                                return L.next = 119,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer
                                }
                                ));
                            case 119:
                                return ce = L.sent,
                                se = ce.conversationIds,
                                ie = ce.persist,
                                L.next = 124,
                                (0,
                                vr.call)(il, w, se, ie, r, re);
                            case 124:
                                ue = L.sent,
                                pe = w[j - 1],
                                W = Object.assign({}, W, {
                                    hasMore: !0,
                                    conversationIdsMap: B,
                                    persist: ue.persistObj,
                                    oldestMessageRegion: pe.last_message_region,
                                    oldestReceivedMessageId: pe.latest_message_id,
                                    latestReceivedMessageId: Q,
                                    conversationIds: ue.resultConversationIds
                                });
                            case 127:
                                if (!_) {
                                    L.next = 142;
                                    break
                                }
                                if (!I || !B[I]) {
                                    L.next = 142;
                                    break
                                }
                                return de = w.find((function(e) {
                                    return e.id === I
                                }
                                )),
                                le = (de || {}).latest_message_id,
                                L.next = 133,
                                (0,
                                vr.select)(Zg);
                            case 133:
                                return fe = L.sent,
                                Ee = fe.length ? fe[fe.length - 1].id : "",
                                L.next = 138,
                                (0,
                                vr.select)(ii);
                            case 138:
                                if (L.sent || le === Ee) {
                                    L.next = 142;
                                    break
                                }
                                return L.next = 142,
                                Co().put(Ao().fetchMessagesRequested({
                                    payload: {
                                        conversationId: null == de ? void 0 : de.id,
                                        source: N.MessageSource.SYNC,
                                        reset: !0
                                    },
                                    isLazy: !0
                                }));
                            case 142:
                                return L.next = 144,
                                (0,
                                vr.put)(cu(W));
                            case 144:
                                return L.next = 146,
                                (0,
                                vr.spawn)(Cl, w);
                            case 146:
                                if (!c) {
                                    L.next = 161;
                                    break
                                }
                                if (!f) {
                                    L.next = 157;
                                    break
                                }
                                if ("0" === q.nextTimestampNano) {
                                    L.next = 153;
                                    break
                                }
                                return L.next = 151,
                                (0,
                                vr.put)(ou({
                                    direction: r,
                                    noPending: !0,
                                    source: a
                                }));
                            case 151:
                                L.next = 155;
                                break;
                            case 153:
                                return L.next = 155,
                                (0,
                                vr.call)(yl, bl);
                            case 155:
                                L.next = 159;
                                break;
                            case 157:
                                return L.next = 159,
                                (0,
                                vr.put)(ou({
                                    direction: r,
                                    noPending: !0,
                                    source: a
                                }));
                            case 159:
                                L.next = 164;
                                break;
                            case 161:
                                if (!(W.conversationIds.length <= 20)) {
                                    L.next = 164;
                                    break
                                }
                                return L.next = 164,
                                (0,
                                vr.put)(ou({
                                    direction: "older",
                                    noPending: !0,
                                    source: a
                                }));
                            case 164:
                                L.next = 171;
                                break;
                            case 166:
                                if (!i) {
                                    L.next = 169;
                                    break
                                }
                                return L.next = 169,
                                (0,
                                vr.call)(yl, bl);
                            case 169:
                                return L.next = 171,
                                (0,
                                vr.put)(cu({
                                    direction: r,
                                    status: N.DataFetchStatus.SUCCEED,
                                    hasMore: c,
                                    persist: b,
                                    oldestReceivedMessageId: v,
                                    latestReceivedMessageId: g,
                                    maxLatestReceivedMessageId: T,
                                    oldestTimestampNano: S,
                                    latestTimestampNano: h,
                                    maxLatestTimestampNano: O,
                                    shouldFetchByTimestamp: f,
                                    syncFetchException: _ ? C + 1 : 0
                                }));
                            case 171:
                                return L.next = 173,
                                (0,
                                vr.select)(Ri);
                            case 173:
                                return Se = L.sent,
                                L.next = 176,
                                (0,
                                vr.select)(ui);
                            case 176:
                                if (he = L.sent,
                                !(Se && l && o)) {
                                    L.next = 180;
                                    break
                                }
                                return L.next = 180,
                                (0,
                                vr.put)(hu({
                                    keyword: Se,
                                    filter: he
                                }));
                            case 180:
                                L.next = 185;
                                break;
                            case 182:
                                if (R === N.DataFetchStatus.INIT_FAILED) {
                                    L.next = 185;
                                    break
                                }
                                return L.next = 185,
                                (0,
                                vr.put)(su({
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 185:
                                L.next = 196;
                                break;
                            case 187:
                                if (L.prev = 187,
                                L.t1 = L.catch(48),
                                !(L.t1 instanceof Et || L.t1 instanceof et)) {
                                    L.next = 194;
                                    break
                                }
                                return L.next = 192,
                                (0,
                                vr.put)(su({
                                    status: N.DataFetchStatus.TEMPORY_ERROR
                                }));
                            case 192:
                                L.next = 196;
                                break;
                            case 194:
                                return L.next = 196,
                                (0,
                                vr.put)(su({
                                    status: P ? N.DataFetchStatus.INIT_FAILED : N.DataFetchStatus.FAILED
                                }));
                            case 196:
                            case "end":
                                return L.stop()
                            }
                    }
                    ), El, null, [[48, 187]])
                }
                function Al(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                if (t = e.payload.conversationIds,
                                r = void 0 === t ? [] : t,
                                c.prev = 1,
                                r.length) {
                                    c.next = 6;
                                    break
                                }
                                return c.next = 5,
                                (0,
                                vr.select)(yi);
                            case 5:
                                r = c.sent;
                            case 6:
                                if (!r.length) {
                                    c.next = 16;
                                    break
                                }
                                return c.next = 9,
                                (0,
                                vr.call)(ml, r.slice(0, 20));
                            case 9:
                                if (n = c.sent,
                                !(a = n.filter((function(e) {
                                    return !e.lack
                                }
                                ))).length) {
                                    c.next = 16;
                                    break
                                }
                                return o = {},
                                a.forEach((function(e) {
                                    o[e.id] = e
                                }
                                )),
                                c.next = 16,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: o
                                }));
                            case 16:
                                c.next = 20;
                                break;
                            case 18:
                                c.prev = 18,
                                c.t0 = c.catch(1);
                            case 20:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), Sl, null, [[1, 18]])
                }
                function Dl(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                return t = e.payload,
                                r = t.shopId,
                                n = t.buyerId,
                                c.prev = 1,
                                c.next = 4,
                                (0,
                                vr.call)(fr, {
                                    parent: "offer",
                                    resource: "count",
                                    params: {
                                        shop_id: r,
                                        buyer_id: n
                                    }
                                });
                            case 4:
                                return a = c.sent,
                                o = a.pending_count,
                                c.next = 8,
                                (0,
                                vr.put)(ep({
                                    shopId: r,
                                    buyerId: n,
                                    count: o
                                }));
                            case 8:
                                c.next = 14;
                                break;
                            case 10:
                                return c.prev = 10,
                                c.t0 = c.catch(1),
                                c.next = 14,
                                (0,
                                vr.put)(ep({
                                    shopId: r,
                                    buyerId: n,
                                    count: 0
                                }));
                            case 14:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), hl, null, [[1, 10]])
                }
                function Pl() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(ou, Il);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(Lu, Al);
                            case 4:
                                return e.next = 6,
                                (0,
                                vr.takeEvery)(Zu, Dl);
                            case 6:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Ol)
                }
                const wl = (e(ol = {}, $s.FETCH_CONVERSATIONS_SUCCEEDED, (function(e, t) {
                    var r = t.payload
                      , n = r.conversationIds
                      , a = r.conversationIdsMap
                      , o = void 0 === a ? {} : a
                      , c = r.oldestMessageRegion
                      , s = r.latestMessageRegion
                      , i = r.oldestReceivedMessageId
                      , u = r.latestReceivedMessageId
                      , p = r.direction
                      , d = void 0 === p ? "reset" : p
                      , l = r.status
                      , f = r.hasMore
                      , _ = r.oldestTimestampNano
                      , E = r.latestTimestampNano
                      , S = r.persist
                      , h = r.shouldFetchByTimestamp
                      , O = r.maxLatestReceivedMessageId
                      , v = r.maxLatestTimestampNano
                      , g = r.syncFetchException
                      , T = void 0 === g ? 0 : g
                      , m = dl(dl({}, e), {}, {
                        status: l,
                        hasMore: f,
                        persist: S,
                        conversationIds: n || e.conversationIds,
                        conversationIdsMap: "reset" === d ? o : dl(dl({}, e.conversationIdsMap), o),
                        direction: "latest" === d ? d : "older",
                        maxLatestReceivedMessageId: O,
                        maxLatestTimestampNano: v,
                        syncFetchException: T
                    });
                    switch (d) {
                    case "reset":
                        h ? (m.latestTimestampNano = E,
                        m.oldestTimestampNano = _) : (m.oldestReceivedMessageId = i,
                        m.latestReceivedMessageId = u);
                        break;
                    case "latest":
                        h ? m.latestTimestampNano = E > e.latestTimestampNano ? E : e.latestTimestampNano : m.latestReceivedMessageId = u;
                        break;
                    case "older":
                        h ? m.oldestTimestampNano = _ : m.oldestReceivedMessageId = i
                    }
                    return c && (m.oldestMessageRegion = c),
                    s && (m.latestMessageRegion = s),
                    m
                }
                )),
                e(ol, $s.UPDATE_FETCH_CONVERSATIONS_STATUS, pp),
                e(ol, $s.UPDATE_FETCH_CONVERSATIONS_DIRECTION, dp),
                e(ol, $s.UPDATE_CONVERSATION_TIMESTAMP, (function(e, t) {
                    var r = t.payload
                      , n = r.latestTimestampNano
                      , a = r.oldestTimestampNano;
                    return dl(dl({}, e), {}, {
                        latestTimestampNano: n,
                        oldestTimestampNano: a
                    })
                }
                )),
                e(ol, $s.GET_PENDING_OFFERS_COUNT_SUCCEED, (function(t, r) {
                    var n = r.payload
                      , a = n.shopId
                      , o = n.buyerId
                      , c = n.count
                      , s = "".concat(a, "_").concat(o);
                    return dl(dl({}, t), {}, {
                        pendingOffersCount: dl(dl({}, t.pendingOffersCount), {}, e({}, s, c))
                    })
                }
                )),
                e(ol, $s.GET_BATCH_PENDING_OFFERS_COUNT_SUCCEED, (function(e, t) {
                    var r = t.payload.records;
                    return dl(dl({}, e), {}, {
                        pendingOffersCount: dl(dl({}, e.pendingOffersCount), r)
                    })
                }
                )),
                ol);
                var xl;
                const Nl = (e(xl = {}, $s.SET_CURRENT_CONVERSATION_CAN_READ, fp),
                e(xl, $s.UPDATE_PREVIOUS_CONVERSATION_ID, lp),
                xl);
                var kl, Ul = L().mark(Fl), Ml = L().mark(Gl);
                function jl(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Ll(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? jl(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : jl(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                function Fl(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g;
                    return L().wrap((function(T) {
                        for (; ; )
                            switch (T.prev = T.next) {
                            case 0:
                                return t = e.payload,
                                r = t.conversationId,
                                n = t.isRead,
                                a = t.latestMessageId,
                                T.prev = 1,
                                o = Date.now() + "",
                                c = n ? "read" : "unread",
                                T.next = 6,
                                (0,
                                vr.select)(Gi(r));
                            case 6:
                                if (s = T.sent,
                                i = s.shop_id,
                                u = s.last_read_message_id,
                                !n) {
                                    T.next = 16;
                                    break
                                }
                                return T.next = 12,
                                (0,
                                vr.select)(Gi(r));
                            case 12:
                                if (p = T.sent,
                                d = p.unread_count,
                                u !== a || d) {
                                    T.next = 16;
                                    break
                                }
                                return T.abrupt("return");
                            case 16:
                                if (l = n ? {
                                    last_read_message_id: a
                                } : {},
                                i && (l.shop_id = i),
                                !n) {
                                    T.next = 21;
                                    break
                                }
                                return T.next = 21,
                                (0,
                                vr.put)(Eu({
                                    requestId: o
                                }));
                            case 21:
                                return T.next = 23,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    parent: "conversations",
                                    parentId: r,
                                    resource: c,
                                    params: {
                                        request_id: o
                                    },
                                    payload: JSON.stringify(Ll({}, l))
                                });
                            case 23:
                                if (!n) {
                                    T.next = 45;
                                    break
                                }
                                return T.next = 26,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer
                                }
                                ));
                            case 26:
                                return f = T.sent,
                                _ = f.conversationMark,
                                E = "socket" === _[r],
                                T.next = 31,
                                (0,
                                vr.put)(_u({
                                    conversationId: r,
                                    markType: E ? "" : "api"
                                }));
                            case 31:
                                if (E) {
                                    T.next = 45;
                                    break
                                }
                                return T.next = 34,
                                (0,
                                vr.select)(Gi(r));
                            case 34:
                                return S = T.sent,
                                h = S.unread_count,
                                O = S.shop_id,
                                T.next = 39,
                                (0,
                                vr.select)(yO(O)) || {};
                            case 39:
                                return v = T.sent,
                                g = v.country,
                                T.next = 43,
                                (0,
                                vr.put)(Xr({
                                    name: "conversations",
                                    id: r,
                                    record: {
                                        last_read_message_id: a,
                                        unread_count: 0
                                    }
                                }));
                            case 43:
                                return T.next = 45,
                                (0,
                                vr.put)(Tn({
                                    type: dn.MARK_AS_READ,
                                    conversation: {
                                        id: r,
                                        shop_id: O,
                                        unread_count: h,
                                        shop_region: g
                                    }
                                }));
                            case 45:
                                T.next = 51;
                                break;
                            case 47:
                                return T.prev = 47,
                                T.t0 = T.catch(1),
                                T.next = 51,
                                (0,
                                vr.put)(Gv({
                                    error: T.t0
                                }));
                            case 51:
                            case "end":
                                return T.stop()
                            }
                    }
                    ), Ul, null, [[1, 47]])
                }
                function Gl() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(fu, Fl);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Ml)
                }
                const Hl = (e(kl = {}, $s.MARK_MESSAGES_SUCCEEDED, (function(t, r) {
                    var n = r.payload
                      , a = n.conversationId
                      , o = n.markType;
                    return Ll(Ll({}, t), {}, {
                        conversationMark: Ll(Ll({}, t.conversationMark), {}, e({}, a, o))
                    })
                }
                )),
                e(kl, $s.UPDATE_READ_REQUEST_DATA, (function(e, t) {
                    var r = t.payload
                      , n = r.requestId
                      , a = r.requestIds
                      , o = r.count
                      , c = Ll({}, e);
                    return n && (c.readRequestIds = [n].concat(e.readRequestIds)),
                    a && (c.readRequestIds = a),
                    o && (c.missedReadNoticeCount = o),
                    c
                }
                )),
                kl);
                var Vl, Bl = P(439).t, Yl = L().mark(Wl), ql = L().mark(Kl), Ql = L().mark(zl);
                function Wl(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                o.next = 3,
                                (0,
                                vr.select)(XI);
                            case 3:
                                if ("enabled" !== o.sent) {
                                    o.next = 25;
                                    break
                                }
                                return o.next = 7,
                                (0,
                                vr.select)(wi);
                            case 7:
                                if ((r = o.sent) && r.id === t) {
                                    o.next = 14;
                                    break
                                }
                                return o.next = 11,
                                (0,
                                vr.select)(Gi(t));
                            case 11:
                                return n = o.sent,
                                o.next = 14,
                                (0,
                                vr.put)(ku({
                                    conversation: n,
                                    previousId: r ? r.id : t
                                }));
                            case 14:
                                return o.next = 16,
                                (0,
                                vr.select)(ZI);
                            case 16:
                                if (!(o.sent[t] || {}).isEditing) {
                                    o.next = 21;
                                    break
                                }
                                return o.next = 21,
                                (0,
                                vr.put)(Gv({
                                    toast: {
                                        show: !0,
                                        type: "fail",
                                        message: Bl("conversation_detail.reason_code.close_failed")
                                    }
                                }));
                            case 21:
                                return o.next = 23,
                                Co().put(Ao().updateCloseReasonEditingCache({
                                    payload: {
                                        conversationId: t,
                                        cache: {
                                            isEditing: !0,
                                            messageId: ""
                                        }
                                    }
                                }));
                            case 23:
                            case 34:
                                o.next = 38;
                                break;
                            case 25:
                                return o.next = 27,
                                (0,
                                vr.call)(N.getItem, "closeConfirm");
                            case 27:
                                if (o.sent) {
                                    o.next = 36;
                                    break
                                }
                                return o.next = 31,
                                (0,
                                vr.select)(Ln);
                            case 31:
                                return a = o.sent,
                                o.next = 34,
                                (0,
                                vr.put)(ze({
                                    type: "OPTIONAl_CONFIRM_MODAL",
                                    title: Bl("close_conversation_modal.title"),
                                    actions: {
                                        cancel: {
                                            label: Bl("common.cancel"),
                                            handler: function() {
                                                return F.store.dispatch(Je())
                                            }
                                        },
                                        confirm: {
                                            label: Bl("common.confirm"),
                                            handler: function() {
                                                F.store.dispatch(ju({
                                                    conversationId: t
                                                })),
                                                F.store.dispatch(Je())
                                            }
                                        },
                                        option: {
                                            label: Bl("close_conversation_modal.option"),
                                            key: "closeConfirm"
                                        }
                                    },
                                    additions: {
                                        currentUserId: a
                                    }
                                }));
                            case 36:
                                return o.next = 38,
                                (0,
                                vr.put)(ju({
                                    conversationId: t
                                }));
                            case 38:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), Yl)
                }
                function Kl(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                o.prev = 1,
                                o.next = 6,
                                (0,
                                vr.put)(eD({
                                    event_time: (Date.parse(new Date) / 1e3).toString(),
                                    url: window.location.href
                                }));
                            case 6:
                                return o.next = 8,
                                (0,
                                vr.select)(Gi(t));
                            case 8:
                                return r = o.sent,
                                n = r.shop_id,
                                a = r.status,
                                o.next = 13,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    resource: "conversations",
                                    id: t,
                                    suffix: "status",
                                    payload: JSON.stringify({
                                        shop_id: n,
                                        status: Vl[a]
                                    })
                                });
                            case 13:
                                o.next = 19;
                                break;
                            case 15:
                                return o.prev = 15,
                                o.t0 = o.catch(1),
                                o.next = 19,
                                (0,
                                vr.put)(Gv({
                                    error: o.t0
                                }));
                            case 19:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), ql, null, [[1, 15]])
                }
                function zl() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(ju, Kl);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(Pu, Wl);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Ql)
                }
                !function(e) {
                    e.activated = "closed",
                    e.closed = "activated"
                }(Vl || (Vl = {}));
                var Jl = L().mark($l)
                  , Xl = L().mark(Zl);
                function $l(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S;
                    return L().wrap((function(h) {
                        for (; ; )
                            switch (h.prev = h.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                h.prev = 1,
                                h.next = 4,
                                (0,
                                vr.select)(Gi(t));
                            case 4:
                                return r = h.sent,
                                n = r.id,
                                a = r.unread_count,
                                o = r.shop_id,
                                h.next = 8,
                                (0,
                                vr.select)(oi);
                            case 8:
                                return c = h.sent,
                                h.next = 11,
                                (0,
                                vr.call)(fr, {
                                    resource: "conversations",
                                    id: t,
                                    params: {
                                        shop_id: o
                                    }
                                });
                            case 11:
                                if (s = h.sent,
                                i = s.flag,
                                u = s.entry_point,
                                p = s.unread_count,
                                d = s.latest_message_id,
                                n) {
                                    h.next = 19;
                                    break
                                }
                                return l = C("conversations", s),
                                f = l.entities,
                                h.next = 17,
                                (0,
                                vr.put)(Jr({
                                    entities: f
                                }));
                            case 17:
                                h.next = 21;
                                break;
                            case 19:
                                return h.next = 21,
                                (0,
                                vr.put)(Xr({
                                    name: "conversations",
                                    id: t,
                                    record: {
                                        flag: i,
                                        entry_point: u,
                                        unread_count: p
                                    }
                                }));
                            case 21:
                                return h.next = 23,
                                (0,
                                vr.select)(na);
                            case 23:
                                if (!h.sent) {
                                    h.next = 38;
                                    break
                                }
                                return h.next = 27,
                                (0,
                                vr.call)(Tv, {
                                    shopIds: [s.shop_id]
                                });
                            case 27:
                                return _ = h.sent[0],
                                h.next = 30,
                                (0,
                                vr.select)(RO);
                            case 30:
                                if (h.sent.includes(_.id)) {
                                    h.next = 37;
                                    break
                                }
                                return E = C("shops", _),
                                S = E.entities,
                                h.next = 35,
                                (0,
                                vr.put)(Jr({
                                    entities: S
                                }));
                            case 35:
                                return h.next = 37,
                                (0,
                                vr.put)(qO({
                                    shopIds: [_.id]
                                }));
                            case 37:
                                s.shop_region = _.country;
                            case 38:
                                if (a || a === s.unread_count) {
                                    h.next = 41;
                                    break
                                }
                                return h.next = 41,
                                (0,
                                vr.put)(Tn({
                                    conversation: s,
                                    type: dn.ACTIVE_CONVERSATION
                                }));
                            case 41:
                                if (t !== c) {
                                    h.next = 45;
                                    break
                                }
                                if (!(p > 0)) {
                                    h.next = 45;
                                    break
                                }
                                return h.next = 45,
                                (0,
                                vr.put)(fu({
                                    conversationId: t,
                                    isRead: !0,
                                    latestMessageId: d
                                }));
                            case 45:
                                return h.abrupt("return", s);
                            case 48:
                                return h.prev = 48,
                                h.t0 = h.catch(1),
                                h.abrupt("return", {});
                            case 51:
                            case "end":
                                return h.stop()
                            }
                    }
                    ), Jl, null, [[1, 48]])
                }
                function Zl() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(nu, $l);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Xl)
                }
                function ef(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function tf(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? ef(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ef(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                const rf = e({}, $s.FAKE_CONVERSATION_SUCCEEDED, (function(e, t) {
                    var r = t.payload.conversationId;
                    return tf(tf({}, e), {}, {
                        conversationIds: [r].concat(e.conversationIds.filter((function(e) {
                            return r !== e
                        }
                        )))
                    })
                }
                ));
                var nf = L().mark(uf)
                  , af = L().mark(pf);
                function of(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function cf(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? of(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : of(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var sf = {
                    restart: ju,
                    delete: tu,
                    read: fu,
                    unread: fu,
                    pin: Su,
                    unpin: Su,
                    mute: $u,
                    unmute: $u
                };
                function uf(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.extra,
                                a = sf[r],
                                o.next = 4,
                                (0,
                                vr.put)(a(cf({}, n)));
                            case 4:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), nf)
                }
                function pf() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Fu, uf);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), af)
                }
                function df(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function lf(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? df(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : df(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                sf.close = Pu,
                sf.forward = wu;
                var ff = {
                    hasSCAccess: "login_sellercenter",
                    hasEditOrderAccess: "webchat_order_edit",
                    hasViewOrderAccess: "access_my_sale",
                    hasViewProductAccess: "access_my_product",
                    hasEditVoucherAccess: "my_marketing_voucher_edit",
                    hasViewVoucherAccess: "my_marketing_voucher_access",
                    hasManageProductAccess: "webchat_recommendation_products_edit"
                }
                  , _f = function(e) {
                    var t = {}
                      , r = e.length;
                    return Object.keys(ff).forEach((function(n) {
                        t[n] = !r || e.includes(ff[n])
                    }
                    )),
                    t
                };
                const Ef = e({}, $s.UPDATE_ACCESS, (function(e, t) {
                    var r = _f(t.payload.access);
                    return lf(lf({}, e), {}, {
                        access: r
                    })
                }
                ));
                var Sf = ["combine", "user", "orderId", "message", "agent", "agentMessage"]
                  , hf = function() {
                    var e = {};
                    return Sf.forEach((function(t) {
                        e[t] = {
                            pageIndex: 1,
                            pageSize: 20,
                            hasMore: !0,
                            nextOffset: "0"
                        }
                    }
                    )),
                    e
                }
                  , Of = function() {
                    var e = {};
                    return Sf.forEach((function(t) {
                        e[t] = {
                            status: "",
                            results: [],
                            total: 0
                        }
                    }
                    )),
                    e
                };
                function vf(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function gf(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? vf(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : vf(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Tf = L().mark(mf);
                function mf() {
                    var e, t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return i.next = 2,
                                (0,
                                vr.select)(ai);
                            case 2:
                                return e = i.sent,
                                i.prev = 3,
                                i.next = 6,
                                (0,
                                vr.call)(fr, {
                                    subServer: "coreapi",
                                    parent: "conversation",
                                    resource: "updated_conversation_list",
                                    params: {
                                        last_update_time: e
                                    }
                                });
                            case 6:
                                if (t = i.sent,
                                r = t.conversations,
                                n = t.page_result,
                                !(r.length > 0)) {
                                    i.next = 13;
                                    break
                                }
                                return a = {},
                                r.forEach((function(e) {
                                    a[e.id] = e
                                }
                                )),
                                i.next = 13,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: a
                                }));
                            case 13:
                                if (c = (o = n || {}).has_more,
                                !(s = o.next_last_update_time)) {
                                    i.next = 17;
                                    break
                                }
                                return i.next = 17,
                                (0,
                                vr.put)(Wu({
                                    timeNow: s
                                }));
                            case 17:
                                if (!(c && r.length > 0)) {
                                    i.next = 20;
                                    break
                                }
                                return i.next = 20,
                                (0,
                                vr.call)(mf);
                            case 20:
                                i.next = 29;
                                break;
                            case 22:
                                if (i.prev = 22,
                                i.t0 = i.catch(3),
                                !(i.t0 instanceof ot)) {
                                    i.next = 29;
                                    break
                                }
                                return i.next = 27,
                                (0,
                                vr.put)(Wu({
                                    timeNow: "0"
                                }));
                            case 27:
                                return i.next = 29,
                                (0,
                                vr.call)(Il, {
                                    payload: {
                                        direction: "reset"
                                    }
                                });
                            case 29:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), Tf, null, [[3, 22]])
                }
                const bf = e({}, $s.UPDATE_SYNC_TIME_NOW, (function(e, t) {
                    var r = t.payload.timeNow;
                    return gf(gf({}, e), {}, {
                        updateTimeNow: r
                    })
                }
                ));
                var yf = L().mark(Cf)
                  , Rf = L().mark(If);
                function Cf(e) {
                    var t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                i.prev = 1,
                                i.next = 4,
                                (0,
                                vr.select)(Gi(t));
                            case 4:
                                return r = i.sent,
                                n = r.shop_id,
                                a = r.mute,
                                i.next = 9,
                                (0,
                                vr.select)(Zn);
                            case 9:
                                return o = i.sent,
                                c = {
                                    biz_type: o ? 2 : 0
                                },
                                n && (c.shop_id = n),
                                s = {
                                    method: "PUT",
                                    parent: "conversations",
                                    parentId: t,
                                    resource: a ? "unmute" : "mute",
                                    payload: JSON.stringify(c)
                                },
                                i.next = 15,
                                (0,
                                vr.call)(fr, s);
                            case 15:
                                i.next = 21;
                                break;
                            case 17:
                                return i.prev = 17,
                                i.t0 = i.catch(1),
                                i.next = 21,
                                (0,
                                vr.put)(Gv({
                                    error: i.t0
                                }));
                            case 21:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), yf, null, [[1, 17]])
                }
                function If() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)($u, Cf);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Rf)
                }
                function Af(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Df(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Af(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Af(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Pf = L().mark(kf)
                  , wf = L().mark(Lf)
                  , xf = L().mark(Ff)
                  , Nf = L().mark(Gf);
                function kf(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E;
                    return L().wrap((function(S) {
                        for (; ; )
                            switch (S.prev = S.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                S.prev = 1,
                                S.next = 4,
                                (0,
                                vr.select)(Hi(t));
                            case 4:
                                return r = S.sent,
                                S.next = 7,
                                (0,
                                vr.call)(fr, {
                                    resource: "subaccount_groups",
                                    params: {
                                        shop_id: r
                                    }
                                });
                            case 7:
                                if (n = S.sent,
                                a = n.subaccount_groups,
                                c = [],
                                !((o = void 0 === a ? [] : a).length > 0)) {
                                    S.next = 27;
                                    break
                                }
                                return -1 !== (s = o.findIndex((function(e) {
                                    return e.type === N.SubAccountRole.MAIN_SUBACCOUNT
                                }
                                ))) && o.splice(s, 1),
                                -1 !== (i = o.findIndex((function(e) {
                                    return "anonymous" === e.type
                                }
                                ))) && (c = c.concat(o[i].members),
                                o.splice(i, 1)),
                                u = c.map((function(e) {
                                    return e.id
                                }
                                )),
                                o.length && o.forEach((function(e) {
                                    e.members.forEach((function(e) {
                                        u.includes(e.id) || (c.push(e),
                                        u.push(e.id))
                                    }
                                    ))
                                }
                                )),
                                p = C("groups", o),
                                d = p.entities,
                                l = p.result,
                                S.next = 22,
                                (0,
                                vr.put)(Jr({
                                    entities: d
                                }));
                            case 22:
                                return f = C("groupMembers", c),
                                _ = f.entities,
                                E = f.result,
                                S.next = 25,
                                (0,
                                vr.put)(Jr({
                                    entities: _
                                }));
                            case 25:
                                return S.next = 27,
                                (0,
                                vr.put)(Xr({
                                    name: "shops",
                                    id: r,
                                    record: {
                                        groups: {
                                            result: l
                                        },
                                        members: {
                                            result: E
                                        }
                                    }
                                }));
                            case 27:
                                return S.next = 29,
                                (0,
                                vr.put)(ze({
                                    type: "FORWARD_MODAL",
                                    title: {
                                        key: "forward_modal.title"
                                    },
                                    actions: {
                                        cancel: {
                                            label: {
                                                key: "common.cancel"
                                            },
                                            handler: function() {
                                                return F.store.dispatch(Je())
                                            }
                                        },
                                        confirm: {
                                            handler: function(e, r) {
                                                var n = "group" === e ? "group" : "account";
                                                F.store.dispatch(du({
                                                    conversationId: t,
                                                    type: n,
                                                    forwardId: r
                                                }))
                                            }
                                        }
                                    },
                                    additions: {
                                        groupData: {
                                            groups: o,
                                            members: c
                                        }
                                    }
                                }));
                            case 29:
                                S.next = 35;
                                break;
                            case 31:
                                return S.prev = 31,
                                S.t0 = S.catch(1),
                                S.next = 35,
                                (0,
                                vr.put)(Gv({
                                    error: S.t0
                                }));
                            case 35:
                            case "end":
                                return S.stop()
                            }
                    }
                    ), Pf, null, [[1, 31]])
                }
                var Uf = function(e) {
                    var t = [];
                    return e.forEach((function(e) {
                        var r = e.members;
                        (void 0 === r ? [] : r).forEach((function(e) {
                            var r = e.id;
                            t.push(Df(Df({}, e), {}, {
                                id: r
                            }))
                        }
                        ))
                    }
                    )),
                    t
                }
                  , Mf = function(e) {
                    var t = {}
                      , r = [];
                    return e.forEach((function(e) {
                        var n = e.id;
                        t[n] || (r.push(Df(Df({}, e), {}, {
                            id: n
                        })),
                        t[n] = !0)
                    }
                    )),
                    r
                }
                  , jf = function(e) {
                    return e.map((function(e) {
                        return {
                            id: e.account_id,
                            name: e.name,
                            role: e.role,
                            status: "working"
                        }
                    }
                    ))
                };
                function Lf(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.groupData,
                                r = e.noMatchMember,
                                n = e.conversationIds,
                                a = e.multipleShop,
                                o.next = 3,
                                (0,
                                vr.put)(ze({
                                    type: "FORWARD_MODAL",
                                    title: {
                                        key: "conversation.forward.forward_to"
                                    },
                                    actions: {
                                        cancel: {
                                            label: {
                                                key: "common.cancel"
                                            },
                                            handler: function() {
                                                F.store.dispatch(Je())
                                            }
                                        },
                                        confirm: {
                                            handler: function(e, t) {
                                                F.store.dispatch(lu({
                                                    type: e,
                                                    forwardId: t,
                                                    conversationIds: n
                                                }))
                                            }
                                        }
                                    },
                                    additions: {
                                        isBatch: !0,
                                        noMatchMember: r,
                                        multipleShop: a,
                                        groupData: t
                                    }
                                }));
                            case 3:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), wf)
                }
                function Ff(e) {
                    var t, r, n, a, o, c, s, i, u, p, d;
                    return L().wrap((function(l) {
                        for (; ; )
                            switch (l.prev = l.next) {
                            case 0:
                                return t = e.payload.conversationIds,
                                l.next = 3,
                                (0,
                                vr.select)(Vi(t));
                            case 3:
                                return r = l.sent,
                                n = _e(new Set(r.map((function(e) {
                                    return e.shop_id
                                }
                                )))),
                                l.prev = 5,
                                l.next = 8,
                                (0,
                                vr.call)(fr, {
                                    parent: "subaccount",
                                    resource: "conversation_move_infos",
                                    params: {
                                        shop_ids: JSON.stringify(n)
                                    }
                                });
                            case 8:
                                return a = l.sent,
                                o = a.groups,
                                c = void 0 === o ? [] : o,
                                s = a.members,
                                i = void 0 === s ? [] : s,
                                u = c.map((function(e) {
                                    var t = e.group_id
                                      , r = e.group_name
                                      , n = e.members;
                                    return {
                                        id: t,
                                        name: r,
                                        members: jf(n)
                                    }
                                }
                                )),
                                p = jf(i),
                                d = [],
                                u.length > 0 && (d = Uf(u)),
                                d = Mf(d.concat(p)),
                                l.next = 21,
                                (0,
                                vr.call)(Lf, {
                                    groupData: {
                                        groups: u,
                                        members: d
                                    },
                                    noMatchMember: !1,
                                    multipleShop: n.length > 1,
                                    conversationIds: t
                                });
                            case 21:
                            case 28:
                                l.next = 32;
                                break;
                            case 23:
                                if (l.prev = 23,
                                l.t0 = l.catch(5),
                                !l.t0.message || "no_match_member_be_found_from_different_shop" !== l.t0.message.error_code) {
                                    l.next = 30;
                                    break
                                }
                                return l.next = 28,
                                (0,
                                vr.call)(Lf, {
                                    groupData: {
                                        groups: [],
                                        members: []
                                    },
                                    noMatchMember: !0,
                                    multipleShop: n.length > 1,
                                    conversationIds: t
                                });
                            case 30:
                                return l.next = 32,
                                (0,
                                vr.put)(Gv({
                                    error: l.t0
                                }));
                            case 32:
                            case "end":
                                return l.stop()
                            }
                    }
                    ), xf, null, [[5, 23]])
                }
                function Gf() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)(wu, kf);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeLatest)(xu, Ff);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Nf)
                }
                var Hf = L().mark(qf)
                  , Vf = L().mark(Qf)
                  , Bf = L().mark(Wf)
                  , Yf = function(e, t, r, n) {
                    return new Promise((function(a, o) {
                        var c = {};
                        "account" === r ? c.to_account_id = n : "group" === r && (c.to_group_id = n),
                        fr({
                            method: "PUT",
                            resource: "conversations",
                            id: e,
                            suffix: "move",
                            payload: JSON.stringify({
                                shop_id: t,
                                type: r,
                                content: c
                            })
                        }).then((function() {
                            a(null)
                        }
                        )).catch((function(e) {
                            o(e)
                        }
                        ))
                    }
                    ))
                };
                function qf(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                return t = e.payload,
                                r = t.conversationId,
                                n = t.type,
                                a = t.forwardId,
                                c.prev = 1,
                                c.next = 4,
                                (0,
                                vr.select)(Hi(r));
                            case 4:
                                return o = c.sent,
                                c.next = 7,
                                (0,
                                vr.call)(Yf, r, o, n, a);
                            case 7:
                                c.next = 13;
                                break;
                            case 9:
                                return c.prev = 9,
                                c.t0 = c.catch(1),
                                c.next = 13,
                                (0,
                                vr.put)(Gv({
                                    error: c.t0
                                }));
                            case 13:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), Hf, null, [[1, 9]])
                }
                function Qf(e) {
                    var t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.forwardId,
                                a = t.conversationIds,
                                i.prev = 1,
                                o = {},
                                "group" === r ? o.to_group_id = n : o.to_account_id = n,
                                c = {},
                                i.next = 7,
                                (0,
                                vr.select)(Vi(a));
                            case 7:
                                return i.sent.forEach((function(e) {
                                    var t = e.shop_id
                                      , r = e.id;
                                    c[t] ? c[t].push(r) : c[t] = [r]
                                }
                                )),
                                s = Object.keys(c).reduce((function(e, t) {
                                    return e.push({
                                        shop_id: Number(t),
                                        conversation_ids: c[t]
                                    }),
                                    e
                                }
                                ), []),
                                o.infos = s,
                                i.next = 13,
                                fr({
                                    method: "PUT",
                                    resource: "conversation",
                                    suffix: "group" === r ? "mass_move_to_group" : "mass_move_to_account",
                                    payload: JSON.stringify(o)
                                });
                            case 13:
                                return i.next = 15,
                                (0,
                                vr.put)(bu({
                                    mode: !1
                                }));
                            case 15:
                                i.next = 21;
                                break;
                            case 17:
                                return i.prev = 17,
                                i.t0 = i.catch(1),
                                i.next = 21,
                                (0,
                                vr.put)(Gv({
                                    error: i.t0
                                }));
                            case 21:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), Vf, null, [[1, 17]])
                }
                function Wf() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(du, qf);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(lu, Qf);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Bf)
                }
                function Kf(e) {
                    return "Minified Redux error #" + e + "; visit https://redux.js.org/Errors?code=" + e + " for the full message or use the non-minified dev environment for full errors. "
                }
                "function" == typeof Symbol && Symbol.observable;
                var zf = function() {
                    return Math.random().toString(36).substring(7).split("").join(".")
                }
                  , Jf = {
                    INIT: "@@redux/INIT" + zf(),
                    REPLACE: "@@redux/REPLACE" + zf(),
                    PROBE_UNKNOWN_ACTION: function() {
                        return "@@redux/PROBE_UNKNOWN_ACTION" + zf()
                    }
                }
                  , Xf = function(e) {
                    return e.agentReducer.conversation.previousConversationId
                }
                  , $f = function(e) {
                    return e.agentReducer.conversation.latestTimestampNano
                }
                  , Zf = function(e) {
                    return e.agentReducer.conversation.conversationIds
                }
                  , e_ = function(e) {
                    return e.agentReducer.conversation.latestTimestamp
                }
                  , t_ = function(e) {
                    return e.agentReducer.conversation.status
                }
                  , r_ = function(e) {
                    return e.agentReducer.conversation.direction
                }
                  , n_ = function(e) {
                    return e.agentReducer.conversation.activeTab
                }
                  , a_ = function(e) {
                    return e.agentReducer.conversation.currentConversationId
                }
                  , o_ = (0,
                Ye.createSelector)(Ar, Zf, (function(e, r) {
                    return ((0,
                    t.denormalize)(r, [S], {
                        agentConversations: e
                    }) || []).filter(Boolean)
                }
                ))
                  , c_ = (0,
                Ye.createSelector)(Ar, a_, (function(e, r) {
                    return (0,
                    t.denormalize)(r, S, {
                        agentConversations: e
                    }) || {}
                }
                ))
                  , s_ = function(e) {
                    return (0,
                    Ye.createSelector)(Ar, (function(r) {
                        return (0,
                        t.denormalize)(e, S, {
                            agentConversations: r
                        }) || {}
                    }
                    ))
                }
                  , i_ = function(e) {
                    return (0,
                    Ye.createSelector)(s_(e), (function(e) {
                        return e.shop_id
                    }
                    ))
                }
                  , u_ = function(e) {
                    return (0,
                    Ye.createSelector)(o_, (function(t) {
                        return e.map((function(e) {
                            return t.find((function(t) {
                                return t.id === e
                            }
                            ))
                        }
                        )).filter(Boolean)
                    }
                    ))
                }
                  , p_ = function(e) {
                    return e.agentReducer.conversation.contactsIds
                }
                  , d_ = function(e) {
                    return e.agentReducer.conversation.fetchContactStatus
                }
                  , l_ = function(e) {
                    return e.agentReducer.conversation.isContactsVisible
                }
                  , f_ = (0,
                Ye.createSelector)(Lr, p_, (function(e, r) {
                    var n = (0,
                    t.denormalize)(r, [h], {
                        contacts: e
                    })
                      , a = [];
                    return n.forEach((function(e) {
                        a.includes(e.bar_name) || a.push(e.bar_name),
                        a.push(e)
                    }
                    )),
                    a
                }
                ))
                  , __ = function(e) {
                    return (0,
                    Ye.createSelector)(Lr, (function(r) {
                        return (0,
                        t.denormalize)(e, h, {
                            contacts: r
                        })
                    }
                    ))
                }
                  , E_ = function(e) {
                    return e.agentReducer.conversation.filter
                }
                  , S_ = (0,
                Ye.createSelector)(o_, a_, (function(e, t) {
                    return e.filter((function(e) {
                        var r = e.id
                          , n = e.unread_count;
                        return e && (n > 0 || r === t)
                    }
                    ))
                }
                ))
                  , h_ = (0,
                Ye.createSelector)(E_, o_, S_, (function(e, t, r) {
                    return {
                        All: t,
                        Unread: r
                    }[e]
                }
                ))
                  , O_ = (0,
                Ye.createSelector)(h_, (function(e) {
                    return e.sort((function(e, t) {
                        return t.latest_message_id - e.latest_message_id
                    }
                    )).filter((function(e) {
                        return !e.faking
                    }
                    ))
                }
                ))
                  , v_ = (0,
                Ye.createSelector)(c_, (function(e) {
                    return e.from_tob_user_id || 0
                }
                ))
                  , g_ = (0,
                Ye.createSelector)(c_, (function(e) {
                    return e.to_tob_user_id || 0
                }
                ))
                  , T_ = function(e) {
                    return e.agentReducer.conversation.conversationIdsMap
                }
                  , m_ = function(e) {
                    return e.agentReducer.conversation.currentConversationCanRead
                }
                  , b_ = function(e) {
                    return e.agentReducer.conversation
                }
                  , y_ = (0,
                He.createActions)({
                    UPDATE_AGENT_CONVERSATION_FILTER: function(e) {
                        return {
                            filter: e.filter
                        }
                    },
                    FETCH_AGENT_CONVERSATIONS_REQUESTED: function(e) {
                        var t = e.direction
                          , r = void 0 === t ? "reset" : t
                          , n = e.noPending;
                        return {
                            direction: r,
                            noPending: void 0 !== n && n
                        }
                    },
                    FETCH_AGENT_CONVERSATIONS_SUCCEEDED: function(e) {
                        var t = e.conversationIds
                          , r = e.conversationIdsMap
                          , n = e.oldestTimestampNano
                          , a = e.latestTimestampNano
                          , o = e.direction;
                        return {
                            conversationIds: t,
                            conversationIdsMap: r,
                            direction: void 0 === o ? "reset" : o,
                            status: e.status,
                            hasMore: e.hasMore,
                            latestTimestampNano: a,
                            oldestTimestampNano: n,
                            maxLatestTimestampNano: e.maxLatestTimestampNano
                        }
                    },
                    UPDATE_FETCH_AGENT_CONVERSATIONS_STATUS: function(e) {
                        return {
                            status: e.status
                        }
                    },
                    FETCH_CONTACT_REQUESTED: function() {
                        return {}
                    },
                    FETCH_CONTACT_SUCCEEDED: function(e) {
                        return {
                            contactsIds: e.contactsIds
                        }
                    },
                    UPDATE_FETCH_CONTACT_STATUS: function(e) {
                        return {
                            status: e.status
                        }
                    },
                    CLICK_AGENT_CONTACT_REQUESTED: function(e) {
                        return {
                            accountId: e.accountId,
                            messageId: e.messageId,
                            inSearch: e.inSearch,
                            searchType: e.searchType
                        }
                    },
                    DELETE_CONTACT_ID: function(e) {
                        return {
                            accountId: e.accountId
                        }
                    },
                    CLICK_AGENT_CONV_REQUESTED: function(e) {
                        return {
                            conversation: e.conversation,
                            previousId: e.previousId
                        }
                    },
                    DELETE_AGENT_CONVERSATION_REQUESTED: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    },
                    DELETE_AGENT_CONVERSATION_SUCCEEDED: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    },
                    MARK_AGENT_CONVERSATION_REQUESTED: function(e) {
                        return {
                            conversationId: e.conversationId,
                            isRead: e.isRead,
                            latestMessageId: e.latestMessageId
                        }
                    },
                    AGENT_CONVERSATION_OPERATE_REQUESTED: function(e) {
                        return {
                            type: e.type,
                            extra: e.extra
                        }
                    },
                    SHOW_AGENT_CONVERSATION_REQUESTED: function(e) {
                        return {
                            conversation: e.conversation,
                            previousId: e.previousId,
                            messageId: e.messageId
                        }
                    },
                    UPDATE_FETCH_AGENT_CONVERSATIONS_DIRECTION: function(e) {
                        return {
                            direction: e.direction
                        }
                    },
                    FAKE_AGENT_CONVERSATION_SUCCEEDED: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    },
                    UPDATE_IS_CONTACTS_VISIBLE: function(e) {
                        return {
                            isContactsVisible: e.isContactsVisible
                        }
                    },
                    SET_ACTIVE_TAB: function(e) {
                        return {
                            tab: e.tab
                        }
                    },
                    SET_ACTIVE_TAB_SUCCEED: function(e) {
                        return {
                            tab: e.tab
                        }
                    },
                    SHOW_AGENT_CONVERSATION_SUCCEEDED: function(e) {
                        var t = e.conversationId
                          , r = e.previousId;
                        return {
                            conversationId: t,
                            previousId: void 0 === r ? null : r
                        }
                    },
                    UPDATE_AGENT_PREVIOUS_CONVERSATION_ID: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    },
                    RESET_AGENT_CONVERSATION_REQUESTED: function() {
                        return {}
                    },
                    SET_CURRENT_AGENT_CONVERSATION_CAN_READ: function(e) {
                        return {
                            canRead: e.canRead
                        }
                    },
                    MUTE_AGENT_CONVERSATION_REQUESTED: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    }
                })
                  , R_ = y_.updateAgentConversationFilter
                  , C_ = y_.fetchAgentConversationsRequested
                  , I_ = y_.fetchAgentConversationsSucceeded
                  , A_ = y_.updateFetchAgentConversationsStatus
                  , D_ = y_.fetchContactRequested
                  , P_ = y_.fetchContactSucceeded
                  , w_ = y_.updateFetchContactStatus
                  , x_ = y_.clickAgentContactRequested
                  , N_ = y_.deleteContactId
                  , k_ = y_.clickAgentConvRequested
                  , U_ = y_.deleteAgentConversationRequested
                  , M_ = y_.deleteAgentConversationSucceeded
                  , j_ = y_.markAgentConversationRequested
                  , L_ = y_.agentConversationOperateRequested
                  , F_ = y_.showAgentConversationRequested
                  , G_ = y_.updateFetchAgentConversationsDirection
                  , H_ = y_.fakeAgentConversationSucceeded
                  , V_ = y_.updateIsContactsVisible
                  , B_ = y_.setActiveTab
                  , Y_ = y_.setActiveTabSucceed
                  , q_ = y_.showAgentConversationSucceeded
                  , Q_ = y_.updateAgentPreviousConversationId
                  , W_ = y_.resetAgentConversationRequested
                  , K_ = y_.setCurrentAgentConversationCanRead
                  , z_ = y_.muteAgentConversationRequested;
                const J_ = e({}, R_, up(N.ConversationTypeEnum.Agent));
                var X_ = L().mark(rE)
                  , $_ = L().mark(nE);
                function Z_(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function eE(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Z_(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Z_(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var tE = "";
                function rE(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                if (t = e.payload,
                                r = t.conversationId,
                                n = t.isRead,
                                a = t.latestMessageId,
                                s.prev = 1,
                                tE !== a) {
                                    s.next = 4;
                                    break
                                }
                                return s.abrupt("return");
                            case 4:
                                return o = n ? "read" : "unread",
                                (c = n ? {
                                    last_read_message_id: a
                                } : {}).biz_type = 2,
                                s.next = 9,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    subServer: "coreapi",
                                    parent: "agent/conversations",
                                    parentId: r,
                                    resource: o,
                                    payload: JSON.stringify(eE({}, c))
                                });
                            case 9:
                                return s.next = 11,
                                (0,
                                vr.put)(vS({
                                    type: n ? dn.MARK_AS_READ : dn.MARK_AS_UNREAD,
                                    conversationId: r
                                }));
                            case 11:
                                s.next = 18;
                                break;
                            case 13:
                                return s.prev = 13,
                                s.t0 = s.catch(1),
                                tE = "",
                                s.next = 18,
                                (0,
                                vr.put)(Gv({
                                    error: s.t0
                                }));
                            case 18:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), X_, null, [[1, 13]])
                }
                function nE() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(j_, rE);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), $_)
                }
                var aE = L().mark(uE)
                  , oE = L().mark(pE);
                function cE(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function sE(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? cE(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cE(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var iE = {
                    delete: U_,
                    read: j_,
                    unread: j_,
                    mute: z_,
                    unmute: z_
                };
                function uE(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.extra,
                                a = iE[r],
                                o.next = 4,
                                (0,
                                vr.put)(a(sE({}, n)));
                            case 4:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), aE)
                }
                function pE() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(L_, uE);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), oE)
                }
                var dE = L().mark(_E)
                  , lE = L().mark(EE)
                  , fE = L().mark(SE);
                function _E(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                r.prev = 1,
                                r.next = 4,
                                (0,
                                vr.call)(fr, {
                                    method: "DELETE",
                                    subServer: "coreapi",
                                    parent: "agent",
                                    resource: "conversations",
                                    id: t,
                                    params: {
                                        biz_type: 2
                                    }
                                });
                            case 4:
                                return r.next = 6,
                                (0,
                                vr.call)(EE, t);
                            case 6:
                                r.next = 12;
                                break;
                            case 8:
                                return r.prev = 8,
                                r.t0 = r.catch(1),
                                r.next = 12,
                                (0,
                                vr.put)(Gv({
                                    error: r.t0
                                }));
                            case 12:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), dE, null, [[1, 8]])
                }
                function EE(e) {
                    var t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return n.next = 2,
                                (0,
                                vr.select)(Zf);
                            case 2:
                                if (!(t = n.sent).includes(e)) {
                                    n.next = 23;
                                    break
                                }
                                return n.next = 7,
                                (0,
                                vr.select)(a_);
                            case 7:
                                if (r = n.sent,
                                Co().put(Ao().deleteAgentConversationMessageHash({
                                    payload: {
                                        conversationId: e
                                    },
                                    isLazy: !0
                                })),
                                r !== e) {
                                    n.next = 12;
                                    break
                                }
                                return n.next = 12,
                                (0,
                                vr.put)(W_());
                            case 12:
                                return n.next = 14,
                                (0,
                                vr.put)(xS({
                                    conversationId: e
                                }));
                            case 14:
                                return n.next = 16,
                                (0,
                                vr.put)(vS({
                                    type: dn.DELETE_CONVERSATION,
                                    conversationId: e
                                }));
                            case 16:
                                return n.next = 18,
                                (0,
                                vr.put)(M_({
                                    conversationId: e
                                }));
                            case 18:
                                return n.next = 20,
                                (0,
                                vr.put)($r({
                                    name: "agentConversations",
                                    id: e
                                }));
                            case 20:
                                if (!(t.length - 1 < 20)) {
                                    n.next = 23;
                                    break
                                }
                                return n.next = 23,
                                (0,
                                vr.put)(C_({
                                    direction: "older",
                                    source: N.ConversationSource.DELETE
                                }));
                            case 23:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), lE)
                }
                function SE() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(U_, _E);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), fE)
                }
                const hE = e({}, M_, ip);
                var OE, vE = L().mark(CE), gE = L().mark(DE), TE = L().mark(PE);
                function mE(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function bE(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? mE(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : mE(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var yE = ["unread"]
                  , RE = function(e, t, r, n) {
                    var a = "older" === e ? t : "latest" === e ? r : ""
                      , o = yE.includes(n)
                      , c = {
                        next_timestamp_nano: a,
                        direction: "latest" === e && a ? "latest" : "older"
                    };
                    return o && (c.type = n),
                    new Promise((function(e, t) {
                        fr({
                            subServer: "coreapi",
                            parent: "agent",
                            resource: "subaccount_conversations",
                            params: c
                        }).then((function(t) {
                            e(t)
                        }
                        )).catch((function(e) {
                            t(e)
                        }
                        ))
                    }
                    ))
                };
                function CE(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R, I, A, D, P;
                    return L().wrap((function(w) {
                        for (; ; )
                            switch (w.prev = w.next) {
                            case 0:
                                return t = e.payload,
                                r = t.direction,
                                n = t.noPending,
                                w.next = 3,
                                (0,
                                vr.select)(E_);
                            case 3:
                                if (a = w.sent.toLowerCase(),
                                "reset" !== r) {
                                    w.next = 9;
                                    break
                                }
                                return w.next = 7,
                                Co().put(Ao().resetAgentConversationQueue({
                                    isLazy: !0
                                }));
                            case 7:
                                return w.next = 9,
                                (0,
                                vr.put)(I_({
                                    conversationIds: [],
                                    oldestTimestampNano: "",
                                    latestTimestampNano: "",
                                    maxLatestTimestampNano: "",
                                    direction: "reset",
                                    hasMore: !0,
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 9:
                                return w.next = 11,
                                (0,
                                vr.select)(b_);
                            case 11:
                                if (o = w.sent,
                                c = o.oldestTimestampNano,
                                s = o.latestTimestampNano,
                                i = o.maxLatestTimestampNano,
                                u = o.conversationIds,
                                p = o.status,
                                d = "reset" === r || !c && "older" === r,
                                w.prev = 18,
                                "older" === r && "0" === c) {
                                    w.next = 77;
                                    break
                                }
                                if (n) {
                                    w.next = 23;
                                    break
                                }
                                return w.next = 23,
                                (0,
                                vr.put)(A_({
                                    status: d ? N.DataFetchStatus.INIT_PENDING : N.DataFetchStatus.PENDING
                                }));
                            case 23:
                                return w.next = 25,
                                (0,
                                vr.call)(RE, r, c, s, a);
                            case 25:
                                if (l = w.sent,
                                f = l.conversations || [],
                                _ = l.page_result || {},
                                !(E = f.length)) {
                                    w.next = 73;
                                    break
                                }
                                if ("reset" === r && yE.includes(a)) {
                                    w.next = 41;
                                    break
                                }
                                if (S = f[E - 1],
                                O = (h = "older" === r) ? c : s,
                                v = h ? S.next_timestamp_nano : S.last_message_time_nano,
                                !O || !v) {
                                    w.next = 41;
                                    break
                                }
                                if (h ? v < O : v > O) {
                                    w.next = 41;
                                    break
                                }
                                return w.next = 40,
                                (0,
                                vr.put)(I_({
                                    direction: r,
                                    status: N.DataFetchStatus.SUCCEED,
                                    hasMore: "latest" === r,
                                    conversationIds: u,
                                    oldestTimestampNano: c,
                                    latestTimestampNano: s,
                                    maxLatestTimestampNano: s
                                }));
                            case 40:
                                return w.abrupt("return");
                            case 41:
                                return g = {},
                                f.forEach((function(e) {
                                    g[e.id] = !0
                                }
                                )),
                                T = {
                                    status: N.DataFetchStatus.SUCCEED,
                                    direction: r,
                                    conversationIdsMap: g
                                },
                                Ap(f),
                                m = f[0],
                                b = Dp(m, _.next_cursor),
                                f = f.map((function(e) {
                                    return bE(bE({}, e), {}, {
                                        isAgent: !0
                                    })
                                }
                                )),
                                y = C("agentConversations", f),
                                w.next = 51,
                                (0,
                                vr.select)((function(e) {
                                    return e.entityReducer
                                }
                                ));
                            case 51:
                                return R = w.sent,
                                I = R.agentConversations,
                                A = void 0 === I ? {} : I,
                                D = BD(u, y.result, r),
                                w.next = 57,
                                (0,
                                vr.call)(VD, A, f, "agentConversations");
                            case 57:
                                return T = Object.assign({}, T, {
                                    oldestTimestampNano: b.oldestTimestampNano,
                                    latestTimestampNano: b.latestTimestampNano,
                                    conversationIds: D,
                                    maxLatestTimestampNano: !i || i < b.latestTimestampNano ? b.latestTimestampNano : i
                                }),
                                w.next = 60,
                                (0,
                                vr.put)(I_(T));
                            case 60:
                                if ("latest" !== r) {
                                    w.next = 68;
                                    break
                                }
                                if (P = b.nextTimestampNano,
                                w.t0 = "0" !== P,
                                !w.t0) {
                                    w.next = 66;
                                    break
                                }
                                return w.next = 66,
                                (0,
                                vr.put)(C_({
                                    direction: r,
                                    noPending: !0
                                }));
                            case 66:
                                w.next = 71;
                                break;
                            case 68:
                                if (!(T.conversationIds.length <= 20)) {
                                    w.next = 71;
                                    break
                                }
                                return w.next = 71,
                                (0,
                                vr.put)(C_({
                                    direction: "older",
                                    noPending: !0
                                }));
                            case 71:
                                w.next = 75;
                                break;
                            case 73:
                                return w.next = 75,
                                (0,
                                vr.put)(I_({
                                    direction: r,
                                    status: N.DataFetchStatus.SUCCEED,
                                    hasMore: "latest" === r,
                                    conversationIds: u,
                                    oldestTimestampNano: c,
                                    latestTimestampNano: s,
                                    maxLatestTimestampNano: i
                                }));
                            case 75:
                                w.next = 80;
                                break;
                            case 77:
                                if (p === N.DataFetchStatus.INIT_FAILED) {
                                    w.next = 80;
                                    break
                                }
                                return w.next = 80,
                                (0,
                                vr.put)(A_({
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 80:
                                w.next = 86;
                                break;
                            case 82:
                                return w.prev = 82,
                                w.t1 = w.catch(18),
                                w.next = 86,
                                (0,
                                vr.put)(A_({
                                    status: d ? N.DataFetchStatus.INIT_FAILED : N.DataFetchStatus.FAILED
                                }));
                            case 86:
                            case "end":
                                return w.stop()
                            }
                    }
                    ), vE, null, [[18, 82]])
                }
                var IE = function() {
                    return new Promise((function(e, t) {
                        fr({
                            subServer: "coreapi",
                            parent: "agent",
                            resource: "all_contacts"
                        }).then((function(t) {
                            var r = t.all_contacts;
                            e(void 0 === r ? [] : r)
                        }
                        )).catch((function(e) {
                            t(e)
                        }
                        ))
                    }
                    ))
                }
                  , AE = function(e) {
                    return e.reduce((function(e, t) {
                        var r = t.accounts
                          , n = t.bar_name
                          , a = r.map((function(e) {
                            return bE(bE({}, e), {}, {
                                bar_name: n
                            })
                        }
                        ));
                        return [].concat(_e(e), _e(a))
                    }
                    ), [])
                };
                function DE() {
                    var e, t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return o.prev = 0,
                                o.next = 3,
                                (0,
                                vr.put)(w_({
                                    status: N.DataFetchStatus.INIT_PENDING
                                }));
                            case 3:
                                return o.next = 5,
                                (0,
                                vr.call)(IE);
                            case 5:
                                if (!(e = o.sent).length) {
                                    o.next = 13;
                                    break
                                }
                                return t = AE(e),
                                r = C("contacts", t),
                                n = r.entities,
                                a = r.result,
                                o.next = 11,
                                (0,
                                vr.put)(Jr({
                                    entities: n
                                }));
                            case 11:
                                return o.next = 13,
                                (0,
                                vr.put)(P_({
                                    contactsIds: a
                                }));
                            case 13:
                                return o.next = 15,
                                (0,
                                vr.put)(w_({
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 15:
                                o.next = 21;
                                break;
                            case 17:
                                return o.prev = 17,
                                o.t0 = o.catch(0),
                                o.next = 21,
                                (0,
                                vr.put)(w_({
                                    status: N.DataFetchStatus.INIT_FAILED
                                }));
                            case 21:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), gE, null, [[0, 17]])
                }
                function PE() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(C_, CE);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(D_, DE);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), TE)
                }
                const wE = (e(OE = {}, P_, (function(e, t) {
                    var r = t.payload.contactsIds;
                    return bE(bE({}, e), {}, {
                        contactsIds: _e(r)
                    })
                }
                )),
                e(OE, w_, (function(e, t) {
                    var r = t.payload.status;
                    return bE(bE({}, e), {}, {
                        fetchContactStatus: r
                    })
                }
                )),
                e(OE, I_, (function(e, t) {
                    var r = t.payload
                      , n = r.conversationIds
                      , a = r.conversationIdsMap
                      , o = void 0 === a ? {} : a
                      , c = r.direction
                      , s = void 0 === c ? "reset" : c
                      , i = r.status
                      , u = r.hasMore
                      , p = r.oldestTimestampNano
                      , d = r.latestTimestampNano
                      , l = r.maxLatestTimestampNano
                      , f = bE(bE({}, e), {}, {
                        status: i,
                        hasMore: u,
                        conversationIds: n,
                        conversationIdsMap: "reset" === s ? o : bE(bE({}, e.conversationIdsMap), o),
                        direction: "latest" === s ? s : "older",
                        maxLatestTimestampNano: l
                    });
                    switch (s) {
                    case "reset":
                        f.latestTimestampNano = d,
                        f.oldestTimestampNano = p;
                        break;
                    case "latest":
                        f.latestTimestampNano = d > e.latestTimestampNano ? d : e.latestTimestampNano;
                        break;
                    case "older":
                        f.oldestTimestampNano = p
                    }
                    return f
                }
                )),
                e(OE, A_, pp),
                e(OE, G_, dp),
                OE);
                var xE;
                function NE(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function kE(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? NE(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : NE(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var UE = L().mark(LE)
                  , ME = L().mark(FE)
                  , jE = L().mark(GE);
                function LE() {
                    var e, t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return r.next = 2,
                                (0,
                                vr.select)($f);
                            case 2:
                                return e = r.sent,
                                r.next = 5,
                                (0,
                                vr.select)(Zf);
                            case 5:
                                if (t = r.sent,
                                e) {
                                    r.next = 11;
                                    break
                                }
                                return r.next = 9,
                                (0,
                                vr.call)(CE, {
                                    payload: {
                                        direction: "reset"
                                    }
                                });
                            case 9:
                                r.next = 14;
                                break;
                            case 11:
                                if (!e || 0 === t.length) {
                                    r.next = 14;
                                    break
                                }
                                return r.next = 14,
                                (0,
                                vr.call)(CE, {
                                    payload: {
                                        direction: "latest"
                                    }
                                });
                            case 14:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), UE)
                }
                function FE(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return t = e.payload.tab,
                                r.next = 3,
                                (0,
                                vr.select)(n_);
                            case 3:
                                if (r.sent === t) {
                                    r.next = 10;
                                    break
                                }
                                return r.next = 7,
                                (0,
                                vr.put)(Y_({
                                    tab: t
                                }));
                            case 7:
                                if ("agent" !== t) {
                                    r.next = 10;
                                    break
                                }
                                return r.next = 10,
                                (0,
                                vr.call)(LE);
                            case 10:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), ME)
                }
                function GE() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(B_, FE);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), jE)
                }
                const HE = (e(xE = {}, Y_, (function(e, t) {
                    var r = t.payload.tab;
                    return kE(kE({}, e), {}, {
                        activeTab: r
                    })
                }
                )),
                e(xE, Q_, lp),
                e(xE, K_, fp),
                xE);
                var VE, BE = P(439).t;
                function YE(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function qE(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? YE(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : YE(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var QE = L().mark(XE)
                  , WE = L().mark(ZE)
                  , KE = L().mark(eS)
                  , zE = L().mark(tS);
                function JE(e) {
                    var t = e.accountId;
                    return new Promise((function(e, r) {
                        fr({
                            subServer: "coreapi",
                            parent: "agent",
                            resource: "conversation_id",
                            params: {
                                peer_account_id: t
                            }
                        }).then((function(t) {
                            return e(t)
                        }
                        )).catch((function(e) {
                            return r(e)
                        }
                        ))
                    }
                    ))
                }
                function XE(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T;
                    return L().wrap((function(m) {
                        for (; ; )
                            switch (m.prev = m.next) {
                            case 0:
                                return t = e.payload,
                                r = t.accountId,
                                n = t.messageId,
                                a = t.inSearch,
                                o = t.searchType,
                                c = void 0 === o ? "" : o,
                                m.prev = 1,
                                m.next = 4,
                                (0,
                                vr.select)(Ri);
                            case 4:
                                return s = m.sent,
                                m.next = 7,
                                (0,
                                vr.select)(ui);
                            case 7:
                                return i = m.sent,
                                m.next = 10,
                                (0,
                                vr.call)(JE, {
                                    accountId: r
                                });
                            case 10:
                                if (u = m.sent,
                                p = u.peer_status,
                                d = u.peer_online_status,
                                l = u.conversation_id,
                                !s || "agentMessage" === c || 1 !== p) {
                                    m.next = 17;
                                    break
                                }
                                return m.next = 17,
                                (0,
                                vr.put)(Ou({
                                    keyword: "",
                                    searchFilter: i
                                }));
                            case 17:
                                return m.next = 19,
                                (0,
                                vr.select)(a_);
                            case 19:
                                return f = m.sent,
                                m.next = 22,
                                (0,
                                vr.select)(__(r));
                            case 22:
                                if (_ = m.sent,
                                0 !== p) {
                                    m.next = 28;
                                    break
                                }
                                return m.next = 26,
                                (0,
                                vr.put)(ze({
                                    type: "CONFIRM_MODAL",
                                    title: {
                                        key: "contact_list.contact_cell.account_no_found_title"
                                    },
                                    actions: {
                                        confirm: {
                                            label: {
                                                key: "common.confirm"
                                            },
                                            handler: function() {
                                                F.store.dispatch(Je()),
                                                F.store.dispatch(N_({
                                                    accountId: r
                                                }))
                                            }
                                        }
                                    },
                                    additions: {
                                        content: BE("contact_list.contact_cell.account_no_found_content")
                                    }
                                }));
                            case 26:
                                m.next = 59;
                                break;
                            case 28:
                                if (![-1, 0, 1].includes(d)) {
                                    m.next = 59;
                                    break
                                }
                                if ("agentMessage" === c) {
                                    m.next = 32;
                                    break
                                }
                                return m.next = 32,
                                (0,
                                vr.put)(V_({
                                    isContactsVisible: !1
                                }));
                            case 32:
                                return m.next = 34,
                                (0,
                                vr.put)(Xr({
                                    name: "contacts",
                                    id: r,
                                    record: {
                                        account_status: d
                                    }
                                }));
                            case 34:
                                if (!l) {
                                    m.next = 59;
                                    break
                                }
                                return m.next = 37,
                                (0,
                                vr.call)(FE, {
                                    payload: {
                                        tab: "agent"
                                    }
                                });
                            case 37:
                                return m.next = 39,
                                (0,
                                vr.select)(s_(l));
                            case 39:
                                if ((E = m.sent).id) {
                                    m.next = 52;
                                    break
                                }
                                return S = _.tob_account_id,
                                h = _.account_id,
                                O = _.nick_name,
                                v = {
                                    id: l,
                                    unread_count: 0,
                                    status: N.DataFetchStatus.SUCCEED,
                                    shop_id: 0,
                                    to_dist_status: d,
                                    isAgent: !0,
                                    to_name: O,
                                    to_id: h,
                                    to_tob_user_id: S,
                                    last_read_message_id: "",
                                    latest_message_id: "",
                                    latest_message_type: N.MessageTypes.MSG_TYPE_TEXT,
                                    latest_message_content: {
                                        text: ""
                                    },
                                    faking: !0
                                },
                                g = C("agentConversations", v),
                                T = g.entities,
                                m.next = 46,
                                (0,
                                vr.put)(Jr({
                                    entities: T
                                }));
                            case 46:
                                return m.next = 48,
                                (0,
                                vr.put)(H_({
                                    conversationId: l
                                }));
                            case 48:
                                return m.next = 50,
                                (0,
                                vr.put)(F_({
                                    conversation: v,
                                    previousId: void 0 === f ? l : f,
                                    messageId: n
                                }));
                            case 50:
                                m.next = 56;
                                break;
                            case 52:
                                return m.next = 54,
                                (0,
                                vr.put)(Xr({
                                    name: "agentConversations",
                                    id: E.id,
                                    record: {
                                        to_dist_status: d
                                    }
                                }));
                            case 54:
                                return m.next = 56,
                                (0,
                                vr.put)(F_({
                                    conversation: E,
                                    previousId: void 0 === f ? l : f,
                                    messageId: n
                                }));
                            case 56:
                                if (!a) {
                                    m.next = 59;
                                    break
                                }
                                return m.next = 59,
                                (0,
                                vr.put)(gu({
                                    mode: !0,
                                    conversationId: l
                                }));
                            case 59:
                                m.next = 66;
                                break;
                            case 61:
                                return m.prev = 61,
                                m.t0 = m.catch(1),
                                m.next = 65,
                                (0,
                                vr.call)(Qv, Gv({
                                    error: m.t0
                                }));
                            case 65:
                                console.log("*** Show Agent Conversation Failed: ", m.t0);
                            case 66:
                            case "end":
                                return m.stop()
                            }
                    }
                    ), QE, null, [[1, 61]])
                }
                function $E(e) {
                    var t = e.accountId;
                    return new Promise((function(e, r) {
                        fr({
                            subServer: "coreapi",
                            parent: "agent",
                            resource: "accounts_status",
                            params: {
                                account_id: t
                            }
                        }).then((function(t) {
                            return e(t)
                        }
                        )).catch((function(e) {
                            return r(e)
                        }
                        ))
                    }
                    ))
                }
                function ZE(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.payload,
                                r = t.conversation,
                                n = t.previousId,
                                s.prev = 1,
                                s.next = 4,
                                (0,
                                vr.put)(F_({
                                    conversation: r,
                                    previousId: n
                                }));
                            case 4:
                                return s.next = 6,
                                (0,
                                vr.call)($E, {
                                    accountId: r.to_id
                                });
                            case 6:
                                if (a = s.sent,
                                o = a.status,
                                c = a.online_status,
                                0 !== o) {
                                    s.next = 14;
                                    break
                                }
                                return s.next = 12,
                                (0,
                                vr.put)(ze({
                                    type: "CONFIRM_MODAL",
                                    title: {
                                        key: "contact_list.contact_cell.account_no_found_title"
                                    },
                                    actions: {
                                        confirm: {
                                            label: {
                                                key: "common.confirm"
                                            },
                                            handler: function() {
                                                F.store.dispatch(Je()),
                                                F.store.dispatch(M_({
                                                    conversationId: r.id
                                                })),
                                                F.store.dispatch(Uu()),
                                                Zf(F.store.getState()).length < 20 && F.store.dispatch(C_({
                                                    direction: "older"
                                                }))
                                            }
                                        }
                                    },
                                    additions: {
                                        content: BE("contact_list.contact_cell.account_no_found_content")
                                    }
                                }));
                            case 12:
                                s.next = 19;
                                break;
                            case 14:
                                if (![-1, 0, 1].includes(c)) {
                                    s.next = 19;
                                    break
                                }
                                return s.next = 17,
                                (0,
                                vr.put)(Xr({
                                    name: "agentConversations",
                                    id: r.id,
                                    record: {
                                        to_dist_status: c
                                    }
                                }));
                            case 17:
                                return s.next = 19,
                                (0,
                                vr.put)(Xr({
                                    name: "contacts",
                                    id: r.to_id,
                                    record: {
                                        account_status: c
                                    }
                                }));
                            case 19:
                                s.next = 23;
                                break;
                            case 21:
                                s.prev = 21,
                                s.t0 = s.catch(1);
                            case 23:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), WE, null, [[1, 21]])
                }
                function eS(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l;
                    return L().wrap((function(f) {
                        for (; ; )
                            switch (f.prev = f.next) {
                            case 0:
                                return t = e.payload,
                                r = t.conversation,
                                n = t.previousId,
                                a = t.messageId,
                                f.prev = 1,
                                o = r.id,
                                c = r.latest_message_id,
                                s = r.unread_count,
                                i = r.last_read_message_id,
                                f.next = 5,
                                (0,
                                vr.put)(Mu({
                                    conversationId: o,
                                    previousId: n,
                                    type: N.ConversationTypeEnum.Agent
                                }));
                            case 5:
                                return f.next = 7,
                                (0,
                                vr.put)(Xu());
                            case 7:
                                return f.next = 9,
                                (0,
                                vr.select)(ii);
                            case 9:
                                return u = f.sent,
                                p = "number" == typeof s && s > 0 && !u && !a,
                                f.next = 13,
                                (0,
                                vr.put)(zu({
                                    isNavigateToUnreadMessage: p
                                }));
                            case 13:
                                return f.next = 15,
                                Co().put(Ao().fetchAgentMessagesRequested({
                                    payload: {
                                        conversationId: r.id,
                                        direction: a || p ? "around" : "older",
                                        messageId: a || (p ? i : void 0),
                                        reset: !0
                                    }
                                }));
                            case 15:
                                return f.next = 17,
                                Co().call(Ao().handleCurrentConversationChange({
                                    payload: {
                                        conversationId: o
                                    }
                                }));
                            case 17:
                                if (d = f.sent,
                                !(s > 0 || d)) {
                                    f.next = 25;
                                    break
                                }
                                return l = d || c,
                                f.next = 23,
                                (0,
                                vr.put)(j_({
                                    conversationId: o,
                                    isRead: !0,
                                    latestMessageId: l
                                }));
                            case 23:
                                return f.next = 25,
                                (0,
                                vr.put)(Du({
                                    conversationId: o
                                }));
                            case 25:
                                KD.emit("agentScrollToConversation", o),
                                f.next = 31;
                                break;
                            case 28:
                                f.prev = 28,
                                f.t0 = f.catch(1),
                                console.log("*** Show Conversation Failed: ", f.t0);
                            case 31:
                            case "end":
                                return f.stop()
                            }
                    }
                    ), KE, null, [[1, 28]])
                }
                function tS() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(x_, XE);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeLatest)(k_, ZE);
                            case 4:
                                return e.next = 6,
                                (0,
                                vr.takeLatest)(F_, eS);
                            case 6:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), zE)
                }
                const rS = (e(VE = {}, W_, (function(e) {
                    return qE(qE({}, e), {}, {
                        currentConversationId: null
                    })
                }
                )),
                e(VE, q_, (function(e, t) {
                    var r = t.payload
                      , n = r.conversationId
                      , a = r.previousId;
                    return qE(qE({}, e), {}, {
                        currentConversationId: n,
                        previousConversationId: a
                    })
                }
                )),
                e(VE, N_, (function(e, t) {
                    var r = t.payload.accountId
                      , n = e.contactsIds.filter((function(e) {
                        return r !== e
                    }
                    ));
                    return qE(qE({}, e), {}, {
                        contactsIds: _e(n)
                    })
                }
                )),
                e(VE, H_, (function(e, t) {
                    var r = t.payload.conversationId;
                    return qE(qE({}, e), {}, {
                        conversationIds: [r].concat(e.conversationIds.filter((function(e) {
                            return r !== e
                        }
                        )))
                    })
                }
                )),
                e(VE, V_, (function(e, t) {
                    var r = t.payload.isContactsVisible;
                    return qE(qE({}, e), {}, {
                        isContactsVisible: r
                    })
                }
                )),
                VE);
                var nS = L().mark(oS)
                  , aS = L().mark(cS);
                function oS(e) {
                    var t, r, n;
                    return L().wrap((function(a) {
                        for (; ; )
                            switch (a.prev = a.next) {
                            case 0:
                                return t = e.payload.conversationId,
                                a.prev = 1,
                                a.next = 4,
                                (0,
                                vr.select)(s_(t));
                            case 4:
                                return r = a.sent,
                                n = r.mute,
                                a.next = 8,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    subServer: "coreapi",
                                    parent: "agent/conversations",
                                    parentId: t,
                                    resource: n ? "unmute" : "mute"
                                });
                            case 8:
                                a.next = 14;
                                break;
                            case 10:
                                return a.prev = 10,
                                a.t0 = a.catch(1),
                                a.next = 14,
                                (0,
                                vr.put)(Gv({
                                    error: a.t0
                                }));
                            case 14:
                            case "end":
                                return a.stop()
                            }
                    }
                    ), nS, null, [[1, 10]])
                }
                function cS() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(z_, oS);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), aS)
                }
                function sS(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function iS(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? sS(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : sS(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var uS = [nE, SE, pE, PE, tS, GE, cS]
                  , pS = (0,
                He.handleActions)(iS(iS(iS(iS(iS({}, J_), rS), wE), hE), HE), {
                    filter: "All",
                    conversationIds: [],
                    conversationIdsMap: {},
                    hasMore: !0,
                    direction: "",
                    latestTimestampNano: "",
                    oldestTimestampNano: "",
                    maxLatestTimestampNano: "",
                    status: "",
                    contactsIds: [],
                    fetchContactStatus: "",
                    needDynamicIndex: [],
                    isContactsVisible: !1,
                    currentConversationId: "",
                    previousConversationId: "",
                    currentConversationCanRead: !0,
                    activeTab: "customer"
                })
                  , dS = function(e) {
                    return e.agentReducer.unreadCount.unreadConversationCount
                };
                function lS(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function fS(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? lS(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : lS(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var _S = L().mark(TS)
                  , ES = L().mark(mS)
                  , SS = L().mark(bS)
                  , hS = L().mark(yS)
                  , OS = (0,
                He.createActions)({
                    UPDATE_AGENT_UNREAD_COUNT: function(e) {
                        return {
                            type: e.type,
                            conversationId: e.conversationId,
                            messageQueueUpdate: e.messageQueueUpdate,
                            source: e.source,
                            count: e.count
                        }
                    },
                    UPDATE_AGENT_UNREAD_CONVERSATION_COUNT: function(e) {
                        return {
                            count: e.count
                        }
                    }
                })
                  , vS = OS.updateAgentUnreadCount
                  , gS = OS.updateAgentUnreadConversationCount;
                function TS(e, t) {
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return r.next = 2,
                                (0,
                                vr.put)(Xr({
                                    name: "agentConversations",
                                    id: e,
                                    record: {
                                        unread_count: t
                                    }
                                }));
                            case 2:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), _S)
                }
                function mS(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.source,
                                o.prev = 1,
                                r = t ? {
                                    _s: t
                                } : {},
                                o.next = 5,
                                (0,
                                vr.call)(fr, {
                                    parent: "agent",
                                    subServer: "coreapi",
                                    resource: "unread_count",
                                    params: r
                                });
                            case 5:
                                return n = o.sent,
                                a = n.unread_conv_count,
                                o.next = 9,
                                (0,
                                vr.put)(gS({
                                    count: a
                                }));
                            case 9:
                                o.next = 13;
                                break;
                            case 11:
                                o.prev = 11,
                                o.t0 = o.catch(1);
                            case 13:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), ES, null, [[1, 11]])
                }
                function bS(e) {
                    var t, r, n, a, o, c, s, i, u, p;
                    return L().wrap((function(d) {
                        for (; ; )
                            switch (d.prev = d.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.conversationId,
                                a = t.messageQueueUpdate,
                                o = t.source,
                                t.count,
                                d.next = 3,
                                (0,
                                vr.select)(s_(n));
                            case 3:
                                return c = d.sent,
                                s = c.unread_count,
                                d.next = 7,
                                (0,
                                vr.select)(dS);
                            case 7:
                                i = d.sent,
                                d.t0 = r,
                                d.next = d.t0 === dn.REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT ? 11 : d.t0 === dn.DELETE_CONVERSATION ? 14 : d.t0 === dn.MARK_AS_READ ? 18 : d.t0 === dn.MARK_AS_UNREAD ? 26 : d.t0 === dn.RECEIVE_UNREADABLE_MESSAGE ? 32 : d.t0 === dn.MESSAGE_QUEUE_UPDATE ? 35 : d.t0 === dn.CLEAR_CONVERSATION_COUNT ? 39 : 42;
                                break;
                            case 11:
                                return d.next = 13,
                                (0,
                                vr.call)(mS, {
                                    source: o
                                });
                            case 13:
                            case 17:
                            case 25:
                            case 31:
                            case 34:
                            case 38:
                            case 41:
                            case 42:
                                return d.abrupt("break", 43);
                            case 14:
                                if ([void 0, 0].includes(s)) {
                                    d.next = 17;
                                    break
                                }
                                return d.next = 17,
                                (0,
                                vr.put)(gS({
                                    count: i - 1
                                }));
                            case 18:
                                if (u = {
                                    last_read_message_id: c.latest_message_id
                                },
                                !(s > 0)) {
                                    d.next = 23;
                                    break
                                }
                                return u.unread_count = 0,
                                d.next = 23,
                                (0,
                                vr.put)(gS({
                                    count: i - 1
                                }));
                            case 23:
                                return d.next = 25,
                                (0,
                                vr.put)(Xr({
                                    name: "agentConversations",
                                    id: n,
                                    record: u
                                }));
                            case 26:
                                if (0 !== s) {
                                    d.next = 31;
                                    break
                                }
                                return d.next = 29,
                                (0,
                                vr.put)(gS({
                                    count: i + 1
                                }));
                            case 29:
                                return d.next = 31,
                                (0,
                                vr.call)(TS, n, s + 1);
                            case 32:
                                return d.next = 34,
                                (0,
                                vr.put)(gS({
                                    count: i + 1
                                }));
                            case 35:
                                return p = a.totalIncrease,
                                d.next = 38,
                                (0,
                                vr.put)(gS({
                                    count: i + p
                                }));
                            case 39:
                                return d.next = 41,
                                (0,
                                vr.put)(gS({
                                    count: i - 1
                                }));
                            case 43:
                            case "end":
                                return d.stop()
                            }
                    }
                    ), SS)
                }
                function yS() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(vS, bS);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), hS)
                }
                const RS = e({}, gS, (function(e, t) {
                    var r = t.payload.count;
                    return fS(fS({}, e), {}, {
                        unreadConversationCount: r < 0 ? 0 : r
                    })
                }
                ));
                function CS(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var IS, AS = [yS], DS = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? CS(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : CS(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, RS), {
                    unreadConversationCount: 0
                }), PS = (0,
                He.createActions)({
                    SAVE_AGENT_DRAFT: function(e) {
                        return {
                            conversationId: e.conversationId,
                            draft: e.draft
                        }
                    },
                    REMOVE_AGENT_SINGLE_DRAFT: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    },
                    REMOVE_AGENT_ALL_DRAFT: function() {
                        return {}
                    },
                    BATCH_REMOVE_AGENT_DRAFT: function(e) {
                        return {
                            conversationIds: e.conversationIds
                        }
                    }
                }), wS = PS.saveAgentDraft, xS = PS.removeAgentSingleDraft, NS = PS.removeAgentAllDraft;
                function kS(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                PS.batchRemoveAgentDraft;
                var US, MS = (e(IS = {}, wS, vp),
                e(IS, xS, hp),
                e(IS, NS, Op),
                IS), jS = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? kS(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : kS(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, MS), {
                    draftHash: {}
                }), LS = function(e) {
                    return e.agentReducer.draft.draftHash
                }, FS = (0,
                Ye.createSelector)(a_, LS, (function(e, t) {
                    return e && t[e]
                }
                ));
                function GS(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var HS = (0,
                He.createActions)({
                    ADD_AGENT_MEDIA_FILE: function(e) {
                        return {
                            medias: e.medias,
                            conversationId: e.conversationId
                        }
                    },
                    DELETE_AGENT_MEDIA_FILE: function(e) {
                        return {
                            id: e.id,
                            conversationId: e.conversationId
                        }
                    },
                    CLEAR_AGENT_MEDIA_FILE: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    }
                })
                  , VS = HS.addAgentMediaFile
                  , BS = HS.deleteAgentMediaFile
                  , YS = HS.clearAgentMediaFile
                  , qS = (e(US = {}, VS, Rp),
                e(US, BS, Cp),
                e(US, YS, Ip),
                US)
                  , QS = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? GS(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : GS(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, qS), {
                    mediaMap: {}
                })
                  , WS = function(e) {
                    return e.agentReducer.mediaPreviewer.mediaMap
                }
                  , KS = (0,
                Ye.createSelector)(a_, WS, (function(e, t) {
                    return t[e] || []
                }
                ))
                  , zS = L().mark(JS);
                function JS(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                if (t = e.type,
                                r = e.payload,
                                "notification" !== t) {
                                    c.next = 23;
                                    break
                                }
                                a = (n = r).type,
                                o = n.content.conversation_id,
                                c.t0 = a,
                                c.next = c.t0 === Up ? 6 : c.t0 === Mp ? 9 : c.t0 === jp ? 12 : c.t0 === Fp ? 15 : c.t0 === Gp ? 18 : 21;
                                break;
                            case 6:
                                return c.next = 8,
                                (0,
                                vr.put)(vS({
                                    type: dn.MARK_AS_READ,
                                    conversationId: o
                                }));
                            case 8:
                            case 11:
                            case 14:
                            case 17:
                            case 20:
                                return c.abrupt("break", 21);
                            case 9:
                                return c.next = 11,
                                (0,
                                vr.put)(vS({
                                    type: dn.MARK_AS_UNREAD,
                                    conversationId: o
                                }));
                            case 12:
                                return c.next = 14,
                                (0,
                                vr.call)(EE, o);
                            case 15:
                                return c.next = 17,
                                (0,
                                vr.put)(Xr({
                                    name: "agentConversations",
                                    id: o,
                                    record: {
                                        mute: !0
                                    }
                                }));
                            case 18:
                                return c.next = 20,
                                (0,
                                vr.put)(Xr({
                                    name: "agentConversations",
                                    id: o,
                                    record: {
                                        mute: !1
                                    }
                                }));
                            case 21:
                                c.next = 26;
                                break;
                            case 23:
                                if ("message" !== t) {
                                    c.next = 26;
                                    break
                                }
                                return c.next = 26,
                                (0,
                                vr.call)(mp, {
                                    payload: r,
                                    type: N.ConversationTypeEnum.Agent
                                });
                            case 26:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), zS)
                }
                var XS = P(439).t;
                function $S(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function ZS(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? $S(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : $S(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var eh, th = N.MessageTypes.MSG_TYPE_TEXT, rh = N.MessageTypes.MSG_TYPE_IMAGE, nh = N.MessageTypes.MSG_TYPE_VIDEO, ah = N.MessageTypes.MSG_TYPE_IMAGE_WITH_TEXT, oh = function(e) {
                    return (e.agentMessageReducer || {}).messagesRelatedMap || {}
                }, ch = function(e) {
                    return e.agentMessageReducer.offlineMessages
                }, sh = function(e) {
                    return (0,
                    Ye.createSelector)(oh, (function(t) {
                        return t[e] || {
                            all: [],
                            sending: [],
                            failed: []
                        }
                    }
                    ))
                }, ih = function(e) {
                    return (0,
                    Ye.createSelector)(sh(e), s_(e), Dr, (function(e, t, r) {
                        return kp(e, t, r)
                    }
                    ))
                }, uh = (0,
                Ye.createSelector)((function(e) {
                    var t;
                    return null == e || null === (t = e.agentMessageReducer) || void 0 === t ? void 0 : t.reply
                }
                ), (function(e) {
                    return e ? e.toMessageId : {}
                }
                )), ph = (0,
                Ye.createSelector)(a_, uh, (function(e, t) {
                    return t[e] || ""
                }
                )), dh = function(e) {
                    return (e.agentMessageReducer || {}).status
                }, lh = (0,
                Ye.createSelector)(a_, oh, (function(e, t) {
                    return t[e] || {
                        all: []
                    }
                }
                )), fh = (0,
                Ye.createSelector)(lh, (function(e) {
                    return e.all || []
                }
                )), _h = (0,
                Ye.createSelector)(lh, (function(e) {
                    return e.sending || []
                }
                )), Eh = (0,
                Ye.createSelector)(lh, (function(e) {
                    return e.failed || []
                }
                )), Sh = (0,
                Ye.createSelector)(lh, (function(e) {
                    return e.hasMoreOlderMessage
                }
                )), hh = (0,
                Ye.createSelector)(lh, (function(e) {
                    return e.hasMoreLatestMessage
                }
                )), Oh = (0,
                Ye.createSelector)(Dr, fh, (function(e, r) {
                    return ((0,
                    t.denormalize)(r, [c], {
                        messages: e
                    }) || []).filter(Boolean)
                }
                )), vh = (0,
                Ye.createSelector)(Oh, (function(e) {
                    return e.reverse()
                }
                )), gh = (0,
                Ye.createSelector)(c_, vh, (function(e, t) {
                    if (!e)
                        return [];
                    var r = e.last_read_message_id;
                    return t.filter((function(t) {
                        var n = (0,
                        N.getMessageIsSend)(t, e);
                        return t && !n && (0,
                        N.greaterThan)(t.id, r)
                    }
                    ))
                }
                )), Th = (0,
                Ye.createSelector)(vh, _h, Eh, c_, (function(e, t, r, n) {
                    return n ? e.filter((function(e) {
                        if (!e)
                            return !1;
                        var t = e.content
                          , r = e.type;
                        return !(!t || t && 0 === Object.keys(t).length || (r === th && !e.content.text && (0,
                        N.isDeletedMessage)(e),
                        0))
                    }
                    )).map((function(e) {
                        var n = t.includes(e.id) ? N.MessageSendStatus.SENDING : r.includes(e.id) ? N.MessageSendStatus.FAILED : e.send_status ? N.MessageSendStatus.SUCCEED : null
                          , a = Object.assign({}, e, {
                            send_status: n
                        })
                          , o = a.message_option;
                        return (0,
                        N.hasTargetMessageOption)(o, N.MessageOption.MSG_OPT_CENSORED_BLACKLIST) && (a = ZS(ZS({}, a), {}, {
                            type: th,
                            send_status: N.MessageSendStatus.FAILED,
                            errorCode: N.MessageErrorCode.BLACKLIST,
                            content: {
                                text: XS("common.blacklist.replaced_text")
                            }
                        })),
                        a
                    }
                    )) : []
                }
                )), mh = (0,
                Ye.createSelector)(gh, (function(e) {
                    return e.map((function(e) {
                        return e.id
                    }
                    ))
                }
                )), bh = (0,
                Ye.createSelector)(ph, Dr, (function(e, r) {
                    return (0,
                    t.denormalize)(e, c, {
                        messages: r
                    })
                }
                )), yh = (0,
                Ye.createSelector)(vh, (function(e) {
                    return e.filter((function(e) {
                        var t = e || {}
                          , r = t.message_option
                          , n = t.type;
                        return !(0,
                        N.hasTargetMessageOption)(r, N.MessageOption.MSG_OPT_CENSORED_BLACKLIST) && !(0,
                        N.isDeletedMessage)(e) && [rh, nh].includes(n)
                    }
                    ))
                }
                )), Rh = (0,
                Ye.createSelector)(yh, c_, Xn, (function(e, t, r) {
                    var n = (0,
                    N.getVideoServer)("ID");
                    return e.map((function(e) {
                        var a = ""
                          , o = !1
                          , c = (0,
                        N.getMessageIsSend)(e, t);
                        switch (e.type) {
                        case rh:
                            var s = e.content;
                            a = 1 !== s.file_server_id && s.url_hash ? "".concat((0,
                            N.getFileServer)()).concat(s.url_hash) : s.url || s.localUrl,
                            o = s.unknown_qr_code && !c;
                            break;
                        case nh:
                            var i = e.content;
                            a = i.video_url ? "".concat(n).concat(i.video_url) : i.localVideoUrl;
                            break;
                        case ah:
                            var u = e.content;
                            a = u.thumb_url ? "".concat((0,
                            N.getFileServer)()).concat(u.thumb_url) : u.image_url
                        }
                        var p = e.id
                          , d = e.type
                          , l = e.request_id
                          , f = e.content;
                        return {
                            type: d,
                            id: p,
                            url: a,
                            unknownQrCode: o,
                            trackerData: {
                                account_type: r.role || "shopee_user",
                                message_id: p === l ? 0 : p,
                                conversation_id: t.id,
                                account_id: r.id,
                                is_sender: c,
                                video_original_duration: f.duration_seconds
                            }
                        }
                    }
                    ))
                }
                )), Ch = function(e) {
                    for (var t = Object.keys(e), r = {}, n = 0; n < t.length; n++) {
                        var a = t[n];
                        "function" == typeof e[a] && (r[a] = e[a])
                    }
                    var o, c = Object.keys(r);
                    try {
                        !function(e) {
                            Object.keys(e).forEach((function(t) {
                                var r = e[t];
                                if (void 0 === r(void 0, {
                                    type: Jf.INIT
                                }))
                                    throw new Error(Kf(12));
                                if (void 0 === r(void 0, {
                                    type: Jf.PROBE_UNKNOWN_ACTION()
                                }))
                                    throw new Error(Kf(13))
                            }
                            ))
                        }(r)
                    } catch (e) {
                        o = e
                    }
                    return function(e, t) {
                        if (void 0 === e && (e = {}),
                        o)
                            throw o;
                        for (var n = !1, a = {}, s = 0; s < c.length; s++) {
                            var i = c[s]
                              , u = r[i]
                              , p = e[i]
                              , d = u(p, t);
                            if (void 0 === d)
                                throw t && t.type,
                                new Error(Kf(14));
                            a[i] = d,
                            n = n || d !== p
                        }
                        return (n = n || c.length !== Object.keys(e).length) ? a : e
                    }
                }({
                    conversation: pS,
                    unreadCount: DS,
                    draft: jS,
                    mediaPreviewer: QS
                }), Ih = [].concat(_e(uS), _e(AS)), Ah = L().mark(Yh), Dh = L().mark(qh), Ph = L().mark(Qh), wh = L().mark(Kh), xh = L().mark(Jh), Nh = L().mark($h), kh = L().mark(Zh), Uh = L().mark(eO), Mh = L().mark(tO), jh = L().mark(rO), Lh = L().mark(nO);
                function Fh(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Gh(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Fh(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Fh(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Hh = {
                    user: "user/conversation_search",
                    orderId: "user/order_search",
                    message: "search/message",
                    combine: "search/combined_search",
                    agentMessage: "agent/search/agent_message",
                    combineMessages: "search/message_combined_search"
                };
                function Vh(e, t, r, n) {
                    var a = t.keyword
                      , o = t.shopId
                      , c = t.pageIndex
                      , s = t.pageSize
                      , i = t.type
                      , u = t.nextOffset
                      , p = Hh[e]
                      , d = p.indexOf("/")
                      , l = {}
                      , f = {
                        shop_id: o,
                        per_page: s,
                        page: c,
                        keyword: a,
                        type: i
                    };
                    l = "agentMessage" === e ? {
                        shop_id: o,
                        limit: s,
                        offset: u,
                        keyword: a,
                        type: i
                    } : "message" === e ? Gh(Gh({}, f), {}, {
                        limit: s,
                        offset: u
                    }) : Gh({}, f),
                    "all" !== n && (["message", "combine", "combineMessages"].includes(e) && (l.region = n),
                    ["user", "orderId"].includes(e) && (l.shop_region = n));
                    var _ = {
                        parent: p.substring(0, d),
                        resource: p.substring(d + 1),
                        params: l
                    };
                    return r && (_.subServer = "coreapi"),
                    new Promise((function(e, t) {
                        fr(_).then((function(t) {
                            return e(t)
                        }
                        )).catch((function(e) {
                            return t(e)
                        }
                        ))
                    }
                    ))
                }
                function Bh(e) {
                    return e.map((function(e) {
                        return {
                            id: "".concat(e.buyer_id, "-").concat(e.shop_id),
                            to_id: e.buyer_id,
                            to_name: e.buyer_name || "-",
                            to_avatar: e.buyer_avatar,
                            to_avatar_hash: e.buyer_avatar_hash,
                            shop_id: e.shop_id,
                            shop_name: e.shop_name,
                            avatar: e.buyer_avatar,
                            order_id: e.order_id,
                            order_sn: e.order_sn,
                            shop_region: e.shop_region
                        }
                    }
                    ))
                }
                function Yh(t) {
                    var r, n, a, o, c, s, i;
                    return L().wrap((function(u) {
                        for (; ; )
                            switch (u.prev = u.next) {
                            case 0:
                                return n = t.payload,
                                a = n.conversationId,
                                o = n.mode,
                                e(r = {}, N.ConversationTypeEnum.Normal, {
                                    idSelector: oi,
                                    deleteKeyInMessagesReleatedMap: Ao().deleteConversationMessageHash
                                }),
                                e(r, N.ConversationTypeEnum.Agent, {
                                    idSelector: a_,
                                    deleteKeyInMessagesReleatedMap: Ao().deleteAgentConversationMessageHash
                                }),
                                c = r,
                                u.next = 4,
                                (0,
                                vr.put)(Tu({
                                    mode: o
                                }));
                            case 4:
                                if (o) {
                                    u.next = 15;
                                    break
                                }
                                return u.next = 7,
                                (0,
                                vr.select)(ci);
                            case 7:
                                return s = u.sent,
                                i = c[s],
                                u.next = 11,
                                (0,
                                vr.select)(i.idSelector);
                            case 11:
                                if (!u.sent) {
                                    u.next = 15;
                                    break
                                }
                                return u.next = 15,
                                Co().put(i.deleteKeyInMessagesReleatedMap({
                                    payload: {
                                        mode: o,
                                        conversationId: a
                                    }
                                }));
                            case 15:
                            case "end":
                                return u.stop()
                            }
                    }
                    ), Ah)
                }
                function qh(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return r.next = 2,
                                (0,
                                vr.select)(Pi);
                            case 2:
                                return t = r.sent,
                                r.abrupt("return", e.map((function(e) {
                                    var r = e.conversation_id
                                      , n = t.find((function(e) {
                                        return e.id === r
                                    }
                                    ));
                                    return n && !n.faking ? Gh(Gh(Gh({}, e), n), {}, {
                                        existed: !0
                                    }) : e
                                }
                                )));
                            case 4:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), Dh)
                }
                function Qh(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return o.next = 2,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer.existedResultIdMap
                                }
                                ));
                            case 2:
                                return t = o.sent,
                                o.next = 5,
                                (0,
                                vr.select)(Zn);
                            case 5:
                                return r = o.sent,
                                n = {},
                                a = e.filter((function(e) {
                                    var a = e.buyer_id
                                      , o = e.shop_id
                                      , c = r ? "".concat(a, "-").concat(o) : "".concat(a)
                                      , s = t[c] || n[c];
                                    return s || (n[c] = 1),
                                    !s
                                }
                                )),
                                o.next = 10,
                                (0,
                                vr.put)(vu({
                                    addedMap: n
                                }));
                            case 10:
                                return o.abrupt("return", a);
                            case 11:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), Ph)
                }
                var Wh = {
                    customer: 2,
                    all: 3
                };
                function Kh() {
                    var e, t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R, C;
                    return L().wrap((function(I) {
                        for (; ; )
                            switch (I.prev = I.next) {
                            case 0:
                                return I.next = 2,
                                (0,
                                vr.select)(Ri);
                            case 2:
                                return e = I.sent,
                                I.next = 5,
                                (0,
                                vr.select)(ui);
                            case 5:
                                return t = I.sent,
                                r = "combine",
                                I.next = 9,
                                (0,
                                vr.select)(Zn);
                            case 9:
                                return n = I.sent,
                                I.next = 12,
                                (0,
                                vr.select)(Ai);
                            case 12:
                                if (a = I.sent.toLowerCase(),
                                I.prev = 13,
                                !(e.length > 2 || "all" === t)) {
                                    I.next = 61;
                                    break
                                }
                                return I.next = 17,
                                (0,
                                vr.put)(Vu({
                                    type: r,
                                    status: N.DataFetchStatus.INIT_PENDING
                                }));
                            case 17:
                                return I.next = 19,
                                (0,
                                vr.select)(UO);
                            case 19:
                                if (I.t0 = I.sent,
                                I.t0) {
                                    I.next = 22;
                                    break
                                }
                                I.t0 = {};
                            case 22:
                                return o = I.t0,
                                c = o.id,
                                I.next = 26,
                                (0,
                                vr.select)(pi);
                            case 26:
                                return I.t1 = r,
                                s = I.sent[I.t1].pageSize,
                                I.next = 30,
                                (0,
                                vr.call)(Vh, r, {
                                    shopId: c,
                                    pageSize: s,
                                    type: Wh[t],
                                    keyword: e
                                }, !0, a);
                            case 30:
                                if (i = I.sent,
                                u = i.conversation_search_result,
                                p = u.conversations,
                                d = u.total,
                                l = i.order_search_result,
                                f = l.orders,
                                _ = l.total,
                                E = i.message_search_result,
                                S = E.messages,
                                h = E.total,
                                O = E.next_offset,
                                v = E.has_more,
                                g = i.agent_msg_search_result,
                                T = g.messages,
                                m = g.total,
                                b = g.next_offset,
                                y = g.has_more,
                                R = [],
                                !p.length) {
                                    I.next = 53;
                                    break
                                }
                                return I.next = 51,
                                (0,
                                vr.call)(Qh, p);
                            case 51:
                                C = I.sent,
                                R.push((0,
                                vr.put)(Hu({
                                    type: "user",
                                    total: d,
                                    results: Bh(C)
                                })));
                            case 53:
                                if (f.length && R.push((0,
                                vr.put)(Hu({
                                    type: "orderId",
                                    total: _,
                                    results: Bh(f)
                                }))),
                                S.length && R.push((0,
                                vr.put)(Hu({
                                    type: "message",
                                    total: h,
                                    results: S,
                                    nextOffset: O,
                                    hasMore: v
                                }))),
                                n && T.length && R.push((0,
                                vr.put)(Hu({
                                    type: "agentMessage",
                                    total: m,
                                    results: T,
                                    nextOffset: b,
                                    hasMore: y
                                }))),
                                !R.length) {
                                    I.next = 59;
                                    break
                                }
                                return I.next = 59,
                                (0,
                                vr.all)(R);
                            case 59:
                                return I.next = 61,
                                (0,
                                vr.put)(Vu({
                                    type: r,
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 61:
                                I.next = 67;
                                break;
                            case 63:
                                return I.prev = 63,
                                I.t2 = I.catch(13),
                                I.next = 67,
                                (0,
                                vr.put)(Vu({
                                    type: r,
                                    status: N.DataFetchStatus.INIT_FAILED
                                }));
                            case 67:
                            case "end":
                                return I.stop()
                            }
                    }
                    ), wh, null, [[13, 63]])
                }
                var zh = function(e, t) {
                    var r = t ? t.length : 0;
                    switch (e) {
                    case "orderId":
                        return r >= 6;
                    case "message":
                        return r > 2 || /.*[\u4e00-\u9fa5]+.*$/.test(t);
                    default:
                        return r > 2
                    }
                };
                function Jh(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R;
                    return L().wrap((function(C) {
                        for (; ; )
                            switch (C.prev = C.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.reset,
                                a = void 0 !== n && n,
                                C.prev = 1,
                                C.next = 4,
                                (0,
                                vr.select)(Ri);
                            case 4:
                                return o = C.sent,
                                c = zh(r, o),
                                C.next = 8,
                                (0,
                                vr.select)(Ai);
                            case 8:
                                if (s = C.sent.toLowerCase(),
                                !c) {
                                    C.next = 87;
                                    break
                                }
                                return C.next = 12,
                                (0,
                                vr.select)(pi);
                            case 12:
                                if (C.t0 = r,
                                i = C.sent[C.t0],
                                u = i.pageIndex,
                                p = i.pageSize,
                                d = i.nextOffset,
                                i.hasMore) {
                                    C.next = 20;
                                    break
                                }
                                return C.abrupt("return");
                            case 20:
                                return C.next = 22,
                                (0,
                                vr.put)(Vu({
                                    type: r,
                                    status: a ? N.DataFetchStatus.INIT_PENDING : N.DataFetchStatus.PENDING
                                }));
                            case 22:
                                return C.next = 24,
                                (0,
                                vr.select)(UO);
                            case 24:
                                if (C.t1 = C.sent,
                                C.t1) {
                                    C.next = 27;
                                    break
                                }
                                C.t1 = {};
                            case 27:
                                return l = C.t1,
                                f = l.id,
                                _ = "agentMessage" === r,
                                C.next = 32,
                                Vh(r, {
                                    shopId: f,
                                    pageSize: p,
                                    pageIndex: u,
                                    keyword: o,
                                    nextOffset: d
                                }, _, s);
                            case 32:
                                E = C.sent,
                                S = E.total,
                                h = E.order_search,
                                O = E.messages,
                                v = E.conversation_search,
                                g = [],
                                C.t2 = r,
                                C.next = "orderId" === C.t2 ? 38 : "message" === C.t2 ? 40 : "agentMessage" === C.t2 ? 44 : "user" === C.t2 ? 46 : 52;
                                break;
                            case 38:
                                return g = Bh(h),
                                C.abrupt("break", 52);
                            case 40:
                                return C.next = 42,
                                qh(O);
                            case 42:
                                return g = C.sent,
                                C.abrupt("break", 52);
                            case 44:
                                return g = E.messages,
                                C.abrupt("break", 52);
                            case 46:
                                return C.t3 = Bh,
                                C.next = 49,
                                (0,
                                vr.call)(Qh, v);
                            case 49:
                                return C.t4 = C.sent,
                                g = (0,
                                C.t3)(C.t4),
                                C.abrupt("break", 52);
                            case 52:
                                if (!g.length) {
                                    C.next = 78;
                                    break
                                }
                                if ("agentMessage" !== r && "message" !== r) {
                                    C.next = 58;
                                    break
                                }
                                return C.next = 56,
                                (0,
                                vr.put)(Hu({
                                    type: r,
                                    total: S,
                                    results: g,
                                    nextOffset: E.next_offset,
                                    hasMore: E.has_more
                                }));
                            case 56:
                                C.next = 60;
                                break;
                            case 58:
                                return C.next = 60,
                                (0,
                                vr.put)(Hu({
                                    type: r,
                                    total: S,
                                    results: g
                                }));
                            case 60:
                                if ("user" !== r) {
                                    C.next = 76;
                                    break
                                }
                                return C.next = 63,
                                (0,
                                vr.select)(di);
                            case 63:
                                return C.t5 = r,
                                T = C.sent[C.t5].total,
                                C.next = 67,
                                (0,
                                vr.select)(pi);
                            case 67:
                                if (C.t6 = r,
                                m = C.sent[C.t6],
                                b = m.pageIndex,
                                y = m.pageSize,
                                R = T > (b - 1) * y,
                                g.length || !R) {
                                    C.next = 76;
                                    break
                                }
                                return C.next = 76,
                                (0,
                                vr.put)(Gu({
                                    type: r,
                                    keyword: o
                                }));
                            case 76:
                                C.next = 85;
                                break;
                            case 78:
                                if ("message" !== r) {
                                    C.next = 83;
                                    break
                                }
                                return C.next = 81,
                                (0,
                                vr.put)(Hu({
                                    type: r,
                                    total: S,
                                    results: g,
                                    nextOffset: E.next_offset,
                                    hasMore: E.has_more
                                }));
                            case 81:
                                C.next = 85;
                                break;
                            case 83:
                                return C.next = 85,
                                (0,
                                vr.put)(Hu({
                                    type: r,
                                    total: S,
                                    results: g
                                }));
                            case 85:
                                C.next = 89;
                                break;
                            case 87:
                                return C.next = 89,
                                (0,
                                vr.put)(Vu({
                                    type: r,
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 89:
                                C.next = 95;
                                break;
                            case 91:
                                return C.prev = 91,
                                C.t7 = C.catch(1),
                                C.next = 95,
                                (0,
                                vr.put)(Vu({
                                    type: r,
                                    status: a ? N.DataFetchStatus.INIT_FAILED : N.DataFetchStatus.FAILED
                                }));
                            case 95:
                            case "end":
                                return C.stop()
                            }
                    }
                    ), xh, null, [[1, 91]])
                }
                var Xh = function(e) {
                    var t = e.replace(/[.[\]{}()+?*^\\$?]/g, "\\$&");
                    return new RegExp(t,"i")
                };
                function $h() {
                    var e, t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return i.next = 2,
                                (0,
                                vr.select)(Ri);
                            case 2:
                                return e = i.sent,
                                i.next = 5,
                                (0,
                                vr.select)(Pi);
                            case 5:
                                if (!(t = i.sent).length) {
                                    i.next = 26;
                                    break
                                }
                                return i.next = 9,
                                (0,
                                vr.select)(Zn);
                            case 9:
                                return r = i.sent,
                                i.next = 12,
                                (0,
                                vr.select)(Ai);
                            case 12:
                                return n = i.sent.toLowerCase(),
                                i.next = 15,
                                (0,
                                vr.select)(jr);
                            case 15:
                                return a = i.sent,
                                o = Xh(e),
                                c = {},
                                s = [],
                                t.forEach((function(e) {
                                    var t = e.to_name
                                      , i = e.shop_id
                                      , u = e.to_id
                                      , p = e.faking
                                      , d = e.shop_region;
                                    if (o.test(t)) {
                                        !p && (d.toLowerCase() === n || "all" === n) && s.push(Gh(Gh({}, e), {}, {
                                            existed: !0,
                                            shop_name: (a[i] || {}).name
                                        }));
                                        var l = r ? "".concat(u, "-").concat(i) : "".concat(u);
                                        c[l] = 1
                                    }
                                }
                                )),
                                i.next = 22,
                                (0,
                                vr.put)(Hu({
                                    type: "user",
                                    results: s,
                                    isFromCache: !0
                                }));
                            case 22:
                                return i.next = 24,
                                (0,
                                vr.put)(vu({
                                    addedMap: c
                                }));
                            case 24:
                                i.next = 32;
                                break;
                            case 26:
                                return i.next = 28,
                                (0,
                                vr.select)(na);
                            case 28:
                                if (!i.sent) {
                                    i.next = 32;
                                    break
                                }
                                return i.next = 32,
                                (0,
                                vr.put)(Hu({
                                    type: "user",
                                    results: [],
                                    isFromCache: !0
                                }));
                            case 32:
                                return i.next = 34,
                                (0,
                                vr.put)(Hu({
                                    type: "orderId",
                                    results: [],
                                    isFromCache: !0
                                }));
                            case 34:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), Nh)
                }
                function Zh() {
                    var e, t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return n.next = 2,
                                (0,
                                vr.select)(Ri);
                            case 2:
                                return e = n.sent,
                                n.next = 5,
                                (0,
                                vr.select)(f_);
                            case 5:
                                return t = n.sent,
                                r = t.filter((function(t) {
                                    return (t.nick_name || "").includes(e)
                                }
                                )),
                                n.next = 9,
                                (0,
                                vr.put)(Hu({
                                    type: "agent",
                                    results: r,
                                    total: r.length
                                }));
                            case 9:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), kh)
                }
                function eO() {
                    var e, t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O;
                    return L().wrap((function(v) {
                        for (; ; )
                            switch (v.prev = v.next) {
                            case 0:
                                return e = "combine",
                                v.next = 3,
                                (0,
                                vr.select)(Ri);
                            case 3:
                                if (t = v.sent,
                                v.prev = 4,
                                !zh("message", t)) {
                                    v.next = 40;
                                    break
                                }
                                return v.next = 8,
                                (0,
                                vr.put)(Vu({
                                    type: e,
                                    status: N.DataFetchStatus.INIT_PENDING
                                }));
                            case 8:
                                return v.next = 10,
                                (0,
                                vr.select)(UO);
                            case 10:
                                if (v.t0 = v.sent,
                                v.t0) {
                                    v.next = 13;
                                    break
                                }
                                v.t0 = {};
                            case 13:
                                return r = v.t0,
                                n = r.id,
                                v.next = 17,
                                (0,
                                vr.select)(Ai);
                            case 17:
                                return a = v.sent.toLowerCase(),
                                v.next = 20,
                                (0,
                                vr.select)(pi);
                            case 20:
                                return o = v.sent.combine,
                                c = o.pageIndex,
                                s = o.pageSize,
                                v.next = 25,
                                Vh("combineMessages", {
                                    shopId: n,
                                    pageSize: s,
                                    pageIndex: c,
                                    keyword: t
                                }, !0, a);
                            case 25:
                                return i = v.sent,
                                u = i.message_search_result,
                                p = u.messages,
                                d = u.total,
                                l = u.next_offset,
                                f = u.has_more,
                                _ = i.agent_msg_search_result,
                                E = _.messages,
                                S = _.total,
                                h = _.next_offset,
                                O = _.has_more,
                                v.next = 38,
                                (0,
                                vr.put)(Hu({
                                    type: "message",
                                    results: p,
                                    total: d,
                                    nextOffset: l,
                                    hasMore: f
                                }));
                            case 38:
                                return v.next = 40,
                                (0,
                                vr.put)(Hu({
                                    type: "agentMessage",
                                    results: E,
                                    total: S,
                                    nextOffset: h,
                                    hasMore: O
                                }));
                            case 40:
                                return v.next = 42,
                                (0,
                                vr.put)(Vu({
                                    type: e,
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 42:
                                v.next = 48;
                                break;
                            case 44:
                                return v.prev = 44,
                                v.t1 = v.catch(4),
                                v.next = 48,
                                (0,
                                vr.put)(Vu({
                                    type: e,
                                    status: N.DataFetchStatus.INIT_FAILED
                                }));
                            case 48:
                            case "end":
                                return v.stop()
                            }
                    }
                    ), Uh, null, [[4, 44]])
                }
                function tO(t) {
                    var r, n, a, o, c, s, i, u;
                    return L().wrap((function(p) {
                        for (; ; )
                            switch (p.prev = p.next) {
                            case 0:
                                return r = t.payload,
                                n = r.keyword,
                                a = r.filter,
                                p.prev = 1,
                                p.next = 4,
                                (0,
                                vr.put)(Ou({
                                    keyword: n,
                                    searchFilter: a
                                }));
                            case 4:
                                if (!n) {
                                    p.next = 29;
                                    break
                                }
                                p.t0 = a,
                                p.next = "all" === p.t0 ? 8 : "customer" === p.t0 ? 15 : "messages" === p.t0 ? 20 : "agent" === p.t0 ? 23 : 26;
                                break;
                            case 8:
                                return p.next = 10,
                                (0,
                                vr.call)(Zh);
                            case 10:
                                return p.next = 12,
                                (0,
                                vr.call)($h);
                            case 12:
                                return p.next = 14,
                                (0,
                                vr.put)(mu());
                            case 14:
                                return p.abrupt("break", 27);
                            case 15:
                                return p.next = 17,
                                (0,
                                vr.call)($h);
                            case 17:
                                return p.next = 19,
                                (0,
                                vr.put)(mu());
                            case 19:
                                return p.abrupt("break", 27);
                            case 20:
                                return p.next = 22,
                                (0,
                                vr.call)(eO);
                            case 22:
                                return p.abrupt("break", 27);
                            case 23:
                                return p.next = 25,
                                (0,
                                vr.call)(Zh);
                            case 25:
                            case 26:
                                return p.abrupt("break", 27);
                            case 27:
                                p.next = 45;
                                break;
                            case 29:
                                return p.next = 31,
                                (0,
                                vr.select)(ii);
                            case 31:
                                if (!p.sent) {
                                    p.next = 45;
                                    break
                                }
                                return e(o = {}, N.ConversationTypeEnum.Agent, {
                                    currentConversationSelector: c_,
                                    fetchMessagesAction: Ao().fetchAgentMessagesRequested
                                }),
                                e(o, N.ConversationTypeEnum.Normal, {
                                    currentConversationSelector: wi,
                                    fetchMessagesAction: Ao().fetchMessagesRequested
                                }),
                                c = o,
                                p.next = 36,
                                (0,
                                vr.select)(ci);
                            case 36:
                                return s = p.sent,
                                i = c[s],
                                p.next = 40,
                                (0,
                                vr.select)(i.currentConversationSelector);
                            case 40:
                                return u = p.sent,
                                p.next = 43,
                                (0,
                                vr.call)(Yh, {
                                    payload: {
                                        mode: !1,
                                        conversationId: u.id
                                    }
                                });
                            case 43:
                                return p.next = 45,
                                Co().put(i.fetchMessagesAction({
                                    payload: {
                                        conversationId: u.id,
                                        reset: !0
                                    }
                                }));
                            case 45:
                                p.next = 50;
                                break;
                            case 47:
                                p.prev = 47,
                                p.t1 = p.catch(1),
                                console.log(p.t1);
                            case 50:
                            case "end":
                                return p.stop()
                            }
                    }
                    ), Mh, null, [[1, 47]])
                }
                function rO(e) {
                    var t, r, n, a, o, c, s, i, u;
                    return L().wrap((function(p) {
                        for (; ; )
                            switch (p.prev = p.next) {
                            case 0:
                                return t = e.payload.conversation,
                                r = t.existed,
                                n = t.id,
                                a = t.shop_id,
                                o = t.to_id,
                                c = t.order_id,
                                s = t.message_id,
                                i = t.conversation_id,
                                p.next = 4,
                                (0,
                                vr.select)(ui);
                            case 4:
                                if (u = p.sent,
                                void 0 === s) {
                                    p.next = 11;
                                    break
                                }
                                return p.next = 9,
                                (0,
                                vr.call)(Yh, {
                                    payload: {
                                        mode: !0,
                                        conversationId: i
                                    }
                                });
                            case 9:
                                p.next = 15;
                                break;
                            case 11:
                                return p.next = 13,
                                (0,
                                vr.put)(hu({
                                    keyword: "",
                                    filter: u
                                }));
                            case 13:
                                return p.next = 15,
                                (0,
                                vr.call)(Yh, {
                                    payload: {
                                        mode: !1,
                                        conversationId: n
                                    }
                                });
                            case 15:
                                if (r) {
                                    p.next = 20;
                                    break
                                }
                                return p.next = 18,
                                (0,
                                vr.put)(AD({
                                    shopId: a,
                                    userId: o,
                                    orderId: c,
                                    messageId: s,
                                    isFromSearch: !0
                                }));
                            case 18:
                                p.next = 22;
                                break;
                            case 20:
                                return p.next = 22,
                                (0,
                                vr.put)(ku({
                                    conversation: t,
                                    messageId: s
                                }));
                            case 22:
                            case "end":
                                return p.stop()
                            }
                    }
                    ), jh)
                }
                function nO() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)(mu, Kh);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeLatest)(hu, tO);
                            case 4:
                                return e.next = 6,
                                (0,
                                vr.takeLatest)(Gu, Jh);
                            case 6:
                                return e.next = 8,
                                (0,
                                vr.takeLatest)(Yu, rO);
                            case 8:
                                return e.next = 10,
                                (0,
                                vr.takeEvery)(gu, Yh);
                            case 10:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Lh)
                }
                const aO = (e(eh = {}, $s.RESET_SEARCH_PARAMS, (function(e, t) {
                    var r = t.payload
                      , n = r.keyword
                      , a = r.searchFilter;
                    return Gh(Gh({}, e), {}, {
                        keyword: n,
                        searchFilter: a,
                        pagination: hf(),
                        searchResult: Of(),
                        existedResultIdMap: {}
                    })
                }
                )),
                e(eh, $s.UPDATE_EXISTED_RESULT_ID_MAP, (function(e, t) {
                    var r = t.payload.addedMap;
                    return Gh(Gh({}, e), {}, {
                        existedResultIdMap: Object.assign({}, e.existedResultIdMap, r)
                    })
                }
                )),
                e(eh, $s.SET_CURRENT_CONVERSATION_MODE, (function(e, t) {
                    var r = t.payload.mode;
                    return Gh(Gh({}, e), {}, {
                        currentConversationInSearch: r
                    })
                }
                )),
                e(eh, $s.SEARCH_MORE_SUCCEED, (function(t, r) {
                    var n = r.payload
                      , a = n.type
                      , o = n.total
                      , c = n.results
                      , s = n.isFromCache
                      , i = n.nextOffset
                      , u = n.hasMore;
                    if (c.length) {
                        var p = t.pagination[a];
                        s || p.pageIndex++,
                        i && (p.nextOffset = i),
                        void 0 !== u && (p.hasMore = u);
                        var d = t.searchResult[a];
                        return !s && (d.total = o),
                        d.results = [].concat(_e(d.results), _e(c)),
                        d.status = N.DataFetchStatus.SUCCEED,
                        Gh(Gh({}, t), {}, {
                            pagination: Gh(Gh({}, t.pagination), {}, e({}, a, p)),
                            searchResult: Gh(Gh({}, t.searchResult), {}, e({}, a, d))
                        })
                    }
                    var l = {};
                    if ("message" === a) {
                        var f = t.pagination[a];
                        void 0 !== i && (f.nextOffset = i),
                        void 0 !== u && (f.hasMore = u),
                        l = {
                            pagination: Gh(Gh({}, t.pagination), {}, e({}, a, f))
                        }
                    }
                    var _ = t.searchResult[a];
                    return _.status = N.DataFetchStatus.SUCCEED,
                    Gh(Gh({}, t), {}, {
                        searchResult: Gh(Gh({}, t.searchResult), {}, e({}, a, _))
                    }, l)
                }
                )),
                e(eh, $s.SET_SEARCH_STATUS, (function(t, r) {
                    var n = r.payload
                      , a = n.type
                      , o = n.status;
                    if ("combine" !== a) {
                        var c = t.searchResult[a];
                        return c.status = o,
                        Gh(Gh({}, t), {}, {
                            searchResult: Gh(Gh({}, t.searchResult), {}, e({}, a, c))
                        })
                    }
                    var s = Gh({}, t.searchResult);
                    return Sf.forEach((function(e) {
                        s[e].status = o
                    }
                    )),
                    Gh(Gh({}, t), {}, {
                        searchResult: s
                    })
                }
                )),
                eh);
                var oO;
                function cO(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function sO(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? cO(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cO(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var iO = L().mark(dO)
                  , uO = L().mark(lO)
                  , pO = L().mark(fO);
                function dO(e) {
                    var t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return t = e.payload.type,
                                i.next = 3,
                                (0,
                                vr.select)(Ei);
                            case 3:
                                if ((r = i.sent).length) {
                                    i.next = 6;
                                    break
                                }
                                return i.abrupt("return", null);
                            case 6:
                                return i.next = 8,
                                (0,
                                vr.select)(Zn);
                            case 8:
                                n = i.sent,
                                a = [],
                                o = r.filter((function(e) {
                                    return "closed" !== e.status && (a.push(e.id),
                                    !0)
                                }
                                )),
                                i.t0 = t,
                                i.next = i.t0 === N.BatchOperates.PIN || i.t0 === N.BatchOperates.UNPIN ? 14 : i.t0 === N.BatchOperates.MARK_AS_READ || i.t0 === N.BatchOperates.MARK_AS_UNREAD ? 27 : i.t0 === N.BatchOperates.FORWARD ? 40 : 47;
                                break;
                            case 14:
                                return c = r.filter((function(e) {
                                    return t === N.BatchOperates.PIN ? !e.pinned : e.pinned
                                }
                                )).map((function(e) {
                                    return Object.assign({}, {
                                        conversation_id: e.id
                                    }, n ? {
                                        shop_id: e.shop_id
                                    } : {})
                                }
                                )),
                                i.prev = 15,
                                i.next = 18,
                                fr({
                                    method: "PUT",
                                    parent: "conversation",
                                    resource: t === N.BatchOperates.PIN ? "mass_pin" : "mass_unpin",
                                    payload: JSON.stringify(c)
                                });
                            case 18:
                                return i.next = 20,
                                (0,
                                vr.put)(bu({
                                    mode: !1
                                }));
                            case 20:
                                i.next = 26;
                                break;
                            case 22:
                                return i.prev = 22,
                                i.t1 = i.catch(15),
                                i.next = 26,
                                (0,
                                vr.put)(Gv({
                                    error: i.t1
                                }));
                            case 26:
                                return i.abrupt("break", 47);
                            case 27:
                                return s = o.filter((function(e) {
                                    return t === N.BatchOperates.MARK_AS_READ ? e.unread_count > 0 : 0 === e.unread_count
                                }
                                )).map((function(e) {
                                    return Object.assign({}, {
                                        conversation_id: e.id,
                                        message_id: e.latest_message_id
                                    }, n ? {
                                        shop_id: e.shop_id
                                    } : {})
                                }
                                )),
                                i.prev = 28,
                                i.next = 31,
                                fr({
                                    method: "PUT",
                                    parent: "conversation",
                                    resource: t === N.BatchOperates.MARK_AS_READ ? "mass_read" : "mass_unread",
                                    payload: JSON.stringify(s)
                                });
                            case 31:
                                return i.next = 33,
                                (0,
                                vr.put)(bu({
                                    mode: !1
                                }));
                            case 33:
                                i.next = 39;
                                break;
                            case 35:
                                return i.prev = 35,
                                i.t2 = i.catch(28),
                                i.next = 39,
                                (0,
                                vr.put)(Gv({
                                    error: i.t2
                                }));
                            case 39:
                                return i.abrupt("break", 47);
                            case 40:
                                if (!r.some((function(e) {
                                    return "closed" === e.status
                                }
                                ))) {
                                    i.next = 46;
                                    break
                                }
                                return i.next = 44,
                                (0,
                                vr.put)(ze({
                                    type: "CONFIRM_MODAL",
                                    title: {
                                        key: "common.forward"
                                    },
                                    additions: {
                                        content: {
                                            key: "conversation.selection.forward_closed_tips"
                                        }
                                    },
                                    actions: {
                                        cancel: {
                                            label: {
                                                key: "common.cancel"
                                            },
                                            handler: function() {
                                                F.store.dispatch(Je())
                                            }
                                        },
                                        confirm: {
                                            label: {
                                                key: "common.confirm"
                                            },
                                            handler: function() {
                                                F.store.dispatch(Je()),
                                                F.store.dispatch(xu({
                                                    conversationIds: a
                                                }))
                                            }
                                        }
                                    }
                                }));
                            case 44:
                                i.next = 47;
                                break;
                            case 46:
                                F.store.dispatch(xu({
                                    conversationIds: a
                                }));
                            case 47:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), iO, null, [[15, 22], [28, 35]])
                }
                function lO(e) {
                    var t, r, n, a, o, c, s, i, u, p, d;
                    return L().wrap((function(l) {
                        for (; ; )
                            switch (l.prev = l.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.id,
                                l.next = 3,
                                (0,
                                vr.select)(fi);
                            case 3:
                                a = l.sent,
                                o = a.slice(),
                                l.t0 = r,
                                l.next = "single" === l.t0 ? 8 : "checkAll" === l.t0 ? 21 : "uncheckAll" === l.t0 ? 31 : 34;
                                break;
                            case 8:
                                if (-1 !== (c = o.indexOf(n))) {
                                    l.next = 15;
                                    break
                                }
                                if (!(o.length >= N.BATCH_OPERATE_MAX_SELECTION)) {
                                    l.next = 12;
                                    break
                                }
                                return l.abrupt("return");
                            case 12:
                                o.push(n),
                                l.next = 16;
                                break;
                            case 15:
                                o.splice(c, 1);
                            case 16:
                                return l.next = 18,
                                (0,
                                vr.put)(yu({
                                    list: o
                                }));
                            case 18:
                                return l.next = 20,
                                (0,
                                vr.put)(Ru({
                                    id: n,
                                    selected: -1 === c
                                }));
                            case 20:
                                return l.abrupt("break", 34);
                            case 21:
                                return l.next = 23,
                                (0,
                                vr.select)(Di);
                            case 23:
                                return s = l.sent,
                                i = s.map((function(e) {
                                    return e.id
                                }
                                )),
                                u = i.filter((function(e) {
                                    return !o.includes(e)
                                }
                                )),
                                p = N.BATCH_OPERATE_MAX_SELECTION - o.length,
                                d = o.concat(u.slice(0, p)),
                                l.next = 30,
                                (0,
                                vr.put)(yu({
                                    list: d
                                }));
                            case 30:
                                return l.abrupt("break", 34);
                            case 31:
                                return l.next = 33,
                                (0,
                                vr.put)(yu({
                                    list: []
                                }));
                            case 33:
                                return l.abrupt("break", 34);
                            case 34:
                            case "end":
                                return l.stop()
                            }
                    }
                    ), uO)
                }
                function fO() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Iu, dO);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(Cu, lO);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), pO)
                }
                const _O = (e(oO = {}, $s.TOGGLE_MULTIPLE_SELECTION_MODE, (function(e, t) {
                    var r = t.payload.mode
                      , n = r ? e.selectedConversationIds : []
                      , a = r ? e.currentSelectedConversationId : null;
                    return sO(sO({}, e), {}, {
                        inMultipleSelectionMode: r,
                        selectedConversationIds: n,
                        currentSelectedConversationId: a
                    })
                }
                )),
                e(oO, $s.SET_SELECTED_CONVERSATION_LIST, (function(e, t) {
                    var r = t.payload.list
                      , n = void 0 === r ? [] : r;
                    return sO(sO({}, e), {}, {
                        selectedConversationIds: n
                    })
                }
                )),
                e(oO, $s.UPDATE_SELECTED_CONVERSATION_ID, (function(e, t) {
                    var r = t.payload
                      , n = r.id
                      , a = r.selected;
                    return sO(sO({}, e), {}, {
                        currentSelectedConversationId: a ? n : null
                    })
                }
                )),
                oO);
                function EO(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function SO(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? EO(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : EO(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var hO = [Yp, rd, op, Gl, zl, Pl, Zl, pf, If, Wf, nO, fO, Gf]
                  , OO = {
                    conversationIds: [],
                    conversationIdsMap: {},
                    maxLatestTimestampNano: "",
                    latestTimestampNano: "",
                    oldestTimestampNano: "",
                    oldestReceivedMessageId: "",
                    latestReceivedMessageId: "",
                    maxLatestReceivedMessageId: "",
                    currentConversationId: null,
                    previousConversationId: null,
                    searchFilter: "all",
                    pagination: hf(),
                    searchResult: Of(),
                    existedResultIdMap: {},
                    currentConversationInSearch: !1,
                    inMultipleSelectionMode: !1,
                    selectedConversationIds: [],
                    currentSelectedConversationId: null,
                    regionFilter: "All",
                    currentConversationType: N.ConversationTypeEnum.Normal,
                    currentConversationCanRead: !0,
                    filter: "All",
                    keyword: "",
                    draftHash: {},
                    status: "",
                    hasMore: !0,
                    persist: null,
                    results: [],
                    direction: "",
                    syncFetchException: 0,
                    conversationMark: {},
                    readRequestIds: [],
                    missedReadNoticeCount: 0,
                    access: _f([]),
                    updateTimeNow: "0",
                    isNavigateToUnreadMessage: !1,
                    navigateToUnreadMessageId: "",
                    pendingOffersCount: {}
                }
                  , vO = (0,
                He.handleActions)(SO(SO(SO(SO(SO(SO(SO(SO(SO(SO(SO({}, qp), nd), ad), aO), _O), Nl), wl), rf), Hl), Ef), bf), OO);
                function gO(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function TO(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? gO(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : gO(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var mO, bO, yO = function(e) {
                    return (0,
                    Ye.createSelector)(jr, (function(r) {
                        return (0,
                        t.denormalize)(e, l, {
                            shops: r
                        })
                    }
                    ))
                }, RO = function(e) {
                    return e.shopReducer.fetchedShopIds
                }, CO = function(e) {
                    return e.shopReducer.status
                }, IO = function(e) {
                    return e.shopReducer.searchStatus
                }, AO = function(e) {
                    return e.shopReducer.fetchResult
                }, DO = function(e) {
                    return e.shopReducer.searchResult
                }, PO = function(e) {
                    return e.shopReducer.currentFetchShopIds
                }, wO = (0,
                Ye.createSelector)(AO, Rr, (function(e, r) {
                    var n = e.result;
                    return (0,
                    t.denormalize)(n, [l], r)
                }
                )), xO = (0,
                Ye.createSelector)(PO, Rr, (function(e, r) {
                    return (0,
                    t.denormalize)(e, [l], r)
                }
                )), NO = (0,
                Ye.createSelector)(DO, Rr, (function(e, r) {
                    var n = e.result;
                    return (0,
                    t.denormalize)(n, [l], r)
                }
                )), kO = function(e) {
                    return e.shopReducer.shopFilter
                }, UO = (0,
                Ye.createSelector)(kO, cn, (function(e, t) {
                    return null != e && e.id ? TO(TO({}, e), {}, {
                        unreadCount: t[e.id] || 0
                    }) : null
                }
                )), MO = (0,
                Ye.createSelector)(wO, cn, (function(e, t) {
                    return e.map((function(e) {
                        return TO(TO({}, e), {}, {
                            unreadCount: t[e.id] || 0
                        })
                    }
                    ))
                }
                )), jO = (0,
                Ye.createSelector)(xO, cn, (function(e, t) {
                    return e.map((function(e) {
                        return TO(TO({}, e), {}, {
                            unreadCount: t[e.id] || 0
                        })
                    }
                    ))
                }
                )), LO = (0,
                Ye.createSelector)(NO, cn, (function(e, t) {
                    return e.map((function(e) {
                        return TO(TO({}, e), {}, {
                            unreadCount: t[e.id] || 0
                        })
                    }
                    ))
                }
                )), FO = (0,
                Ye.createSelector)(AO, (function(e) {
                    var t = e.pagination
                      , r = t.currentPage;
                    return t.hasMore && !r
                }
                ));
                !function(e) {
                    e.FETCH_SHOPS_REQUESTED = "FETCH_SHOPS_REQUESTED",
                    e.FETCH_SHOPS_SUCCEED = "FETCH_SHOPS_SUCCEED",
                    e.UPDATE_FETCH_SHOPS_STATUS = "UPDATE_FETCH_SHOPS_STATUS",
                    e.FETCH_SHOP_AUTH_REQUESTED = "FETCH_SHOP_AUTH_REQUESTED",
                    e.UPDATE_FETCHED_SHOP_IDS = "UPDATE_FETCHED_SHOP_IDS",
                    e.UPDATE_SHOP_FILTER = "UPDATE_SHOP_FILTER",
                    e.VISIT_SHOP_SELLER_CENTER_REQUESTED = "VISIT_SHOP_SELLER_CENTER_REQUESTED",
                    e.VISIT_MALL_REQUESTED = "VISIT_MALL_REQUESTED",
                    e.SEARCH_SHOPS_REQUESTED = "SEARCH_SHOPS_REQUESTED",
                    e.SEARCH_SHOPS_SUCCEED = "SEARCH_SHOPS_SUCCEED",
                    e.UPDATE_SEARCH_SHOPS_STATUS = "UPDATE_SEARCH_SHOPS_STATUS",
                    e.FETCH_SHOP_DETAIL_INFO = "FETCH_SHOP_DETAIL_INFO",
                    e.UPDATE_CURRENT_FETCH_SHOP_IDS = "UPDATE_CURRENT_FETCH_SHOP_IDS",
                    e.RESET_CURRENT_FETCH_SHOPS = "RESET_CURRENT_FETCH_SHOPS"
                }(mO || (mO = {}));
                var GO = (0,
                He.createActions)((e(bO = {}, mO.FETCH_SHOPS_REQUESTED, (function() {
                    return {}
                }
                )),
                e(bO, mO.FETCH_SHOPS_SUCCEED, (function(e) {
                    return {
                        pagination: e.pagination,
                        result: e.result
                    }
                }
                )),
                e(bO, mO.UPDATE_FETCH_SHOPS_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(bO, mO.FETCH_SHOP_AUTH_REQUESTED, (function(e) {
                    return {
                        shopId: e.shopId
                    }
                }
                )),
                e(bO, mO.UPDATE_FETCHED_SHOP_IDS, (function(e) {
                    return {
                        shopIds: e.shopIds
                    }
                }
                )),
                e(bO, mO.UPDATE_SHOP_FILTER, (function(e) {
                    return {
                        filter: e.filter
                    }
                }
                )),
                e(bO, mO.VISIT_SHOP_SELLER_CENTER_REQUESTED, (function(e) {
                    return {
                        url: e.url,
                        shopId: e.shopId,
                        orderId: e.orderId,
                        itemId: e.itemId
                    }
                }
                )),
                e(bO, mO.SEARCH_SHOPS_REQUESTED, (function(e) {
                    return {
                        keyword: e.keyword
                    }
                }
                )),
                e(bO, mO.SEARCH_SHOPS_SUCCEED, (function(e) {
                    return {
                        pagination: e.pagination,
                        result: e.result,
                        keyword: e.keyword
                    }
                }
                )),
                e(bO, mO.UPDATE_SEARCH_SHOPS_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(bO, mO.FETCH_SHOP_DETAIL_INFO, (function(e) {
                    return {
                        shopId: e.shopId
                    }
                }
                )),
                e(bO, mO.UPDATE_CURRENT_FETCH_SHOP_IDS, (function(e) {
                    return {
                        shopIds: e.shopIds
                    }
                }
                )),
                e(bO, mO.RESET_CURRENT_FETCH_SHOPS, (function() {
                    return {}
                }
                )),
                bO))
                  , HO = GO.fetchShopsRequested
                  , VO = GO.fetchShopsSucceed
                  , BO = GO.updateFetchShopsStatus
                  , YO = GO.fetchShopAuthRequested
                  , qO = GO.updateFetchedShopIds
                  , QO = GO.updateShopFilter
                  , WO = GO.visitShopSellerCenterRequested
                  , KO = GO.searchShopsRequested
                  , zO = GO.searchShopsSucceed
                  , JO = GO.updateSearchShopsStatus
                  , XO = GO.fetchShopDetailInfo
                  , $O = GO.updateCurrentFetchShopIds
                  , ZO = GO.resetCurrentFetchShops
                  , ev = L().mark(av)
                  , tv = L().mark(ov);
                function rv(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function nv(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? rv(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : rv(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                function av(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.payload.shopId,
                                s.prev = 1,
                                s.next = 4,
                                (0,
                                vr.select)(yO(t));
                            case 4:
                                return r = s.sent,
                                s.next = 7,
                                (0,
                                vr.call)(fr, {
                                    resource: "shop",
                                    id: t,
                                    params: {
                                        need_cache: 1,
                                        cache_expires: 600
                                    }
                                });
                            case 7:
                                return r = s.sent,
                                s.next = 10,
                                (0,
                                vr.select)(Zn);
                            case 10:
                                if (!s.sent) {
                                    s.next = 17;
                                    break
                                }
                                return s.next = 14,
                                (0,
                                vr.call)(gv, [r.id]);
                            case 14:
                                n = s.sent,
                                a = n.findIndex((function(e) {
                                    return e.shop_id === r.id
                                }
                                )),
                                r = nv(nv({}, r), {}, {
                                    unreadCount: (n[a] || {}).total_unread_count
                                });
                            case 17:
                                return o = C("shops", r),
                                c = o.entities,
                                s.next = 20,
                                (0,
                                vr.put)(Jr({
                                    entities: c
                                }));
                            case 20:
                                return s.next = 22,
                                (0,
                                vr.put)(qO({
                                    shopIds: [r.id]
                                }));
                            case 22:
                                return s.abrupt("return", r);
                            case 25:
                                return s.prev = 25,
                                s.t0 = s.catch(1),
                                s.abrupt("return", {});
                            case 28:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), ev, null, [[1, 25]])
                }
                function ov() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(XO, av);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), tv)
                }
                function cv(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function sv(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? cv(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cv(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                const iv = e({}, mO.UPDATE_SHOP_FILTER, (function(e, t) {
                    var r = t.payload.filter;
                    return sv(sv({}, e), {}, {
                        shopFilter: r
                    })
                }
                ));
                var uv, pv = L().mark(lv), dv = L().mark(fv);
                function lv(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R;
                    return L().wrap((function(C) {
                        for (; ; )
                            switch (C.prev = C.next) {
                            case 0:
                                return t = e.payload,
                                r = t.url,
                                n = t.shopId,
                                a = t.orderId,
                                o = t.itemId,
                                C.prev = 1,
                                C.next = 4,
                                (0,
                                vr.call)(fr, {
                                    resource: "shop",
                                    id: n,
                                    suffix: "sc"
                                });
                            case 4:
                                if (c = C.sent,
                                s = c.sc_url,
                                i = c.upgraded,
                                u = c.region,
                                !i) {
                                    C.next = 12;
                                    break
                                }
                                return p = window.open(),
                                r ? ((d = r.split("/"))[2] = (0,
                                N.getSellerCenterUrl)(u),
                                l = d.join("/"),
                                p.location = l.includes("?") ? "".concat(l, "&cnsc_shop_id=").concat(n) : "".concat(l, "?cnsc_shop_id=").concat(n)) : p.location = a ? "https://".concat((0,
                                N.getSellerCenterUrl)(u), "/portal/sale/").concat(a, "?cnsc_shop_id=").concat(n) : o ? "https://".concat((0,
                                N.getSellerCenterUrl)(u), "/portal/product/").concat(o, "?cnsc_shop_id=").concat(n) : "https://".concat((0,
                                N.getSellerCenterUrl)(u), "?cnsc_shop_id=").concat(n),
                                C.abrupt("return");
                            case 12:
                                if (!s) {
                                    C.next = 25;
                                    break
                                }
                                if (f = s.split("?"),
                                _ = f[1].split("&").find((function(e) {
                                    return e.startsWith("sig=")
                                }
                                )),
                                E = _.substring(4),
                                S = f[0].split("."),
                                h = S[S.length - 1],
                                O = window.open(),
                                !r) {
                                    C.next = 22;
                                    break
                                }
                                return O.location = r.includes("?") ? "".concat(r, "&sig=").concat(E) : "".concat(r, "?sig=").concat(E),
                                C.abrupt("return");
                            case 22:
                                a || o ? a ? (v = "https://".concat((0,
                                N.getSellerCenterUrl)(h), "/portal/sale/").concat(a, "?sig=").concat(E),
                                O.location = v) : o && (g = "https://".concat((0,
                                N.getSellerCenterUrl)(h), "/portal/product/").concat(o, "?sig=").concat(E),
                                O.location = g) : (T = "https://".concat((0,
                                N.getSellerCenterUrl)(h), "?sig=").concat(E),
                                O.location = T),
                                C.next = 28;
                                break;
                            case 25:
                                return m = jv(!1, {
                                    type: "permission-denied"
                                }),
                                C.next = 28,
                                (0,
                                vr.put)(Gv({
                                    toast: m
                                }));
                            case 28:
                                C.next = 38;
                                break;
                            case 30:
                                return C.prev = 30,
                                C.t0 = C.catch(1),
                                C.next = 34,
                                (0,
                                vr.select)(yO(n));
                            case 34:
                                b = C.sent,
                                y = "https://".concat((0,
                                N.getSellerCenterUrl)(b.country), "/portal/"),
                                R = a ? "sale/".concat(a) : o ? "product/".concat(o) : "",
                                window.open(y + R);
                            case 38:
                            case "end":
                                return C.stop()
                            }
                    }
                    ), pv, null, [[1, 30]])
                }
                function fv() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(WO, lv);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), dv)
                }
                function _v(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Ev(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? _v(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : _v(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Sv = L().mark(mv)
                  , hv = L().mark(bv)
                  , Ov = L().mark(yv)
                  , vv = L().mark(Rv)
                  , gv = function(e) {
                    return new Promise((function(t) {
                        fr({
                            parent: "conversation",
                            resource: "unread-counts",
                            params: {
                                shop_ids: JSON.stringify(e)
                            }
                        }).then((function(e) {
                            var r = e["unread-counts"];
                            t(void 0 === r ? [] : r)
                        }
                        )).catch((function() {
                            t([])
                        }
                        ))
                    }
                    ))
                }
                  , Tv = function(e) {
                    var t = e.shopIds
                      , r = e.regionFilter
                      , n = {
                        ids: JSON.stringify(t)
                    };
                    return "all" !== r && (n.shop_region = r),
                    new Promise((function(e) {
                        fr({
                            resource: "shops",
                            params: n
                        }).then((function(t) {
                            var r = t.shops;
                            e(void 0 === r ? [] : r)
                        }
                        )).catch((function() {
                            e([])
                        }
                        ))
                    }
                    ))
                };
                function mv(e) {
                    var t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return t = e.payload.shopId,
                                n.prev = 1,
                                n.next = 4,
                                (0,
                                vr.call)(fr, {
                                    parent: "shop",
                                    parentId: t,
                                    resource: "auth"
                                });
                            case 4:
                                return r = n.sent,
                                n.abrupt("return", r);
                            case 8:
                                return n.prev = 8,
                                n.t0 = n.catch(1),
                                n.abrupt("return", {});
                            case 11:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), Sv, null, [[1, 8]])
                }
                function bv() {
                    var e, t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O;
                    return L().wrap((function(v) {
                        for (; ; )
                            switch (v.prev = v.next) {
                            case 0:
                                return v.next = 2,
                                (0,
                                vr.select)(AO);
                            case 2:
                                return e = v.sent,
                                t = e.pagination,
                                r = e.result,
                                n = t.currentPage,
                                a = t.perPage,
                                o = t.hasMore,
                                v.next = 8,
                                (0,
                                vr.select)(Ai);
                            case 8:
                                if (c = v.sent.toLowerCase(),
                                v.prev = 9,
                                !o) {
                                    v.next = 38;
                                    break
                                }
                                return v.next = 13,
                                (0,
                                vr.put)(BO({
                                    status: n ? N.DataFetchStatus.PENDING : N.DataFetchStatus.INIT_PENDING
                                }));
                            case 13:
                                return s = {
                                    page: n + 1,
                                    per_page: a
                                },
                                "all" !== c && (s.shop_region = c),
                                v.next = 17,
                                (0,
                                vr.call)(fr, {
                                    resource: "shops",
                                    params: s
                                });
                            case 17:
                                if (i = v.sent,
                                u = i.shops,
                                !(d = (p = void 0 === u ? [] : u).length)) {
                                    v.next = 36;
                                    break
                                }
                                return l = p.map((function(e) {
                                    return e.id
                                }
                                )).filter((function(e) {
                                    return e
                                }
                                )),
                                v.next = 25,
                                (0,
                                vr.put)(Tn({
                                    type: dn.REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT,
                                    shopIds: l
                                }));
                            case 25:
                                return f = C("shops", p),
                                _ = f.entities,
                                E = f.result,
                                S = void 0 === E ? [] : E,
                                v.next = 28,
                                (0,
                                vr.put)(Jr({
                                    entities: _
                                }));
                            case 28:
                                return v.next = 30,
                                (0,
                                vr.put)(qO({
                                    shopIds: S
                                }));
                            case 30:
                                return v.next = 32,
                                (0,
                                vr.put)($O({
                                    shopIds: S
                                }));
                            case 32:
                                return h = {
                                    currentPage: n + 1,
                                    perPage: a,
                                    hasMore: d >= a
                                },
                                O = _e(new Set(r.concat(S))),
                                v.next = 36,
                                (0,
                                vr.put)(VO({
                                    pagination: h,
                                    result: O
                                }));
                            case 36:
                                return v.next = 38,
                                (0,
                                vr.put)(BO({
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 38:
                                v.next = 44;
                                break;
                            case 40:
                                return v.prev = 40,
                                v.t0 = v.catch(9),
                                v.next = 44,
                                (0,
                                vr.put)(BO({
                                    status: n ? N.DataFetchStatus.FAILED : N.DataFetchStatus.INIT_FAILED
                                }));
                            case 44:
                            case "end":
                                return v.stop()
                            }
                    }
                    ), hv, null, [[9, 40]])
                }
                function yv(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b;
                    return L().wrap((function(y) {
                        for (; ; )
                            switch (y.prev = y.next) {
                            case 0:
                                return t = e.payload.keyword,
                                y.next = 3,
                                (0,
                                vr.select)(DO);
                            case 3:
                                return r = y.sent,
                                n = r.result,
                                a = r.pagination,
                                o = r.keyword,
                                y.next = 9,
                                (0,
                                vr.select)(Ai);
                            case 9:
                                if (c = y.sent.toLowerCase(),
                                s = a.currentPage,
                                i = a.perPage,
                                u = a.hasMore,
                                p = t === o && u,
                                d = t !== o,
                                y.prev = 13,
                                !p && !d) {
                                    y.next = 45;
                                    break
                                }
                                return y.next = 17,
                                (0,
                                vr.put)(JO({
                                    status: d ? N.DataFetchStatus.INIT_PENDING : N.DataFetchStatus.PENDING
                                }));
                            case 17:
                                return l = {
                                    page: p ? s + 1 : 1,
                                    per_page: i,
                                    shop_name: t
                                },
                                "all" !== c && (l.shop_region = c),
                                y.next = 21,
                                (0,
                                vr.call)(fr, {
                                    resource: "shops",
                                    params: l
                                });
                            case 21:
                                if (f = y.sent,
                                _ = f.shops,
                                !(S = (E = void 0 === _ ? [] : _).length)) {
                                    y.next = 40;
                                    break
                                }
                                return h = E.map((function(e) {
                                    return e.id
                                }
                                )).filter((function(e) {
                                    return e
                                }
                                )),
                                y.next = 29,
                                (0,
                                vr.put)(Tn({
                                    type: dn.REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT,
                                    shopIds: h
                                }));
                            case 29:
                                return O = C("shops", E),
                                v = O.entities,
                                g = O.result,
                                T = void 0 === g ? [] : g,
                                y.next = 32,
                                (0,
                                vr.put)(Jr({
                                    entities: v
                                }));
                            case 32:
                                return y.next = 34,
                                (0,
                                vr.put)(qO({
                                    shopIds: T
                                }));
                            case 34:
                                return m = {
                                    currentPage: p ? s + 1 : 1,
                                    perPage: i,
                                    hasMore: S >= i
                                },
                                b = d ? T : _e(new Set(n.concat(T))),
                                y.next = 38,
                                (0,
                                vr.put)(zO({
                                    pagination: m,
                                    result: b,
                                    keyword: t
                                }));
                            case 38:
                                y.next = 43;
                                break;
                            case 40:
                                if (!d) {
                                    y.next = 43;
                                    break
                                }
                                return y.next = 43,
                                (0,
                                vr.put)(zO({
                                    pagination: {
                                        currentPage: 0,
                                        perPage: 20,
                                        hasMore: !0
                                    },
                                    result: [],
                                    keyword: t
                                }));
                            case 43:
                                return y.next = 45,
                                (0,
                                vr.put)(JO({
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 45:
                                y.next = 54;
                                break;
                            case 47:
                                if (y.prev = 47,
                                y.t0 = y.catch(13),
                                !d) {
                                    y.next = 52;
                                    break
                                }
                                return y.next = 52,
                                (0,
                                vr.put)(zO({
                                    pagination: {
                                        currentPage: 0,
                                        perPage: 20,
                                        hasMore: !0
                                    },
                                    result: [],
                                    keyword: t
                                }));
                            case 52:
                                return y.next = 54,
                                (0,
                                vr.put)(JO({
                                    status: d ? N.DataFetchStatus.INIT_FAILED : N.DataFetchStatus.FAILED
                                }));
                            case 54:
                            case "end":
                                return y.stop()
                            }
                    }
                    ), Ov, null, [[13, 47]])
                }
                function Rv() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)(KO, yv);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeLatest)(HO, bv);
                            case 4:
                                return e.next = 6,
                                (0,
                                vr.takeEvery)(YO, mv);
                            case 6:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), vv)
                }
                const Cv = (e(uv = {}, mO.FETCH_SHOPS_SUCCEED, (function(e, t) {
                    var r = t.payload
                      , n = r.pagination
                      , a = r.result;
                    return Ev(Ev({}, e), {}, {
                        fetchResult: Ev(Ev({}, e.fetchResult), {}, {
                            pagination: n,
                            result: a
                        })
                    })
                }
                )),
                e(uv, mO.SEARCH_SHOPS_SUCCEED, (function(e, t) {
                    var r = t.payload
                      , n = r.pagination
                      , a = r.result
                      , o = r.keyword;
                    return Ev(Ev({}, e), {}, {
                        searchResult: Ev(Ev({}, e.searchResult), {}, {
                            pagination: n,
                            result: a,
                            keyword: o
                        })
                    })
                }
                )),
                e(uv, mO.UPDATE_FETCH_SHOPS_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return Ev(Ev({}, e), {}, {
                        status: r
                    })
                }
                )),
                e(uv, mO.UPDATE_SEARCH_SHOPS_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return Ev(Ev({}, e), {}, {
                        searchStatus: r
                    })
                }
                )),
                e(uv, mO.UPDATE_FETCHED_SHOP_IDS, (function(e, t) {
                    var r = t.payload.shopIds
                      , n = e.fetchedShopIds;
                    return Ev(Ev({}, e), {}, {
                        fetchedShopIds: _e(new Set(n.concat(r)))
                    })
                }
                )),
                e(uv, mO.UPDATE_CURRENT_FETCH_SHOP_IDS, (function(e, t) {
                    var r = t.payload.shopIds;
                    return Ev(Ev({}, e), {}, {
                        currentFetchShopIds: [].concat(_e(e.currentFetchShopIds), _e(r))
                    })
                }
                )),
                e(uv, mO.RESET_CURRENT_FETCH_SHOPS, (function(e) {
                    return Ev(Ev({}, e), {}, {
                        currentFetchShopIds: [],
                        fetchResult: Ev(Ev({}, e.fetchResult), {}, {
                            pagination: Ev({}, wv)
                        })
                    })
                }
                )),
                uv);
                function Iv(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Av(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Iv(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Iv(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Dv, Pv, wv = {
                    currentPage: 0,
                    perPage: 20,
                    hasMore: !0
                }, xv = [ov, Rv, fv], Nv = {
                    shopFilter: null,
                    fetchedShopIds: [],
                    fetchResult: {
                        pagination: Av({}, wv),
                        result: []
                    },
                    status: "",
                    searchResult: {
                        pagination: Av({}, wv),
                        result: [],
                        keyword: ""
                    },
                    searchStatus: "",
                    currentFetchShopIds: []
                }, kv = (0,
                He.handleActions)(Av(Av({}, iv), Cv), Nv), Uv = function(e) {
                    return e.toastReducer.toast
                }, Mv = P(439).t, jv = function(e, t) {
                    var r = {};
                    if (t) {
                        switch (t.type) {
                        case "auto-reply":
                            e ? t.first && "enabled" === t.action ? (r.message = Mv("settings.enable_auto_reply_successfully"),
                            r.show = !0) : (r.message = "",
                            r.show = !1) : (t.first && "enabled" === t.action ? r.message = Mv("settings.failed_to_enable_auto_reply") : r.message = "enabled" === t.action ? Mv("settings.failed_to_enable") : Mv("settings.failed_to_disable"),
                            r.show = !0);
                            break;
                        case "message":
                            r.message = e ? "save" === t.action ? Mv("settings.message.save_successfully") : "delete" === t.action ? Mv("settings.message.delete_successfully") : Mv("settings.message.import_successfully") : "save" === t.action ? Mv("settings.message.failed_to_save") : "delete" === t.action ? Mv("settings.message.failed_to_delete") : Mv("settings.message.failed_to_import"),
                            r.show = !0;
                            break;
                        case "message-tips":
                            e ? (r.message = "",
                            r.show = !1) : (r.message = "enabled" === t.action ? Mv("settings.failed_to_enable") : Mv("settings.failed_to_disable"),
                            r.show = !0);
                            break;
                        case "forward":
                            e || (r.message = 403 === t.status ? Mv("forward.exception", {
                                forwardName: ""
                            }) : Mv("forward.server_error"),
                            r.show = !0);
                            break;
                        case "send-feedback":
                            r.message = Mv("feedback_modal.error.failed_to_send"),
                            r.show = !0;
                            break;
                        case "server-error-tips":
                            r.message = Mv("common.server_error.warning_tips"),
                            r.show = !0;
                            break;
                        case "conversation-closed-tip":
                            r.message = Mv("conversation_detail.closed.warning_tips"),
                            r.show = !0;
                            break;
                        case "permission-denied":
                            r.message = Mv("common.permission_denied"),
                            r.show = !0;
                            break;
                        case "claim-voucher":
                            r.message = Mv(e ? "voucher.claim.success" : "voucher.claim.fail"),
                            r.show = !0;
                            break;
                        case "private-image":
                            r.message = Mv("common.image.expired"),
                            r.show = !0;
                            break;
                        case "operation":
                            "save" === t.action && (r.message = Mv(e ? "text.save_successfully" : "text.save_failed")),
                            r.show = !0;
                            break;
                        default:
                            r.message = t.message,
                            r.show = !0
                        }
                        r.type = e ? "success" : "fail"
                    }
                    return r
                };
                !function(e) {
                    e.COPY_SUCCEED_FEEDBACK = "COPY_SUCCEED_FEEDBACK",
                    e.SET_TOAST_INFORMATION = "SET_TOAST_INFORMATION",
                    e.SET_TOAST_INFORMATION_SUCCEEDED = "SET_TOAST_INFORMATION_SUCCEEDED"
                }(Dv || (Dv = {}));
                var Lv = (0,
                He.createActions)((e(Pv = {}, Dv.COPY_SUCCEED_FEEDBACK, (function() {
                    return {}
                }
                )),
                e(Pv, Dv.SET_TOAST_INFORMATION, (function(e) {
                    return {
                        type: e.type,
                        error: e.error,
                        toast: e.toast
                    }
                }
                )),
                e(Pv, Dv.SET_TOAST_INFORMATION_SUCCEEDED, (function(e) {
                    return {
                        toast: e.toast
                    }
                }
                )),
                Pv))
                  , Fv = Lv.copySucceedFeedback
                  , Gv = Lv.setToastInformation
                  , Hv = Lv.setToastInformationSucceeded;
                function Vv(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Bv(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Vv(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Vv(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Yv = L().mark(Qv)
                  , qv = L().mark(Wv);
                function Qv(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.error,
                                a = t.toast,
                                o = null,
                                r && (o = jv(!1, {
                                    type: r
                                })),
                                void 0 !== n && (o = n instanceof ot || n instanceof it ? n.handler() : jv(!1, {
                                    type: "server-error-tips"
                                })),
                                a && (o = a),
                                c.next = 7,
                                (0,
                                vr.put)(Hv({
                                    toast: o
                                }));
                            case 7:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), Yv)
                }
                function Wv() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Gv, Qv);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), qv)
                }
                const Kv = e({}, Dv.SET_TOAST_INFORMATION_SUCCEEDED, (function(e, t) {
                    var r = t.payload.toast;
                    return Bv(Bv({}, e), {}, {
                        toast: r
                    })
                }
                ));
                var zv = P(439).t
                  , Jv = L().mark($v)
                  , Xv = L().mark(Zv);
                function $v() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.put)(Gv({
                                    toast: jv(!0, {
                                        message: zv("common.successful_copied")
                                    })
                                }));
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Jv)
                }
                function Zv() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Fv, $v);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Xv)
                }
                function eg(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var tg = [Wv, Zv]
                  , rg = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? eg(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : eg(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, Kv), {
                    toast: {
                        type: "",
                        message: "",
                        show: !1
                    }
                });
                function ng(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function ag(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? ng(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : ng(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                N.MessageTypes.MSG_TYPE_TEXT;
                var og, cg, sg = N.MessageTypes.MSG_TYPE_OFFER, ig = N.MessageTypes.MSG_TYPE_ORDER, ug = N.MessageTypes.MSG_TYPE_PRODUCT, pg = N.MessageTypes.MSG_TYPE_IMAGE, dg = N.MessageTypes.MSG_TYPE_FAQ_UNSUPPORTED, lg = N.MessageTypes.MSG_TYPE_FAQ_LIVEAGENT_PROMPT, fg = N.MessageTypes.MSG_TYPE_VIDEO, _g = N.MessageTypes.MSG_TYPE_NOTIFICATION, Eg = N.MessageTypes.MSG_TYPE_WEBVIEW, Sg = N.MessageTypes.MSG_TYPE_RATE_CARD, hg = N.MessageTypes.MSG_TYPE_RATE_CARDS, Og = N.MessageTypes.MSG_TYPE_IMAGE_WITH_TEXT, vg = [ig, ug], gg = function(e) {
                    return (e.messageReducer || {}).faqHistoryStatus
                }, Tg = function(e) {
                    return (e.messageReducer || {}).faqHistoryHash
                }, mg = function(e) {
                    return (e.messageReducer || {}).faqId
                }, bg = (0,
                Ye.createSelector)(Tg, mg, (function(e, t) {
                    return e && t && e[t] || {
                        all: []
                    }
                }
                )), yg = function(e) {
                    return (e.messageReducer || {}).status
                }, Rg = (0,
                Ye.createSelector)((function(e) {
                    return e
                }
                ), (function(e) {
                    return (e.messageReducer || {}).messagesRelatedMap || {}
                }
                )), Cg = function(e) {
                    return e.messageReducer.offlineMessages
                }, Ig = function(e) {
                    var t;
                    return (null === (t = e.messageReducer) || void 0 === t ? void 0 : t.videoMap) || {}
                }, Ag = function(e) {
                    return (0,
                    Ye.createSelector)(Ig, (function(t) {
                        return JSON.parse(JSON.stringify(t[e] || {}))
                    }
                    ))
                }, Dg = function(e) {
                    return (0,
                    Ye.createSelector)(Ig, (function(t) {
                        return Object.keys(t).find((function(r) {
                            return t[r].vid === e
                        }
                        ))
                    }
                    ))
                }, Pg = function(e) {
                    return (0,
                    Ye.createSelector)(Dr, (function(r) {
                        return (0,
                        t.denormalize)(e, c, {
                            messages: r
                        })
                    }
                    ))
                }, wg = function(e) {
                    return (0,
                    Ye.createSelector)(Dr, (function(r) {
                        return (0,
                        t.denormalize)(e, [c], {
                            messages: r
                        })
                    }
                    ))
                }, xg = (0,
                Ye.createSelector)(oi, Rg, (function(e, t) {
                    return t[e] || {
                        all: []
                    }
                }
                )), Ng = function(e) {
                    return (0,
                    Ye.createSelector)(Rg, (function(t) {
                        return t[e] || {
                            all: [],
                            sending: [],
                            failed: []
                        }
                    }
                    ))
                }, kg = function(e) {
                    return (e.messageReducer || {}).messageFillStatusMap || {}
                }, Ug = iw((function(e) {
                    return (0,
                    Ye.createSelector)(Ng(e), Gi(e), Dr, (function(e, t, r) {
                        return kp(e, t, r)
                    }
                    ))
                }
                )), Mg = (0,
                Ye.createSelector)(xg, (function(e) {
                    var t = _e(e.all || []);
                    return e.securityTipsMessageId && t.push(e.securityTipsMessageId),
                    t
                }
                )), jg = (0,
                Ye.createSelector)(xg, (function(e) {
                    return e.sending || []
                }
                )), Lg = (0,
                Ye.createSelector)(xg, (function(e) {
                    return e.failed || []
                }
                )), Fg = (0,
                Ye.createSelector)(xg, (function(e) {
                    return e.hasMoreOlderMessage
                }
                )), Gg = (0,
                Ye.createSelector)(xg, (function(e) {
                    return e.hasMoreLatestMessage
                }
                )), Hg = (0,
                Ye.createSelector)(Dr, Mg, (function(e, r) {
                    return ((0,
                    t.denormalize)(r, [c], {
                        messages: e
                    }) || []).filter(Boolean)
                }
                )), Vg = function(e) {
                    return (0,
                    Ye.createSelector)(Ng(e), Dr, (function(e, r) {
                        return ((0,
                        t.denormalize)(e.all, [c], {
                            messages: r
                        }) || []).filter((function(e) {
                            return null == e ? void 0 : e.isFaking
                        }
                        ))
                    }
                    ))
                }, Bg = (0,
                Ye.createSelector)(Hg, (function(e) {
                    return e.reverse()
                }
                )), Yg = (0,
                Ye.createSelector)(Bg, wi, (function(e, t) {
                    var r = 0
                      , n = [];
                    return e.forEach((function(e, a) {
                        var o = (0,
                        N.getMessageIsSend)(e, t);
                        e.warning && !o && (a - r < 10 && n.pop(),
                        n.push(e.id),
                        r = a)
                    }
                    )),
                    n
                }
                )), qg = (0,
                Ye.createSelector)(wi, Bg, (function(e, t) {
                    if (!e)
                        return [];
                    var r = e.last_read_message_id;
                    return t.filter((function(t) {
                        var n = (0,
                        N.getMessageIsSend)(t, e);
                        return t && !n && (0,
                        N.greaterThan)(t.id, r) && t.type !== _g
                    }
                    ))
                }
                )), Qg = (0,
                Ye.createSelector)(Rr, bg, (function(e, r) {
                    var n = r.all;
                    return (0,
                    t.denormalize)(n, [c], e)
                }
                )), Wg = (0,
                Ye.createSelector)(Qg, Bg, (function(e, t) {
                    return (e && e.length ? e : t).filter((function(e) {
                        var t = (e || {}).type;
                        return !(0,
                        N.isDeletedMessage)(e) && [pg, fg, Og].includes(t)
                    }
                    ))
                }
                )), Kg = (0,
                Ye.createSelector)(Wg, wi, Ni, Xn, Bi, (function(e, t, r, n, a) {
                    var o = r && r.country || "sg"
                      , c = (0,
                    N.getVideoServer)(o);
                    return e.map((function(e) {
                        var r = ""
                          , o = !1
                          , s = (0,
                        N.getMessageIsSend)(e, t);
                        switch (e.type) {
                        case pg:
                            var i = e.content;
                            r = 1 !== i.file_server_id && i.url_hash ? "".concat((0,
                            N.getFileServer)()).concat(i.url_hash) : i.url || i.localUrl,
                            o = i.unknown_qr_code && !s;
                            break;
                        case fg:
                            var u = e.content;
                            r = u.video_url ? "".concat(c).concat(u.video_url) : u.localVideoUrl;
                            break;
                        case Og:
                            var p = e.content;
                            r = p.thumb_url ? "".concat((0,
                            N.getFileServer)()).concat(p.thumb_url) : p.image_url
                        }
                        var d = e.id
                          , l = e.type
                          , f = e.request_id
                          , _ = e.content;
                        return {
                            type: l,
                            id: d,
                            url: r,
                            unknownQrCode: o,
                            trackerData: {
                                shopid: a,
                                account_type: n.role || "shopee_user",
                                message_id: d === f ? 0 : d,
                                conversation_id: t.id,
                                account_id: n.id,
                                is_sender: s,
                                video_original_duration: _.duration_seconds
                            }
                        }
                    }
                    ))
                }
                )), zg = (0,
                Ye.createSelector)(qg, (function(e) {
                    return e.length ? e.map((function(e) {
                        return e.id
                    }
                    )) : []
                }
                )), Jg = (0,
                Ye.createSelector)(wi, Bg, (function(e, t) {
                    return e ? t.filter(Boolean).reduce((function(e, t) {
                        var r = t.type
                          , n = t.source_type
                          , a = t.source_content
                          , o = t.content;
                        if (!n || r === sg || [-1, 0].includes(a["".concat(n, "_id")]))
                            return e;
                        if (vg.includes(r) && a) {
                            var c = "".concat(r, "_id");
                            if (o[c] === a[c])
                                return e
                        }
                        var s = e.lastSourceMessage
                          , i = e.sourceList;
                        if (!i.length)
                            return {
                                sourceList: i.concat(t),
                                lastSourceMessage: t
                            };
                        if (n === ug) {
                            var u = null == a ? void 0 : a.product_id
                              , p = s.source_content && s.source_content.product_id;
                            if (!u || p === u)
                                return e
                        } else if (n === ig) {
                            var d = null == a ? void 0 : a.order_id
                              , l = s.source_content && s.source_content.order_id;
                            if (!d || [-1, 0, l].includes(d))
                                return e
                        }
                        return {
                            sourceList: i.concat(t),
                            lastSourceMessage: t
                        }
                    }
                    ), {
                        sourceList: [],
                        lastSourceMessage: null
                    }).sourceList : []
                }
                )), Xg = (0,
                Ye.createSelector)(Jg, (function(e) {
                    return e.map((function(e) {
                        return e.id
                    }
                    ))
                }
                )), $g = (0,
                Ye.createSelector)(Rr, Hg, (function(e, r) {
                    var n = r.filter((function(e) {
                        return e && e.type === sg
                    }
                    )).map((function(e) {
                        return e.content.offer_id
                    }
                    ));
                    return (0,
                    t.denormalize)(n, [p], e)
                }
                )), Zg = (0,
                Ye.createSelector)(Bg, Xg, jg, Lg, wi, Mr, $g, (function(e, t, r, n, a, o, c) {
                    return a ? e.filter((function(e) {
                        if (!e)
                            return !1;
                        var t = e.content
                          , r = e.type;
                        return !(![dg, lg].includes(r) && (!t || t && 0 === Object.keys(t).length))
                    }
                    )).map((function(e) {
                        var a = r.includes(e.id) ? N.MessageSendStatus.SENDING : n.includes(e.id) ? N.MessageSendStatus.FAILED : e.send_status ? N.MessageSendStatus.SUCCEED : null
                          , s = t.includes(e.id)
                          , i = Object.assign({}, e, {
                            send_status: a,
                            hasMessageSource: s
                        })
                          , u = i
                          , p = u.type
                          , d = u.content
                          , l = void 0 === d ? {} : d
                          , f = u.message_option;
                        switch (p) {
                        case sg:
                            var _ = c.find((function(e) {
                                return e && e.id === l.offer_id
                            }
                            ));
                            i = Object.assign({}, i, {
                                textContent: _
                            });
                            break;
                        case Sg:
                            var E = o[l.card_id];
                            E && (i = Object.assign({}, i, {
                                textContent: E
                            }));
                            break;
                        case Eg:
                            var S = l
                              , h = S.type
                              , O = S.id
                              , v = null;
                            h === hg && (v = o[O]),
                            v && (i = Object.assign({}, i, {
                                textContent: v
                            }))
                        }
                        return (0,
                        N.hasTargetMessageOption)(f, N.MessageOption.MSG_OPT_CENSORED_BLACKLIST) && (i = ag(ag({}, i), {}, {
                            send_status: N.MessageSendStatus.FAILED,
                            errorCode: N.MessageErrorCode.BLACKLIST
                        })),
                        i
                    }
                    )) : []
                }
                )), eT = (0,
                Ye.createSelector)(Zg, Bi, wi, (function(e, t, r) {
                    var n;
                    if (null != e && e.length)
                        for (var a = !1, o = e.length - 1; !a && o >= 0; ) {
                            var c, s = e[o];
                            (0,
                            N.getMessageIsSend)(s, r) || "product" === (null == s ? void 0 : s.source_type) && (null == s || null === (c = s.source_content) || void 0 === c ? void 0 : c.shop_id) === t && (a = !0,
                            n = s.source_content && s.source_content.product_id),
                            o--
                        }
                    return n
                }
                )), tT = function(e) {
                    return (0,
                    Ye.createSelector)(Mr, (function(r) {
                        return (0,
                        t.denormalize)(e, E, {
                            rateCards: r
                        })
                    }
                    ))
                }, rT = (0,
                Ye.createSelector)((function(e) {
                    var t;
                    return null == e || null === (t = e.messageReducer) || void 0 === t ? void 0 : t.reply
                }
                ), (function(e) {
                    return e ? e.toMessageId : {}
                }
                )), nT = (0,
                Ye.createSelector)(oi, rT, (function(e, t) {
                    return t[e] || ""
                }
                )), aT = function(e) {
                    var t, r;
                    return null === (t = e.messageReducer) || void 0 === t || null === (r = t.reply) || void 0 === r ? void 0 : r.scrollToMessageId
                }, oT = (0,
                Ye.createSelector)(nT, Dr, (function(e, r) {
                    return (0,
                    t.denormalize)(e, c, {
                        messages: r
                    })
                }
                )), cT = function(e) {
                    var t, r;
                    return null === (t = e.messageReducer) || void 0 === t || null === (r = t.reply) || void 0 === r ? void 0 : r.inScrollToMessage
                }, sT = "".concat(location.origin, "/webchat/beep.mp3"), iT = "".concat(location.origin, "/webchat/shopee-logo.png"), uT = !0, pT = new Audio(sT), dT = function(e, t) {
                    var r = t.voice_notice
                      , n = t.flash_notice
                      , a = r === N.SwitchStatus.ENABLED
                      , o = n === N.SwitchStatus.ENABLED
                      , c = function() {
                        pT || (pT = new Audio(sT)),
                        uT && a && (uT = !1,
                        pT.play().catch((function(e) {
                            console.log(e)
                        }
                        )),
                        setTimeout((function() {
                            uT = !0
                        }
                        ), 700))
                    }
                      , s = function() {
                        c();
                        var t = new Notification("Shopee Webchat",{
                            dir: "auto",
                            icon: iT,
                            body: e
                        });
                        t.onclick = function() {
                            window.focus(),
                            t.close()
                        }
                    };
                    window.Notification && o ? "granted" === Notification.permission ? s() : "denied" !== Notification.permission && Notification.requestPermission((function(e) {
                        "granted" === e && s()
                    }
                    )) : c()
                }, lT = function(e) {
                    return e.messageShortcutGroupReducer
                }, fT = function(e) {
                    return e.messageShortcutGroupReducer && e.messageShortcutGroupReducer.currentGroupType
                }, _T = (0,
                Ye.createSelector)(lT, fT, (function(e, t) {
                    return e && e[t] || {
                        groups: [],
                        status: ""
                    }
                }
                )), ET = (0,
                Ye.createSelector)(_T, (function(e) {
                    return e.status
                }
                )), ST = (0,
                Ye.createSelector)(_T, (function(e) {
                    return e.currentGroupId
                }
                )), hT = (0,
                Ye.createSelector)(_T, (function(e) {
                    var t = e.groups
                      , r = void 0 === t ? [] : t
                      , n = e.currentGroupId
                      , a = (r.find((function(e) {
                        return e.id === n
                    }
                    )) || {}).message_shortcuts;
                    return void 0 === a ? [] : a
                }
                )), OT = (0,
                Ye.createSelector)(lT, (function(e) {
                    var t = (e && e[N.MessageShortcutGroupType.PERSONAL] || {
                        groups: []
                    }).groups;
                    return (void 0 === t ? [] : t).reduce((function(e, t) {
                        var r = t.message_shortcuts
                          , n = void 0 === r ? [] : r;
                        return e.concat(n)
                    }
                    ), [])
                }
                )), vT = (0,
                Ye.createSelector)(lT, (function(e) {
                    var t = (e && e[N.MessageShortcutGroupType.TEAM] || {
                        groups: []
                    }).groups;
                    return (void 0 === t ? [] : t).reduce((function(e, t) {
                        var r = t.message_shortcuts
                          , n = void 0 === r ? [] : r;
                        return e.concat(n)
                    }
                    ), [])
                }
                )), gT = (0,
                Ye.createSelector)(OT, vT, (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                      , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                    return [].concat(_e(e), _e(t))
                }
                )), TT = function(e) {
                    return e.settingsReducer.settings
                }, mT = function(e) {
                    return e.settingsReducer.needForceUpdate
                }, bT = function(e) {
                    return e.settingsReducer.status
                }, yT = function(e) {
                    return e.settingsReducer.fetchStatus
                }, RT = (0,
                Ye.createSelector)(TT, (function(e) {
                    return e.auto_translation_status || ""
                }
                )), CT = (0,
                Ye.createSelector)(TT, (function(e) {
                    return e.show_msg_time || "enabled"
                }
                )), IT = (0,
                Ye.createSelector)(TT, (function(e) {
                    return e.message_shortcuts_status || ""
                }
                )), AT = (0,
                Ye.createSelector)(TT, (function(e) {
                    return e.legacy_message_shortcuts_count || 0
                }
                )), DT = (0,
                Ye.createSelector)(TT, (function(e) {
                    return e.distribution_account_status || "enabled"
                }
                ));
                !function(e) {
                    e.FETCH_SETTINGS_REQUESTED = "FETCH_SETTINGS_REQUESTED",
                    e.FETCH_SETTINGS_SUCCEEDED = "FETCH_SETTINGS_SUCCEEDED",
                    e.FETCH_SETTINGS_STATUS = "FETCH_SETTINGS_STATUS",
                    e.UPDATE_SETTING_STATUS = "UPDATE_SETTING_STATUS",
                    e.UPDATE_SETTINGS_REQUESTED_BY_TYPE = "UPDATE_SETTINGS_REQUESTED_BY_TYPE",
                    e.UPDATE_SETTINGS_REQUESTED = "UPDATE_SETTINGS_REQUESTED",
                    e.UPDATE_SETTINGS_SUCCEEDED = "UPDATE_SETTINGS_SUCCEEDED"
                }(og || (og = {}));
                var PT, wT = (0,
                He.createActions)((e(cg = {}, og.FETCH_SETTINGS_REQUESTED, (function() {
                    return {}
                }
                )),
                e(cg, og.FETCH_SETTINGS_SUCCEEDED, (function(e) {
                    return {
                        settings: e.settings,
                        fetchStatus: e.fetchStatus,
                        timestamp: e.timestamp,
                        needForceUpdate: e.needForceUpdate
                    }
                }
                )),
                e(cg, og.FETCH_SETTINGS_STATUS, (function(e) {
                    return {
                        fetchStatus: e.fetchStatus
                    }
                }
                )),
                e(cg, og.UPDATE_SETTING_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(cg, og.UPDATE_SETTINGS_REQUESTED_BY_TYPE, (function(e) {
                    return e
                }
                )),
                e(cg, og.UPDATE_SETTINGS_REQUESTED, (function(e) {
                    return {
                        params: e.params
                    }
                }
                )),
                e(cg, og.UPDATE_SETTINGS_SUCCEEDED, (function(e) {
                    return {
                        settings: e.settings,
                        needForceUpdate: e.needForceUpdate
                    }
                }
                )),
                cg)), xT = wT.fetchSettingsRequested, NT = wT.fetchSettingsSucceeded, kT = wT.fetchSettingsStatus, UT = wT.updateSettingStatus, MT = wT.updateSettingsRequestedByType, jT = wT.updateSettingsRequested, LT = wT.updateSettingsSucceeded;
                function FT(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function GT(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? FT(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : FT(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var HT = L().mark(BT)
                  , VT = L().mark(YT);
                function BT() {
                    var e;
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.prev = 0,
                                t.next = 3,
                                (0,
                                vr.put)(kT({
                                    fetchStatus: N.DataFetchStatus.PENDING
                                }));
                            case 3:
                                return t.next = 5,
                                (0,
                                vr.call)(fr, {
                                    parent: "user",
                                    resource: "setting"
                                });
                            case 5:
                                return e = t.sent,
                                t.next = 8,
                                (0,
                                vr.put)(NT({
                                    settings: e,
                                    fetchStatus: N.DataFetchStatus.SUCCEED,
                                    timestamp: Date.now(),
                                    needForceUpdate: !1
                                }));
                            case 8:
                                return t.abrupt("return", e);
                            case 11:
                                return t.prev = 11,
                                t.t0 = t.catch(0),
                                t.next = 15,
                                (0,
                                vr.put)(kT({
                                    fetchStatus: N.DataFetchStatus.FAILED
                                }));
                            case 15:
                                return t.abrupt("return", {});
                            case 16:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), HT, null, [[0, 11]])
                }
                function YT() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)([xT], BT);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), VT)
                }
                const qT = (e(PT = {}, og.FETCH_SETTINGS_SUCCEEDED, (function(e, t) {
                    var r = t.payload
                      , n = r.settings
                      , a = r.fetchStatus
                      , o = r.timestamp
                      , c = r.needForceUpdate;
                    return GT(GT({}, e), {}, {
                        settings: n,
                        fetchStatus: a,
                        timestamp: o,
                        needForceUpdate: c
                    })
                }
                )),
                e(PT, og.FETCH_SETTINGS_STATUS, (function(e, t) {
                    var r = t.payload.fetchStatus;
                    return GT(GT({}, e), {}, {
                        fetchStatus: r
                    })
                }
                )),
                PT);
                function QT(e, t) {
                    if (null == e)
                        return {};
                    var r, n, a = function(e, t) {
                        if (null == e)
                            return {};
                        var r, n, a = {}, o = Object.keys(e);
                        for (n = 0; n < o.length; n++)
                            r = o[n],
                            t.indexOf(r) >= 0 || (a[r] = e[r]);
                        return a
                    }(e, t);
                    if (Object.getOwnPropertySymbols) {
                        var o = Object.getOwnPropertySymbols(e);
                        for (n = 0; n < o.length; n++)
                            r = o[n],
                            t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (a[r] = e[r])
                    }
                    return a
                }
                var WT = ["extra", "linked"]
                  , KT = L().mark(ZT)
                  , zT = L().mark(em)
                  , JT = L().mark(tm);
                function XT(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function $T(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? XT(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : XT(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                function ZT(e) {
                    var t, r, n, a, o, c, s, i, u, p;
                    return L().wrap((function(d) {
                        for (; ; )
                            switch (d.prev = d.next) {
                            case 0:
                                return t = e.payload.params,
                                r = t.extra,
                                n = t.linked,
                                a = QT(t, WT),
                                d.prev = 2,
                                d.next = 5,
                                (0,
                                vr.put)(eD({
                                    event_time: (Date.parse(new Date) / 1e3).toString(),
                                    url: window.location.href
                                }));
                            case 5:
                                return d.next = 7,
                                (0,
                                vr.put)(UT({
                                    status: N.OperationStatus.PENDING
                                }));
                            case 7:
                                return d.next = 9,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    parent: "user",
                                    resource: "setting",
                                    payload: JSON.stringify($T({}, a))
                                });
                            case 9:
                                return o = d.sent,
                                d.next = 12,
                                (0,
                                vr.put)(LT({
                                    settings: o,
                                    needForceUpdate: !0
                                }));
                            case 12:
                                return c = jv(!0, r),
                                d.next = 15,
                                (0,
                                vr.put)(Gv({
                                    toast: c
                                }));
                            case 15:
                                return d.next = 17,
                                (0,
                                vr.put)(UT({
                                    status: N.OperationStatus.SUCCEED
                                }));
                            case 17:
                                ee && te && "function" == typeof te.dispatch && !n && te.dispatch(N.CustomShareEvent.SHARE_API_DATA, $T($T({
                                    type: N.ShareDataType.UPDATE_SETTING
                                }, t), {}, {
                                    linked: !0
                                })),
                                d.next = 36;
                                break;
                            case 20:
                                return d.prev = 20,
                                d.t0 = d.catch(2),
                                s = d.t0 instanceof ct,
                                i = d.t0 instanceof rt,
                                u = s ? N.OperationStatus.BLACKLIST_ERROR : i ? N.OperationStatus.INTERNAL_SERVER_ERROR : N.OperationStatus.FAILED,
                                d.next = 27,
                                (0,
                                vr.put)(UT({
                                    status: u
                                }));
                            case 27:
                                if (!i) {
                                    d.next = 32;
                                    break
                                }
                                return d.next = 30,
                                (0,
                                vr.put)(Gv({
                                    error: d.t0
                                }));
                            case 30:
                                d.next = 36;
                                break;
                            case 32:
                                if (s) {
                                    d.next = 36;
                                    break
                                }
                                return p = jv(!1, r),
                                d.next = 36,
                                (0,
                                vr.put)(Gv({
                                    toast: p
                                }));
                            case 36:
                            case "end":
                                return d.stop()
                            }
                    }
                    ), KT, null, [[2, 20]])
                }
                function em(t) {
                    var r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return r = t.payload,
                                n = r,
                                i.next = 4,
                                (0,
                                vr.select)((function(e) {
                                    return e.settingsReducer.settings
                                }
                                ));
                            case 4:
                                if (a = i.sent,
                                (o = {
                                    voiceNotice: a.voice_notice,
                                    flashNotice: a.flash_notice,
                                    showMsgTime: a.show_msg_time,
                                    autoTranslationStatus: a.auto_translation_status,
                                    messageShortcutsStatus: a.message_shortcuts_status
                                })[n] = o[n] && o[n] !== N.SwitchStatus.DISABLED ? N.SwitchStatus.DISABLED : N.SwitchStatus.ENABLED,
                                !n) {
                                    i.next = 11;
                                    break
                                }
                                return s = n.replace(/([A-Z])/g, "_$1").toLowerCase(),
                                i.next = 11,
                                (0,
                                vr.call)(ZT, {
                                    payload: {
                                        params: (c = {},
                                        e(c, s, o[n]),
                                        e(c, "extra", {
                                            type: "message-tips",
                                            action: o[n]
                                        }),
                                        c)
                                    }
                                });
                            case 11:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), zT)
                }
                function tm() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeLatest)([jT], ZT);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeLatest)([MT], em);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), JT)
                }
                const rm = e({}, og.UPDATE_SETTINGS_SUCCEEDED, (function(e, t) {
                    var r = t.payload
                      , n = r.settings
                      , a = r.needForceUpdate;
                    return $T($T({}, e), {}, {
                        settings: n,
                        needForceUpdate: a
                    })
                }
                ));
                function nm(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function am(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? nm(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : nm(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                const om = e({}, og.UPDATE_SETTING_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return am(am({}, e), {}, {
                        status: r
                    })
                }
                ));
                function cm(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function sm(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? cm(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cm(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var im, um, pm = [YT, tm], dm = (0,
                He.handleActions)(sm(sm(sm({}, qT), rm), om), {
                    settings: {},
                    fetchStatus: "",
                    status: ""
                }), lm = {
                    currentPage: 0,
                    perPage: 20,
                    total: 0,
                    hasMore: !0
                }, fm = function(e) {
                    return e.offerReducer.status
                }, _m = (0,
                Ye.createSelector)(Rr, (function(e) {
                    return e.offers || {}
                }
                )), Em = function(e, t, r, n) {
                    return (0,
                    Ye.createSelector)(_m, (function(a) {
                        return Object.values(a).filter((function(a) {
                            return a.product_id === n && a.model_id === t && a.conversation_id === e && a.id !== r && a.status === N.OfferStatus.PENDING
                        }
                        ))
                    }
                    ))
                }, Sm = function(e) {
                    return (0,
                    Ye.createSelector)(Rr, (function(r) {
                        return (0,
                        t.denormalize)(e, p, r)
                    }
                    ))
                }, hm = function(e) {
                    return e.offerReducer.fetchResult
                }, Om = function(e, t) {
                    return (0,
                    Ye.createSelector)(hm, (function(r) {
                        return r["".concat(e, "_").concat(t)] || {
                            pagination: lm,
                            result: []
                        }
                    }
                    ))
                }, vm = (0,
                Ye.createSelector)(hm, wi, (function(e, t) {
                    var r = t.shop_id
                      , n = t.to_id
                      , a = e["".concat(r, "_").concat(n)];
                    return a ? a.pagination : lm
                }
                )), gm = (0,
                Ye.createSelector)(hm, wi, Rr, (function(e, r, n) {
                    var a = r.shop_id
                      , o = r.to_id
                      , c = e["".concat(a, "_").concat(o)];
                    if (!c)
                        return [];
                    var s = c.result || [];
                    return (0,
                    t.denormalize)(s, [p], n).filter((function(e) {
                        return e
                    }
                    ))
                }
                )), Tm = (0,
                He.createActions)({
                    REDUX_RESET: function() {
                        return {}
                    }
                }).reduxReset;
                !function(e) {
                    e.REMOVE_SINGLE_DRAFT = "REMOVE_SINGLE_DRAFT",
                    e.REMOVE_ALL_DRAFT = "REMOVE_ALL_DRAFT",
                    e.BATCH_REMOVE_DRAFT = "BATCH_REMOVE_DRAFT",
                    e.SAVE_DRAFT = "SAVE_DRAFT"
                }(im || (im = {}));
                const mm = (e(um = {}, im.REMOVE_SINGLE_DRAFT, hp),
                e(um, im.REMOVE_ALL_DRAFT, Op),
                e(um, im.BATCH_REMOVE_DRAFT, (function(e, t) {
                    var r = t.payload.conversationIds
                      , n = void 0 === r ? [] : r
                      , a = Ep({}, e.draftHash);
                    return n.forEach((function(e) {
                        delete a[e]
                    }
                    )),
                    Ep(Ep({}, e), {}, {
                        draftHash: a
                    })
                }
                )),
                um)
                  , bm = e({}, im.SAVE_DRAFT, vp);
                var ym, Rm = (0,
                He.createActions)((e(ym = {}, im.REMOVE_SINGLE_DRAFT, (function(e) {
                    return {
                        conversationId: e.conversationId
                    }
                }
                )),
                e(ym, im.REMOVE_ALL_DRAFT, (function() {
                    return {}
                }
                )),
                e(ym, im.BATCH_REMOVE_DRAFT, (function(e) {
                    return {
                        conversationIds: e.conversationIds
                    }
                }
                )),
                e(ym, im.SAVE_DRAFT, (function(e) {
                    return {
                        conversationId: e.conversationId,
                        draft: e.draft
                    }
                }
                )),
                ym)), Cm = Rm.removeSingleDraft, Im = Rm.removeAllDraft, Am = Rm.batchRemoveDraft, Dm = Rm.saveDraft;
                function Pm(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function wm(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Pm(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Pm(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var xm, Nm, km = (0,
                He.handleActions)(wm(wm({}, bm), mm), {
                    draftHash: {}
                }), Um = function(e) {
                    return e.draftReducer.draftHash
                }, Mm = function(e) {
                    return (0,
                    Ye.createSelector)(Um, (function(t) {
                        return t[e]
                    }
                    ))
                }, jm = (0,
                Ye.createSelector)(oi, Um, (function(e, t) {
                    return e && t[e]
                }
                ));
                function Lm(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Fm(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Lm(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Lm(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                !function(e) {
                    e.FEEDBACK_REQUESTED = "FEEDBACK_REQUESTED",
                    e.FEEDBACK_SUCCEEDED = "FEEDBACK_SUCCEEDED",
                    e.UPDATE_RECONNECT_FLAG = "UPDATE_RECONNECT_FLAG",
                    e.UPDATE_NOTICES_COUNT = "UPDATE_NOTICES_COUNT",
                    e.UPDATE_C_S_SOCKET_STATUS = "UPDATE_C_S_SOCKET_STATUS"
                }(xm || (xm = {}));
                var Gm = L().mark(qm)
                  , Hm = L().mark(Qm)
                  , Vm = (0,
                He.createActions)((e(Nm = {}, xm.FEEDBACK_REQUESTED, (function(e) {
                    return {
                        feedback: e.feedback
                    }
                }
                )),
                e(Nm, xm.FEEDBACK_SUCCEEDED, (function(e) {
                    return {
                        feedback: e.feedback
                    }
                }
                )),
                Nm))
                  , Bm = Vm.feedbackRequested
                  , Ym = Vm.feedbackSucceeded;
                function qm(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return t = e.payload.feedback,
                                r.next = 3,
                                (0,
                                vr.put)(Ym({
                                    feedback: t
                                }));
                            case 3:
                                return r.next = 5,
                                (0,
                                vr.delay)(2500);
                            case 5:
                                return r.next = 7,
                                (0,
                                vr.put)(Ym({
                                    feedback: void 0
                                }));
                            case 7:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), Gm)
                }
                function Qm() {
                    var e, t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return n.next = 2,
                                (0,
                                vr.actionChannel)(Bm);
                            case 2:
                                e = n.sent;
                            case 3:
                                return n.next = 6,
                                (0,
                                vr.take)(e);
                            case 6:
                                return t = n.sent,
                                r = t.payload,
                                n.next = 10,
                                (0,
                                vr.call)(qm, {
                                    payload: r
                                });
                            case 10:
                                n.next = 3;
                                break;
                            case 12:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), Hm)
                }
                const Wm = e({}, xm.FEEDBACK_SUCCEEDED, (function(e, t) {
                    var r = t.payload.feedback;
                    return Fm(Fm({}, e), {}, {
                        feedback: r
                    })
                }
                ));
                var Km = P(655)
                  , zm = P(439).t;
                function Jm(e, t) {
                    var r = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                    if (!r) {
                        if (Array.isArray(e) || (r = function(e, t) {
                            if (e) {
                                if ("string" == typeof e)
                                    return Xm(e, t);
                                var r = Object.prototype.toString.call(e).slice(8, -1);
                                return "Object" === r && e.constructor && (r = e.constructor.name),
                                "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? Xm(e, t) : void 0
                            }
                        }(e)) || t && e && "number" == typeof e.length) {
                            r && (e = r);
                            var n = 0
                              , a = function() {};
                            return {
                                s: a,
                                n: function() {
                                    return n >= e.length ? {
                                        done: !0
                                    } : {
                                        done: !1,
                                        value: e[n++]
                                    }
                                },
                                e: function(e) {
                                    throw e
                                },
                                f: a
                            }
                        }
                        throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }
                    var o, c = !0, s = !1;
                    return {
                        s: function() {
                            r = r.call(e)
                        },
                        n: function() {
                            var e = r.next();
                            return c = e.done,
                            e
                        },
                        e: function(e) {
                            s = !0,
                            o = e
                        },
                        f: function() {
                            try {
                                c || null == r.return || r.return()
                            } finally {
                                if (s)
                                    throw o
                            }
                        }
                    }
                }
                function Xm(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var r = 0, n = new Array(t); r < t; r++)
                        n[r] = e[r];
                    return n
                }
                function $m(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Zm(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? $m(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : $m(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var eb = L().mark(ab)
                  , tb = L().mark(ob)
                  , rb = L().mark(cb)
                  , nb = function(e, t) {
                    var r, n, a = t.conversation, o = t.read, c = t.pinned, s = t.offer, i = t.status, u = t.userId, p = t.flag, d = t.cardId, l = t.mute;
                    switch (e) {
                    case "conversations":
                        r = p ? {
                            flag: p
                        } : i ? {
                            status: i
                        } : o ? {
                            last_read_message_id: a.latest_message_id,
                            unread_count: 0
                        } : {
                            unread_count: a.unread_count + 1
                        },
                        void 0 !== c && (r = {
                            pinned: c
                        }),
                        void 0 !== l && (r = {
                            mute: l
                        }),
                        n = a.id;
                        break;
                    case "offers":
                        r = {
                            status: i
                        },
                        n = s.id;
                        break;
                    case "users":
                        r = {
                            distribution_status: i
                        },
                        n = u;
                        break;
                    case "rateCards":
                        r = {
                            status: i
                        },
                        n = d
                    }
                    return Xr({
                        name: e,
                        id: n,
                        record: r
                    })
                };
                function ab() {
                    var e, t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return r.next = 2,
                                (0,
                                vr.select)(da);
                            case 2:
                                if (r.sent) {
                                    r.next = 11;
                                    break
                                }
                                return r.next = 6,
                                (0,
                                vr.select)(TT);
                            case 6:
                                return e = r.sent,
                                t = zm("notification.receive_batch_conversation"),
                                dT(t, e),
                                r.next = 11,
                                (0,
                                vr.put)(Bc({
                                    flag: !0
                                }));
                            case 11:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), eb)
                }
                function ob(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y, R, I, A, D, P, w, x, k, U, M, j, G, H, V, B, Y, q, Q, W, K, z, J, X, $, Z, ee, te, re, ne, ae, oe, ce, se, ie, ue, pe, de, le, fe, _e, Ee, Se, he, Oe, ve, ge, Te, me, be, ye, Re, Ce, Ie, Ae;
                    return L().wrap((function(L) {
                        for (; ; )
                            switch (L.prev = L.next) {
                            case 0:
                                return t = e.type,
                                r = e.payload,
                                L.next = 3,
                                (0,
                                vr.select)(Ln);
                            case 3:
                                return n = L.sent,
                                L.next = 6,
                                (0,
                                vr.select)(oi);
                            case 6:
                                if (a = L.sent,
                                "notification" !== t) {
                                    L.next = 379;
                                    break
                                }
                                if (c = (o = r).type,
                                s = o.user_id,
                                i = o.from_id,
                                u = o.content,
                                p = u.flag,
                                d = u.status,
                                l = u.card_id,
                                f = u.offer_id,
                                _ = u.shop_id,
                                E = u.request_id,
                                S = u.conversation_id,
                                h = u.conversation_ids,
                                O = void 0 === h ? [] : h,
                                v = u.is_main_agent_change,
                                g = u.msg_id,
                                T = u.faq_session_id,
                                m = u.expiry_time,
                                b = u.is_auto_update,
                                y = {},
                                R = {},
                                !S) {
                                    L.next = 22;
                                    break
                                }
                                return L.next = 14,
                                (0,
                                vr.select)(Gi(S));
                            case 14:
                                return y = L.sent,
                                L.next = 17,
                                (0,
                                vr.select)(yO(y.shop_id)) || {};
                            case 17:
                                I = L.sent,
                                A = I.country,
                                y.shop_region = A,
                                L.next = 27;
                                break;
                            case 22:
                                if (!f) {
                                    L.next = 27;
                                    break
                                }
                                return L.next = 25,
                                (0,
                                vr.select)(_m);
                            case 25:
                                D = L.sent,
                                R = D[f];
                            case 27:
                                return P = y && n === s,
                                L.next = 30,
                                (0,
                                vr.select)(Ci);
                            case 30:
                                return w = L.sent,
                                x = "Unread" === w,
                                L.next = 34,
                                (0,
                                vr.select)(oa);
                            case 34:
                                k = L.sent,
                                L.t0 = c,
                                L.next = L.t0 === Up ? 38 : L.t0 === Mp ? 67 : L.t0 === jp ? 75 : "update_offer_status" === L.t0 ? 99 : "update_conversation" === L.t0 ? 113 : "update_user_status" === L.t0 ? 151 : "update_conversation_flag" === L.t0 ? 175 : "force_logout" === L.t0 ? 179 : "update_rating_card_status" === L.t0 ? 182 : "pull_notification" === L.t0 ? 185 : "pin_conversation" === L.t0 ? 188 : "unpin_conversation" === L.t0 ? 192 : "mass_read" === L.t0 ? 199 : "mass_unread" === L.t0 ? 222 : "mass_pin" === L.t0 ? 245 : "mass_unpin" === L.t0 ? 251 : "mass_activate" === L.t0 ? 257 : "mass_close" === L.t0 ? 293 : "video_upload" === L.t0 ? 327 : L.t0 === Lp || "mark_as_replied" === L.t0 ? 336 : "chat_delete_msg" === L.t0 ? 344 : "faq_session_update" === L.t0 ? 365 : L.t0 === Fp ? 369 : L.t0 === Gp ? 373 : 377;
                                break;
                            case 38:
                                if (!P) {
                                    L.next = 66;
                                    break
                                }
                                return L.next = 41,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer
                                }
                                ));
                            case 41:
                                return U = L.sent,
                                M = U.conversationMark,
                                j = "api" === M[S],
                                L.next = 46,
                                (0,
                                vr.put)(_u({
                                    conversationId: S,
                                    markType: j ? "" : "socket"
                                }));
                            case 46:
                                return L.next = 48,
                                (0,
                                vr.select)(ti);
                            case 48:
                                if (G = L.sent,
                                H = G.findIndex((function(e) {
                                    return e === E
                                }
                                )),
                                -1 === H) {
                                    L.next = 59;
                                    break
                                }
                                return er(Xt.READ_SOCKET, Date.now() - E),
                                L.next = 54,
                                (0,
                                vr.select)(ri);
                            case 54:
                                return V = L.sent,
                                H > 0 && (V += H),
                                G = G.slice(H + 1),
                                L.next = 59,
                                (0,
                                vr.put)(Eu({
                                    requestIds: G,
                                    count: V
                                }));
                            case 59:
                                if (j) {
                                    L.next = 66;
                                    break
                                }
                                if (!y.unread_count) {
                                    L.next = 66;
                                    break
                                }
                                return L.next = 64,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    read: !0
                                }));
                            case 64:
                                return L.next = 66,
                                (0,
                                vr.put)(Tn({
                                    type: dn.MARK_AS_READ,
                                    conversation: y
                                }));
                            case 66:
                                return L.abrupt("break", 377);
                            case 67:
                                if (x && (P = y && n === s),
                                !P) {
                                    L.next = 74;
                                    break
                                }
                                if (0 !== y.unread_count) {
                                    L.next = 72;
                                    break
                                }
                                return L.next = 72,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    read: !1
                                }));
                            case 72:
                                return L.next = 74,
                                (0,
                                vr.put)(Tn({
                                    type: dn.MARK_AS_UNREAD,
                                    conversation: y
                                }));
                            case 74:
                                return L.abrupt("break", 377);
                            case 75:
                                if ("activated" !== y.status || 0 === k) {
                                    L.next = 79;
                                    break
                                }
                                return L.next = 79,
                                (0,
                                vr.put)(So({
                                    validConversationCount: k - 1
                                }));
                            case 79:
                                return L.next = 81,
                                Co().put(Ao().deleteConversationMessageHash({
                                    payload: {
                                        conversationId: S
                                    },
                                    isLazy: !0
                                }));
                            case 81:
                                return L.next = 83,
                                (0,
                                vr.put)(Cm({
                                    conversationId: S
                                }));
                            case 83:
                                return L.next = 85,
                                (0,
                                vr.put)(ru({
                                    conversationId: S
                                }));
                            case 85:
                                return L.next = 87,
                                (0,
                                vr.put)($r({
                                    name: "conversations",
                                    id: S
                                }));
                            case 87:
                                return L.next = 89,
                                (0,
                                vr.select)(ei);
                            case 89:
                                if (!(L.sent.length < 20)) {
                                    L.next = 93;
                                    break
                                }
                                return L.next = 93,
                                (0,
                                vr.put)(ou({
                                    direction: "older",
                                    source: N.ConversationSource.DELETE
                                }));
                            case 93:
                                if (B = y.unread_count,
                                !y || !B) {
                                    L.next = 98;
                                    break
                                }
                                return L.next = 98,
                                (0,
                                vr.put)(Tn({
                                    type: dn.DELETE_CONVERSATION,
                                    conversation: y
                                }));
                            case 98:
                                return L.abrupt("break", 377);
                            case 99:
                                if (!R || !d || d === N.OfferStatus.PENDING) {
                                    L.next = 112;
                                    break
                                }
                                return Y = r.conversation_id,
                                L.next = 103,
                                (0,
                                vr.select)(Gi(Y));
                            case 103:
                                return q = L.sent,
                                L.next = 106,
                                (0,
                                vr.put)(nb("offers", {
                                    offer: R,
                                    status: d
                                }));
                            case 106:
                                return L.next = 108,
                                (0,
                                vr.put)(Zu({
                                    buyerId: R.buyer_id,
                                    shopId: R.shop_id
                                }));
                            case 108:
                                if (Q = q.latest_message_type,
                                W = q.latest_message_content,
                                Q !== N.MessageTypes.MSG_TYPE_OFFER || (null == W ? void 0 : W.offer_id) !== f || (null == W ? void 0 : W.status) !== N.OfferStatus.PENDING) {
                                    L.next = 112;
                                    break
                                }
                                return L.next = 112,
                                (0,
                                vr.put)(Xr({
                                    name: "conversations",
                                    id: Y,
                                    record: {
                                        latest_message_content: Zm(Zm({}, W), {}, {
                                            status: d
                                        })
                                    }
                                }));
                            case 112:
                                return L.abrupt("break", 377);
                            case 113:
                                if (!P) {
                                    L.next = 150;
                                    break
                                }
                                return K = y.unread_count,
                                L.next = 117,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    status: d
                                }));
                            case 117:
                                if ("closed" !== d) {
                                    L.next = 134;
                                    break
                                }
                                return L.next = 120,
                                (0,
                                vr.put)(oy({
                                    conversationId: S
                                }));
                            case 120:
                                return L.next = 122,
                                (0,
                                vr.put)(Cm({
                                    conversationId: S
                                }));
                            case 122:
                                return L.next = 124,
                                Co().call(Ao().deleteFakingMessages({
                                    payload: {
                                        conversationId: S
                                    }
                                }));
                            case 124:
                                if (0 === k) {
                                    L.next = 127;
                                    break
                                }
                                return L.next = 127,
                                (0,
                                vr.put)(So({
                                    validConversationCount: k - 1
                                }));
                            case 127:
                                if (!K) {
                                    L.next = 130;
                                    break
                                }
                                return L.next = 130,
                                (0,
                                vr.put)(Tn({
                                    type: dn.UPDATE_CONVERSATION,
                                    conversation: y
                                }));
                            case 130:
                                return L.next = 132,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    read: !0
                                }));
                            case 132:
                                L.next = 150;
                                break;
                            case 134:
                                if ("activated" !== d) {
                                    L.next = 150;
                                    break
                                }
                                if (a !== S) {
                                    L.next = 142;
                                    break
                                }
                                return L.next = 140,
                                (0,
                                vr.select)(ii);
                            case 140:
                                !L.sent && Co().put(Ao().fetchMessagesRequested({
                                    payload: {
                                        conversationId: S,
                                        reset: !0,
                                        source: N.MessageSource.UPDATE
                                    },
                                    isLazy: !0
                                }));
                            case 142:
                                return L.next = 144,
                                (0,
                                vr.select)(ei);
                            case 144:
                                if (!L.sent.includes(S)) {
                                    L.next = 150;
                                    break
                                }
                                return L.next = 148,
                                (0,
                                vr.put)(nu({
                                    conversationId: S
                                }));
                            case 148:
                                return L.next = 150,
                                (0,
                                vr.put)(So({
                                    validConversationCount: k + 1
                                }));
                            case 150:
                                return L.abrupt("break", 377);
                            case 151:
                                return L.next = 153,
                                (0,
                                vr.select)(ga);
                            case 153:
                                if (z = L.sent,
                                n !== s) {
                                    L.next = 172;
                                    break
                                }
                                if (!b) {
                                    L.next = 163;
                                    break
                                }
                                if (z) {
                                    L.next = 161;
                                    break
                                }
                                return L.next = 159,
                                (0,
                                vr.put)(ze({
                                    type: "CONFIRM_MODAL",
                                    title: zm("modal.title.auto_switch_to_hangup"),
                                    actions: {
                                        confirm: {
                                            label: zm("common.close"),
                                            handler: function() {
                                                F.store.dispatch(Je()),
                                                F.store.dispatch(Eo({
                                                    showAutoHangupModal: !1
                                                }))
                                            }
                                        }
                                    },
                                    additions: {
                                        content: zm("modal.content.auto_switch_to_hangup")
                                    }
                                }));
                            case 159:
                                return L.next = 161,
                                (0,
                                vr.put)(Eo({
                                    showAutoHangupModal: !0
                                }));
                            case 161:
                                L.next = 169;
                                break;
                            case 163:
                                if ("working" !== d) {
                                    L.next = 169;
                                    break
                                }
                                if (!z) {
                                    L.next = 169;
                                    break
                                }
                                return L.next = 167,
                                (0,
                                vr.put)(Je());
                            case 167:
                                return L.next = 169,
                                (0,
                                vr.put)(Eo({
                                    showAutoHangupModal: !1
                                }));
                            case 169:
                                if (!v) {
                                    L.next = 172;
                                    break
                                }
                                return L.next = 172,
                                (0,
                                vr.put)(ze({
                                    type: "CONFIRM_MODAL",
                                    title: zm("common.confirm"),
                                    additions: {
                                        content: {
                                            key: "modal.content.switch_status",
                                            vars: {
                                                status: zm("common.".concat("working" === d ? "online" : "offline"))
                                            }
                                        }
                                    },
                                    actions: {
                                        confirm: {
                                            label: zm("common.ok")
                                        }
                                    }
                                }));
                            case 172:
                                return L.next = 174,
                                (0,
                                vr.put)(nb("users", {
                                    userId: s,
                                    status: d
                                }));
                            case 174:
                                return L.abrupt("break", 377);
                            case 175:
                                if (!P) {
                                    L.next = 178;
                                    break
                                }
                                return L.next = 178,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    flag: p
                                }));
                            case 178:
                                return L.abrupt("break", 377);
                            case 179:
                                return L.next = 181,
                                (0,
                                vr.call)(Ys);
                            case 181:
                                return L.abrupt("break", 377);
                            case 182:
                                return L.next = 184,
                                (0,
                                vr.put)(nb("rateCards", {
                                    cardId: l,
                                    status: d
                                }));
                            case 184:
                                return L.abrupt("break", 377);
                            case 185:
                                return L.next = 187,
                                (0,
                                vr.put)(tI());
                            case 187:
                                return L.abrupt("break", 377);
                            case 188:
                                if (!P) {
                                    L.next = 191;
                                    break
                                }
                                return L.next = 191,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    pinned: !0
                                }));
                            case 191:
                                return L.abrupt("break", 377);
                            case 192:
                                if (!P) {
                                    L.next = 195;
                                    break
                                }
                                return L.next = 195,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    pinned: !1
                                }));
                            case 195:
                                if (a !== S || "Pinned" !== w) {
                                    L.next = 198;
                                    break
                                }
                                return L.next = 198,
                                (0,
                                vr.put)(Uu());
                            case 198:
                                return L.abrupt("break", 377);
                            case 199:
                                if (!(J = O.length)) {
                                    L.next = 221;
                                    break
                                }
                                return X = {},
                                O.forEach((function(e) {
                                    X[e] = {
                                        unread_count: 0
                                    }
                                }
                                )),
                                L.next = 205,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: X
                                }));
                            case 205:
                                if (L.t1 = Object,
                                L.t2 = {},
                                L.t3 = {
                                    count: J,
                                    type: dn.MASS_READ
                                },
                                !_) {
                                    L.next = 216;
                                    break
                                }
                                return L.t5 = _,
                                L.next = 212,
                                (0,
                                vr.select)(yO(_));
                            case 212:
                                L.t6 = L.sent.country,
                                L.t4 = {
                                    shopId: L.t5,
                                    shopRegion: L.t6
                                },
                                L.next = 217;
                                break;
                            case 216:
                                L.t4 = {};
                            case 217:
                                return L.t7 = L.t4,
                                $ = L.t1.assign.call(L.t1, L.t2, L.t3, L.t7),
                                L.next = 221,
                                (0,
                                vr.put)(Tn($));
                            case 221:
                                return L.abrupt("break", 377);
                            case 222:
                                if (Z = O.length,
                                !O.length) {
                                    L.next = 244;
                                    break
                                }
                                return ee = {},
                                O.forEach((function(e) {
                                    ee[e] = {
                                        unread_count: 1
                                    }
                                }
                                )),
                                L.next = 228,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: ee
                                }));
                            case 228:
                                if (L.t8 = Object,
                                L.t9 = {},
                                L.t10 = {
                                    count: Z,
                                    type: dn.MASS_UNREAD
                                },
                                !_) {
                                    L.next = 239;
                                    break
                                }
                                return L.t12 = _,
                                L.next = 235,
                                (0,
                                vr.select)(yO(_));
                            case 235:
                                L.t13 = L.sent.country,
                                L.t11 = {
                                    shopId: L.t12,
                                    shopRegion: L.t13
                                },
                                L.next = 240;
                                break;
                            case 239:
                                L.t11 = {};
                            case 240:
                                return L.t14 = L.t11,
                                te = L.t8.assign.call(L.t8, L.t9, L.t10, L.t14),
                                L.next = 244,
                                (0,
                                vr.put)(Tn(te));
                            case 244:
                                return L.abrupt("break", 377);
                            case 245:
                                if (!O.length) {
                                    L.next = 250;
                                    break
                                }
                                return re = {},
                                O.forEach((function(e) {
                                    re[e] = {
                                        pinned: !0
                                    }
                                }
                                )),
                                L.next = 250,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: re
                                }));
                            case 250:
                                return L.abrupt("break", 377);
                            case 251:
                                if (!O.length) {
                                    L.next = 256;
                                    break
                                }
                                return ne = {},
                                O.forEach((function(e) {
                                    ne[e] = {
                                        pinned: !1
                                    }
                                }
                                )),
                                L.next = 256,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: ne
                                }));
                            case 256:
                                return L.abrupt("break", 377);
                            case 257:
                                return L.next = 259,
                                (0,
                                vr.put)(ou({
                                    direction: "latest"
                                }));
                            case 259:
                                if (!O.length) {
                                    L.next = 292;
                                    break
                                }
                                return L.next = 263,
                                (0,
                                vr.select)(ei);
                            case 263:
                                if (ae = L.sent,
                                oe = ae.filter((function(e) {
                                    return O.includes(e)
                                }
                                )),
                                !oe.length) {
                                    L.next = 268;
                                    break
                                }
                                return L.next = 268,
                                (0,
                                vr.put)(So({
                                    validConversationCount: k + oe.length
                                }));
                            case 268:
                                ce = {},
                                se = Jm(O),
                                L.prev = 270,
                                se.s();
                            case 272:
                                if ((ie = se.n()).done) {
                                    L.next = 280;
                                    break
                                }
                                if (ue = ie.value,
                                ce[ue] = {
                                    status: "activated"
                                },
                                a !== ue) {
                                    L.next = 278;
                                    break
                                }
                                return L.next = 278,
                                Co().put(Ao().fetchMessagesRequested({
                                    payload: {
                                        conversationId: a,
                                        reset: !0
                                    },
                                    isLazy: !0
                                }));
                            case 278:
                                L.next = 272;
                                break;
                            case 280:
                                L.next = 285;
                                break;
                            case 282:
                                L.prev = 282,
                                L.t15 = L.catch(270),
                                se.e(L.t15);
                            case 285:
                                return L.prev = 285,
                                se.f(),
                                L.finish(285);
                            case 288:
                                return L.next = 290,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: ce
                                }));
                            case 290:
                                return L.next = 292,
                                (0,
                                vr.call)(ab);
                            case 292:
                                return L.abrupt("break", 377);
                            case 293:
                                if (!(pe = O.length)) {
                                    L.next = 326;
                                    break
                                }
                                return L.next = 297,
                                (0,
                                vr.put)(So({
                                    validConversationCount: k - pe < 0 ? 0 : k - pe
                                }));
                            case 297:
                                return de = {},
                                le = [],
                                L.next = 301,
                                (0,
                                vr.select)(Vi(O));
                            case 301:
                                return fe = L.sent,
                                _e = fe.filter((function(e) {
                                    return (null == e ? void 0 : e.unread_count) > 0
                                }
                                )),
                                O.forEach((function(e) {
                                    de[e] = {
                                        status: "closed",
                                        unread_count: 0
                                    },
                                    le.push((0,
                                    vr.put)(oy({
                                        conversationId: e
                                    }))),
                                    Co().call(Ao().deleteFakingMessages({
                                        payload: {
                                            conversationId: e
                                        }
                                    }))
                                }
                                )),
                                L.next = 306,
                                (0,
                                vr.all)(le);
                            case 306:
                                return L.next = 308,
                                (0,
                                vr.put)(Zr({
                                    name: "conversations",
                                    records: de
                                }));
                            case 308:
                                if (L.t16 = Object,
                                L.t17 = {},
                                L.t18 = {
                                    count: _e.length,
                                    type: dn.MASS_CLOSE
                                },
                                !_) {
                                    L.next = 319;
                                    break
                                }
                                return L.t20 = _,
                                L.next = 315,
                                (0,
                                vr.select)(yO(_));
                            case 315:
                                L.t21 = L.sent.country,
                                L.t19 = {
                                    shopId: L.t20,
                                    shopRegion: L.t21
                                },
                                L.next = 320;
                                break;
                            case 319:
                                L.t19 = {};
                            case 320:
                                return L.t22 = L.t19,
                                Ee = L.t16.assign.call(L.t16, L.t17, L.t18, L.t22),
                                L.next = 324,
                                (0,
                                vr.put)(Tn(Ee));
                            case 324:
                                return L.next = 326,
                                (0,
                                vr.put)(Am({
                                    conversationIds: O
                                }));
                            case 326:
                                return L.abrupt("break", 377);
                            case 327:
                                return Se = r.content,
                                L.next = 330,
                                (0,
                                vr.select)(Dg(Se.vid));
                            case 330:
                                return he = L.sent,
                                L.next = 333,
                                (0,
                                vr.select)(Ag(he));
                            case 333:
                                return L.sent.status || (Oe = Se.status,
                                ve = Se.vid,
                                "successful" === Oe && (ge = performance.getEntriesByName("REPORT_UPLOAD_".concat(ve), "mark")[0]) && (performance.mark("SERVICE_DONE_".concat(ve)),
                                Te = performance.getEntriesByName("SERVICE_DONE_".concat(ve))[0].startTime - ge.startTime,
                                performance.clearMarks("REPORT_UPLOAD_".concat(ve)),
                                performance.clearMarks("SERVICE_DONE_".concat(ve)),
                                er(Xt.SERVICE_DONE, Te)),
                                Co().put(Ao().updateVideoInfo({
                                    payload: {
                                        id: he,
                                        info: {
                                            status: Oe,
                                            uploadResult: Se
                                        }
                                    }
                                }))),
                                L.abrupt("break", 377);
                            case 336:
                                if ("Unreplied" !== w) {
                                    L.next = 343;
                                    break
                                }
                                return L.next = 339,
                                (0,
                                vr.select)(ei);
                            case 339:
                                if (!L.sent.includes(S)) {
                                    L.next = 343;
                                    break
                                }
                                return L.next = 343,
                                (0,
                                vr.put)(Xr({
                                    name: "conversations",
                                    id: S,
                                    record: {
                                        unreplied: c === Lp
                                    }
                                }));
                            case 343:
                                return L.abrupt("break", 377);
                            case 344:
                                return L.next = 346,
                                (0,
                                vr.select)(Pg(g));
                            case 346:
                                if (!(me = L.sent)) {
                                    L.next = 359;
                                    break
                                }
                                return be = me.message_option | N.MessageOption.MSG_OPT_DELETE,
                                ye = C("messages", Zm(Zm({}, me), {}, {
                                    message_option: be
                                })),
                                Re = ye.entities,
                                L.next = 352,
                                (0,
                                vr.put)(Jr({
                                    entities: Re
                                }));
                            case 352:
                                if (![N.MessageTypes.MSG_TYPE_VIDEO, N.MessageTypes.MSG_TYPE_IMAGE, N.MessageTypes.MSG_TYPE_IMAGE_WITH_TEXT].includes(me.type)) {
                                    L.next = 359;
                                    break
                                }
                                return L.next = 355,
                                (0,
                                vr.select)((function(e) {
                                    return e.mediaPreviewModalReducer && e.mediaPreviewModalReducer.currentPreviewMediaId
                                }
                                ));
                            case 355:
                                if (L.sent !== g) {
                                    L.next = 359;
                                    break
                                }
                                return L.next = 359,
                                (0,
                                vr.put)(_y());
                            case 359:
                                if (!y || y.latest_message_id !== g) {
                                    L.next = 364;
                                    break
                                }
                                return Ce = y.last_message_option | N.MessageOption.MSG_OPT_DELETE,
                                Ie = C("conversations", Zm(Zm({}, y), {}, {
                                    last_message_option: Ce,
                                    latest_message_content: {
                                        text: ""
                                    },
                                    latest_message_from_id: i
                                })),
                                Ae = Ie.entities,
                                L.next = 364,
                                (0,
                                vr.put)(Jr({
                                    entities: Ae
                                }));
                            case 364:
                                return L.abrupt("break", 377);
                            case 365:
                                if (!P) {
                                    L.next = 368;
                                    break
                                }
                                return L.next = 368,
                                (0,
                                vr.put)(ZR({
                                    faqSessionId: T,
                                    sessionExpiryTime: m,
                                    conversationId: S
                                }));
                            case 368:
                                return L.abrupt("break", 377);
                            case 369:
                                if (!P) {
                                    L.next = 372;
                                    break
                                }
                                return L.next = 372,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    mute: !0
                                }));
                            case 372:
                                return L.abrupt("break", 377);
                            case 373:
                                if (!P) {
                                    L.next = 376;
                                    break
                                }
                                return L.next = 376,
                                (0,
                                vr.put)(nb("conversations", {
                                    conversation: y,
                                    mute: !1
                                }));
                            case 376:
                                return L.abrupt("break", 377);
                            case 377:
                                L.next = 382;
                                break;
                            case 379:
                                if ("message" !== t) {
                                    L.next = 382;
                                    break
                                }
                                return L.next = 382,
                                (0,
                                vr.call)(mp, {
                                    payload: r,
                                    type: N.ConversationTypeEnum.Normal
                                });
                            case 382:
                            case "end":
                                return L.stop()
                            }
                    }
                    ), tb, null, [[270, 282, 285, 288]])
                }
                function cb(e) {
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                if (3 !== e.payload.biz_id) {
                                    t.next = 5;
                                    break
                                }
                                return t.next = 4,
                                (0,
                                vr.call)(JS, e);
                            case 4:
                                return t.abrupt("return");
                            case 5:
                                return t.next = 7,
                                (0,
                                vr.call)(ob, e);
                            case 7:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), rb)
                }
                function sb(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function ib(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? sb(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : sb(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var ub, pb, db = function(e, t, r) {
                    var n = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3]
                      , a = e.exceptionType
                      , o = e.reconnectCount
                      , c = void 0 === o ? 0 : o
                      , s = e.exceptionReason
                      , i = void 0 === s ? "" : s
                      , u = {
                        status: -1,
                        userId: t,
                        userType: r
                    };
                    if (a === N.SocketConnectionStatus.DISCONNECT) {
                        var p = c <= 5 ? "s" : c <= 10 ? "m" : "l";
                        u = ib(ib({}, u), {}, {
                            reconnectType: p,
                            exceptionReason: i,
                            exceptionType: a
                        })
                    } else
                        u = ib(ib({}, u), {}, {
                            exceptionType: a
                        });
                    er(Xt[n ? "SOCKET_FAILED" : "CHATWS_SOCKET_FAILED"], 0, u)
                }, lb = P(439).t, fb = ["type"], _b = L().mark(hb), Eb = L().mark(Ob), Sb = function(e) {
                    return Bm({
                        feedback: {
                            status: e,
                            network: !0,
                            content: lb("common.toast.".concat(e))
                        }
                    })
                };
                function hb() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if (!window.__WEBCHAT_LOGIN__) {
                                    e.next = 19;
                                    break
                                }
                                return e.next = 3,
                                (0,
                                vr.select)(Zn);
                            case 3:
                                if (!e.sent) {
                                    e.next = 19;
                                    break
                                }
                                return e.next = 7,
                                (0,
                                vr.select)(Xn);
                            case 7:
                                if ("working" !== (e.sent || {}).distribution_status) {
                                    e.next = 19;
                                    break
                                }
                                return e.prev = 10,
                                e.next = 13,
                                (0,
                                vr.call)(fr, {
                                    method: "POST",
                                    subServer: "coreapi",
                                    parent: "user",
                                    resource: "report_event",
                                    payload: JSON.stringify({
                                        event_type: "login"
                                    })
                                });
                            case 13:
                                window.__WEBCHAT_LOGIN__ = !1,
                                e.next = 19;
                                break;
                            case 16:
                                e.prev = 16,
                                e.t0 = e.catch(10),
                                window.__WEBCHAT_LOGIN__ = !1;
                            case 19:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), _b, null, [[10, 16]])
                }
                function Ob(e, t) {
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                r.t0 = e,
                                r.next = r.t0 === N.ShareDataType.UPDATE_SETTING ? 3 : r.t0 === N.ShareDataType.UPDATE_OFFLINE_SETTING ? 6 : r.t0 === N.ShareDataType.UNREAD ? 9 : 14;
                                break;
                            case 3:
                                return r.next = 5,
                                (0,
                                vr.put)(jT({
                                    params: t
                                }));
                            case 5:
                            case 8:
                            case 13:
                                return r.abrupt("break", 14);
                            case 6:
                                return r.next = 8,
                                (0,
                                vr.put)({
                                    type: "UPDATE_OFFLINE_REPLY_REQUESTED",
                                    payload: t
                                });
                            case 9:
                                return r.next = 11,
                                (0,
                                vr.put)(mn({
                                    count: t.total_unread_count
                                }));
                            case 11:
                                return r.next = 13,
                                (0,
                                vr.put)(Rn({
                                    regionUnreadCount: t.region_unread_count
                                }));
                            case 14:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), Eb)
                }
                function vb(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function gb(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? vb(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : vb(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                ub = L().mark((function e(t) {
                    var r, n, a, o, c, s;
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if (201 === (r = t.status)) {
                                    e.next = 11;
                                    break
                                }
                                return e.next = 4,
                                (0,
                                N.getItem)("session");
                            case 4:
                                n = e.sent,
                                a = n && n.user,
                                c = (o = a || {}).id,
                                s = o.type,
                                er(Xt.SOCKET_FAILED, 0, {
                                    status: r
                                }),
                                sr({
                                    message: "Socket Login Failed",
                                    name: It.SOCKET_LOGIN_FAILED,
                                    tag: At.SOCKET_LOGIN_FAILED,
                                    extra: {
                                        error: JSON.stringify(t),
                                        status: r,
                                        userId: c,
                                        userType: s,
                                        time: new Date
                                    }
                                }),
                                e.next = 13;
                                break;
                            case 11:
                                return e.next = 13,
                                (0,
                                vr.spawn)(hb);
                            case 13:
                                if (401 !== r) {
                                    e.next = 18;
                                    break
                                }
                                return e.next = 16,
                                (0,
                                vr.call)(Bs);
                            case 16:
                                e.next = 19;
                                break;
                            case 18:
                                201 !== r && te.reconnect();
                            case 19:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), e)
                }
                )),
                pb = L().mark((function e(t) {
                    var r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g;
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                if (r = t.event,
                                n = t.payload,
                                "reportUPLPoint" !== r) {
                                    e.next = 9;
                                    break
                                }
                                return e.next = 4,
                                (0,
                                N.getItem)("session");
                            case 4:
                                c = e.sent,
                                s = c && c.user,
                                u = (i = s || {}).id,
                                p = i.type,
                                a = u,
                                o = p;
                            case 9:
                                e.t0 = r,
                                e.next = e.t0 === N.SocketConnectionStatus.CONNECT ? 12 : e.t0 === N.SocketConnectionStatus.DISCONNECT ? 25 : e.t0 === N.SocketConnectionStatus.RECONNECT_ERROR ? 28 : e.t0 === N.SocketConnectionStatus.RECONNECTING ? 32 : e.t0 === N.SocketConnectionStatus.RECONNECT ? 35 : "emit" === e.t0 ? 38 : "close" === e.t0 ? 43 : "ack" === e.t0 ? 46 : "reportUPLPoint" === e.t0 ? 48 : "reportConnections" === e.t0 ? 50 : "setMainPage" === e.t0 ? 52 : "shareApiData" === e.t0 ? 55 : 59;
                                break;
                            case 12:
                                return e.next = 14,
                                (0,
                                N.getItem)("session");
                            case 14:
                                if (d = e.sent,
                                l = d && d.p_token,
                                f = d && d.user,
                                !l || !f) {
                                    e.next = 24;
                                    break
                                }
                                return e.next = 20,
                                (0,
                                vr.call)(re, {
                                    token: l,
                                    account_id: f.uid
                                });
                            case 20:
                                if (_ = e.sent,
                                ee) {
                                    e.next = 24;
                                    break
                                }
                                return e.next = 24,
                                (0,
                                vr.call)(ub, _);
                            case 24:
                                return e.abrupt("break", 59);
                            case 25:
                                return e.next = 27,
                                (0,
                                vr.put)(Sb("error"));
                            case 27:
                                return e.abrupt("break", 59);
                            case 28:
                                return er(Xt.SOCKET_FAILED, 0, {
                                    status: -1
                                }),
                                e.next = 31,
                                (0,
                                vr.put)(Sb("error"));
                            case 31:
                                return e.abrupt("break", 59);
                            case 32:
                                return e.next = 34,
                                (0,
                                vr.put)(Sb("pending"));
                            case 34:
                                return e.abrupt("break", 59);
                            case 35:
                                return e.next = 37,
                                (0,
                                vr.put)(Sb("resolved"));
                            case 37:
                                return e.abrupt("break", 59);
                            case 38:
                                if (S = (E = n).type,
                                h = E.response,
                                "login" !== S) {
                                    e.next = 42;
                                    break
                                }
                                return e.next = 42,
                                (0,
                                vr.call)(ub, h);
                            case 42:
                                return e.abrupt("break", 59);
                            case 43:
                                return e.next = 45,
                                (0,
                                vr.call)(Bs, !1);
                            case 45:
                                return e.abrupt("break", 59);
                            case 46:
                                return te.dispatch(N.CustomShareEvent.ACK),
                                e.abrupt("break", 59);
                            case 48:
                                return db(n, a, o),
                                e.abrupt("break", 59);
                            case 50:
                                return er(Xt.SHARED_TABS, n),
                                e.abrupt("break", 59);
                            case 52:
                                return e.next = 54,
                                (0,
                                vr.put)(Yc({
                                    isMainPage: n.isMainPage
                                }));
                            case 54:
                                return e.abrupt("break", 59);
                            case 55:
                                return v = (O = n).type,
                                g = QT(O, fb),
                                e.next = 58,
                                (0,
                                vr.call)(Ob, v, g);
                            case 58:
                                return e.abrupt("break", 59);
                            case 59:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), e)
                }
                ));
                var Tb = L().mark(Cb)
                  , mb = L().mark(Ib)
                  , bb = (0,
                He.createActions)(e({}, xm.UPDATE_NOTICES_COUNT, (function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                      , t = e.type
                      , r = void 0 === t ? "add" : t;
                    return {
                        type: r
                    }
                }
                )))
                  , yb = bb.updateNoticesCount
                  , Rb = function() {
                    return (0,
                    Km.eventChannel)((function(e) {
                        return ee ? te.on("message", (function(t) {
                            var r = t.data
                              , n = r.message_type
                              , a = r.message_content
                              , o = r.worker_event
                              , c = r.payload;
                            e(o ? {
                                event: o,
                                payload: void 0 === c ? {} : c
                            } : {
                                pushedType: n,
                                payload: JSON.parse(a)
                            })
                        }
                        )) : (Object.values(N.SocketConnectionStatus).forEach((function(t) {
                            te.on(t, (function() {
                                return e({
                                    event: t
                                })
                            }
                            ))
                        }
                        )),
                        te.on("message", (function(t) {
                            if (t) {
                                var r = t.message_type
                                  , n = t.message_content;
                                e({
                                    pushedType: r,
                                    payload: JSON.parse(n)
                                })
                            }
                        }
                        ))),
                        function() {}
                    }
                    ))
                };
                function Cb(e) {
                    var t, r, n;
                    return L().wrap((function(a) {
                        for (; ; )
                            switch (a.prev = a.next) {
                            case 0:
                                if (t = e.event,
                                r = e.pushedType,
                                n = e.payload,
                                !t) {
                                    a.next = 6;
                                    break
                                }
                                return a.next = 4,
                                (0,
                                vr.call)(pb, {
                                    event: t,
                                    payload: n
                                });
                            case 4:
                                a.next = 11;
                                break;
                            case 6:
                                if (!r) {
                                    a.next = 11;
                                    break
                                }
                                return a.next = 9,
                                (0,
                                vr.put)(yb());
                            case 9:
                                return a.next = 11,
                                (0,
                                vr.call)(cb, {
                                    type: r,
                                    payload: n
                                });
                            case 11:
                            case "end":
                                return a.stop()
                            }
                    }
                    ), Tb)
                }
                function Ib() {
                    var e;
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2,
                                (0,
                                vr.call)(Rb);
                            case 2:
                                return e = t.sent,
                                t.next = 5,
                                (0,
                                vr.takeEvery)(e, Cb);
                            case 5:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), mb)
                }
                const Ab = e({}, xm.UPDATE_NOTICES_COUNT, (function(e, t) {
                    var r = t.payload.type;
                    return gb(gb({}, e), {}, {
                        noticesCount: "add" === r ? e.noticesCount + 1 : 0
                    })
                }
                ));
                function Db(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Pb(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Db(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Db(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var wb = L().mark(jb)
                  , xb = L().mark(Lb)
                  , Nb = L().mark(Fb)
                  , kb = !1
                  , Ub = (0,
                He.createActions)(e({}, xm.UPDATE_C_S_SOCKET_STATUS, (function(e) {
                    return {
                        csSocketLogined: e.csSocketLogined,
                        csSocketConnected: e.csSocketConnected
                    }
                }
                ))).updateCSSocketStatus
                  , Mb = function(e) {
                    return (0,
                    Km.eventChannel)((function(t) {
                        return rP ? e.on("message", (function(e) {
                            var r = e.data
                              , n = r.worker_event
                              , a = r.payload;
                            n && t({
                                event: n,
                                payload: void 0 === a ? {} : a
                            })
                        }
                        )) : (Object.values(N.SocketConnectionStatus).forEach((function(r) {
                            e.on(r, (function(e) {
                                return t({
                                    event: r,
                                    payload: e
                                })
                            }
                            ))
                        }
                        )),
                        e.on("message", (function(e) {
                            e && t({
                                event: "message",
                                payload: e
                            })
                        }
                        ))),
                        function() {}
                    }
                    ))
                };
                function jb(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                if (t = e.event,
                                r = e.payload,
                                !t) {
                                    c.next = 30;
                                    break
                                }
                                c.t0 = t,
                                c.next = c.t0 === N.SocketConnectionStatus.CONNECT ? 5 : c.t0 === N.SocketConnectionStatus.DISCONNECT ? 9 : "ack" === c.t0 ? 19 : "reportUPLPoint" === c.t0 ? 21 : "message" === c.t0 ? 22 : 30;
                                break;
                            case 5:
                                return c.next = 7,
                                (0,
                                vr.put)(Ub({
                                    csSocketConnected: !0
                                }));
                            case 7:
                                return aP(),
                                c.abrupt("break", 30);
                            case 9:
                                return c.next = 11,
                                (0,
                                vr.put)(Ub({
                                    csSocketConnected: !1
                                }));
                            case 11:
                                if (kb) {
                                    c.next = 17;
                                    break
                                }
                                return c.next = 14,
                                (0,
                                vr.delay)(3e3);
                            case 14:
                                nP.connect(),
                                c.next = 18;
                                break;
                            case 17:
                                kb = !1;
                            case 18:
                                return c.abrupt("break", 30);
                            case 19:
                                return nP.dispatch("ack"),
                                c.abrupt("break", 30);
                            case 21:
                                return c.abrupt("break", 30);
                            case 22:
                                if ("string" != typeof r) {
                                    c.next = 30;
                                    break
                                }
                                if (n = r.indexOf("{"),
                                "13" !== r.slice(0, n)) {
                                    c.next = 30;
                                    break
                                }
                                a = !1;
                                try {
                                    o = JSON.parse(r.slice(n)),
                                    a = 0 === o.errcode
                                } catch (e) {}
                                return c.next = 30,
                                (0,
                                vr.put)(Ub({
                                    csSocketLogined: a
                                }));
                            case 30:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), wb)
                }
                function Lb() {
                    var e;
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2,
                                (0,
                                vr.call)(Mb, nP);
                            case 2:
                                return e = t.sent,
                                t.next = 5,
                                (0,
                                vr.takeEvery)(e, jb);
                            case 5:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), xb)
                }
                function Fb() {
                    var e, t, r;
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                e = "session";
                            case 1:
                                return t = 60 * Math.floor(10 * Math.random() + 20) * 1e3,
                                n.next = 5,
                                (0,
                                vr.delay)(t);
                            case 5:
                                return n.next = 7,
                                (0,
                                N.getItem)(e);
                            case 7:
                                if (!(r = n.sent) || !r.user || r.user.type !== N.AccountType.SELLER) {
                                    n.next = 15;
                                    break
                                }
                                if (!nP) {
                                    n.next = 15;
                                    break
                                }
                                return kb = !0,
                                nP.close(),
                                n.next = 14,
                                (0,
                                vr.delay)(1e3);
                            case 14:
                                nP.connect();
                            case 15:
                                n.next = 1;
                                break;
                            case 17:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), Nb)
                }
                const Gb = e({}, xm.UPDATE_C_S_SOCKET_STATUS, (function(e, t) {
                    var r = t.payload
                      , n = r.csSocketLogined
                      , a = r.csSocketConnected
                      , o = {};
                    return void 0 !== n && (o.csSocketLogined = n),
                    void 0 !== a && (o.csSocketConnected = a),
                    Pb(Pb({}, e), o)
                }
                ));
                var Hb = L().mark(Vb);
                function Vb() {
                    var e, t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                e = "session";
                            case 1:
                                return c.next = 4,
                                (0,
                                vr.delay)(6e4);
                            case 4:
                                return c.next = 6,
                                (0,
                                N.getItem)(e);
                            case 6:
                                return t = c.sent,
                                c.next = 9,
                                (0,
                                vr.select)(zb);
                            case 9:
                                return r = c.sent,
                                c.next = 12,
                                (0,
                                vr.select)(ri);
                            case 12:
                                return n = c.sent,
                                c.next = 15,
                                (0,
                                vr.select)(Jb);
                            case 15:
                                return a = c.sent,
                                c.next = 18,
                                (0,
                                vr.select)(Xb);
                            case 18:
                                if (o = c.sent,
                                !t || !t.token) {
                                    c.next = 25;
                                    break
                                }
                                return ne({
                                    noticesCount: r,
                                    readMissedCount: n,
                                    csSocketLogined: a,
                                    csSocketConnected: o
                                }),
                                c.next = 23,
                                (0,
                                vr.put)(Eu({
                                    count: 0
                                }));
                            case 23:
                                return c.next = 25,
                                (0,
                                vr.put)(yb({
                                    type: "reset"
                                }));
                            case 25:
                                c.next = 1;
                                break;
                            case 27:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), Hb)
                }
                function Bb(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Yb(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Bb(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Bb(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var qb, Qb = [Qm, Vb, Ib, Lb, Fb], Wb = (0,
                He.handleActions)(Yb(Yb(Yb({}, Wm), Ab), Gb), {
                    feedback: null,
                    noticesCount: 0,
                    csSocketLogined: !1,
                    csSocketConnected: !1
                }), Kb = function(e) {
                    return e.socketReducer.feedback
                }, zb = function(e) {
                    return e.socketReducer.noticesCount
                }, Jb = function(e) {
                    return e.socketReducer.csSocketLogined
                }, Xb = function(e) {
                    return e.socketReducer.csSocketConnected
                };
                function $b(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var Zb, ey = function(e) {
                    return e.mediaPreviewerReducer.mediaMap
                }, ty = (0,
                Ye.createSelector)(oi, ey, (function(e, t) {
                    return t[e] || []
                }
                )), ry = (0,
                He.createActions)({
                    ADD_MEDIA_FILE: function(e) {
                        return {
                            medias: e.medias,
                            conversationId: e.conversationId
                        }
                    },
                    DELETE_MEDIA_FILE: function(e) {
                        return {
                            id: e.id,
                            conversationId: e.conversationId
                        }
                    },
                    CLEAR_MEDIA_FILE: function(e) {
                        return {
                            conversationId: e.conversationId
                        }
                    }
                }), ny = ry.addMediaFile, ay = ry.deleteMediaFile, oy = ry.clearMediaFile, cy = (e(qb = {}, ny, Rp),
                e(qb, ay, Cp),
                e(qb, oy, Ip),
                qb), sy = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? $b(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : $b(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, cy), {
                    mediaMap: {}
                });
                function iy(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var uy, py = function(e) {
                    return e.mediaPreviewModalReducer && e.mediaPreviewModalReducer.showMediaPreviewModal
                }, dy = function(e) {
                    return e.mediaPreviewModalReducer && e.mediaPreviewModalReducer.currentPreviewMediaId
                }, ly = (0,
                He.createActions)({
                    SHOW_MEDIA_PREVIEW_MODAL_REQUESTED: function(e) {
                        return {
                            messageId: e.messageId
                        }
                    },
                    CLOSE_MEDIA_PREVIEW_MODAL_REQUESTED: function() {
                        return {}
                    }
                }), fy = ly.showMediaPreviewModalRequested, _y = ly.closeMediaPreviewModalRequested, Ey = (e(Zb = {}, fy, (function(e, t) {
                    return {
                        showMediaPreviewModal: !0,
                        currentPreviewMediaId: t.payload.messageId
                    }
                }
                )),
                e(Zb, _y, (function(e) {
                    return {
                        showMediaPreviewModal: !1,
                        currentPreviewMediaId: null
                    }
                }
                )),
                Zb), Sy = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? iy(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : iy(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, Ey), {
                    showMediaPreviewModal: !1,
                    currentPreviewMediaId: null
                }), hy = function(e) {
                    return e.translatePreferenceReducer.translationSettings
                }, Oy = function(e) {
                    return e.translatePreferenceReducer.fetchSettingsStatus
                }, vy = function(e) {
                    return e.translatePreferenceReducer.updateStatus
                };
                !function(e) {
                    e.FETCH_SHOP_TRANSLATION_SETTINGS = "FETCH_SHOP_TRANSLATION_SETTINGS",
                    e.UPDATE_SHOP_TRANSLATION_SETTINGS = "UPDATE_SHOP_TRANSLATION_SETTINGS",
                    e.UPDATE_FETCH_STATUS = "UPDATE_FETCH_STATUS",
                    e.UPDATE_SETTING_PREFERENCE_STATUS = "UPDATE_SETTING_PREFERENCE_STATUS",
                    e.UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD = "UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD"
                }(uy || (uy = {}));
                var gy, Ty, my = P(439).t;
                function by(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function yy(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? by(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : by(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var Ry = L().mark(ky)
                  , Cy = L().mark(Uy)
                  , Iy = L().mark(My)
                  , Ay = (0,
                He.createActions)((e(gy = {}, uy.FETCH_SHOP_TRANSLATION_SETTINGS, (function(e) {
                    return {
                        shopId: e.shopId
                    }
                }
                )),
                e(gy, uy.UPDATE_SHOP_TRANSLATION_SETTINGS, (function(e) {
                    return {
                        settings: e.settings
                    }
                }
                )),
                e(gy, uy.UPDATE_FETCH_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(gy, uy.UPDATE_SETTING_PREFERENCE_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(gy, uy.UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD, (function(e) {
                    return {
                        shopId: e.shopId,
                        source: e.source,
                        translationPreference: e.translationPreference,
                        autoTranslationStatus: e.autoTranslationStatus,
                        inTranslationFeedbackWhitelist: e.inTranslationFeedbackWhitelist
                    }
                }
                )),
                gy))
                  , Dy = Ay.fetchShopTranslationSettings
                  , Py = Ay.updateShopTranslationSettings
                  , wy = Ay.updateFetchStatus
                  , xy = Ay.updateSettingPreferenceStatus
                  , Ny = Ay.updateShopTranslationSettingsRecord;
                function ky(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.payload.shopId,
                                s.prev = 1,
                                s.next = 4,
                                (0,
                                vr.put)(wy({
                                    status: "loading"
                                }));
                            case 4:
                                return s.next = 6,
                                (0,
                                vr.call)(fr, {
                                    subServer: "workbenchapi",
                                    parent: "shop",
                                    resource: "setting",
                                    params: {
                                        shop_id: t
                                    }
                                });
                            case 6:
                                return r = s.sent,
                                n = r.source,
                                a = r.translation_preference,
                                o = r.auto_translation_status,
                                c = r.in_translation_feedback_whitelist,
                                s.next = 13,
                                (0,
                                vr.put)(wy({
                                    status: "succeed"
                                }));
                            case 13:
                                return s.next = 15,
                                (0,
                                vr.put)(Ny({
                                    shopId: t,
                                    source: n,
                                    translationPreference: a,
                                    autoTranslationStatus: o,
                                    inTranslationFeedbackWhitelist: c
                                }));
                            case 15:
                                s.next = 21;
                                break;
                            case 17:
                                return s.prev = 17,
                                s.t0 = s.catch(1),
                                s.next = 21,
                                (0,
                                vr.put)(wy({
                                    status: "failed"
                                }));
                            case 21:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), Ry, null, [[1, 17]])
                }
                function Uy(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return t = e.payload.settings,
                                o.prev = 1,
                                o.next = 4,
                                (0,
                                vr.put)(eD({
                                    event_time: (Date.parse(new Date) / 1e3).toString(),
                                    url: window.location.href
                                }));
                            case 4:
                                return o.next = 6,
                                (0,
                                vr.put)(xy({
                                    status: ""
                                }));
                            case 6:
                                return r = t.shop_id,
                                n = t.auto_translation_status,
                                a = t.translation_preference,
                                o.next = 9,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    subServer: "workbenchapi",
                                    parent: "shop",
                                    resource: "setting",
                                    payload: JSON.stringify(t)
                                });
                            case 9:
                                return o.next = 11,
                                (0,
                                vr.put)(Ny({
                                    shopId: r,
                                    translationPreference: a,
                                    autoTranslationStatus: n
                                }));
                            case 11:
                                return o.next = 13,
                                (0,
                                vr.call)(Qv, Gv({
                                    toast: {
                                        show: !0,
                                        type: "success",
                                        message: my("tips.set_preference_succeed")
                                    }
                                }));
                            case 13:
                                o.next = 21;
                                break;
                            case 15:
                                return o.prev = 15,
                                o.t0 = o.catch(1),
                                o.next = 19,
                                (0,
                                vr.put)(xy({
                                    status: "failed"
                                }));
                            case 19:
                                return o.next = 21,
                                (0,
                                vr.call)(Qv, Gv({
                                    toast: {
                                        show: !0,
                                        type: "fail",
                                        message: my("tips.set_preference_failed")
                                    }
                                }));
                            case 21:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), Cy, null, [[1, 15]])
                }
                function My() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(Dy, ky);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(Py, Uy);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), Iy)
                }
                var jy, Ly = (0,
                He.handleActions)((e(Ty = {}, uy.UPDATE_SHOP_TRANSLATION_SETTINGS_RECORD, (function(e, t) {
                    var r = t.payload
                      , n = r.shopId
                      , a = r.source
                      , o = r.translationPreference
                      , c = r.autoTranslationStatus
                      , s = r.inTranslationFeedbackWhitelist
                      , i = yy({}, e.translationSettings)
                      , u = i[n] || {};
                    return i[n] = yy(yy({}, u), {}, {
                        translationPreference: o,
                        autoTranslationStatus: c
                    }),
                    a && (i[n].source = a),
                    s && (i[n].inTranslationFeedbackWhitelist = s),
                    yy(yy({}, e), {}, {
                        translationSettings: i
                    })
                }
                )),
                e(Ty, uy.UPDATE_FETCH_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return yy(yy({}, e), {}, {
                        fetchSettingsStatus: r
                    })
                }
                )),
                e(Ty, uy.UPDATE_SETTING_PREFERENCE_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return yy(yy({}, e), {}, {
                        updateStatus: r
                    })
                }
                )),
                Ty), {
                    translationSettings: {},
                    fetchSettingsStatus: "",
                    updateStatus: ""
                }), Fy = [My], Gy = P(439).t;
                function Hy(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Vy(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? Hy(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : Hy(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var By, Yy = N.LogisticsLog.ORDER_DETAIL_SHIPPING_CONFIRMED, qy = N.LogisticsLog.ORDER_DETAIL_SHIPPED, Qy = N.LogisticsLog.ORDER_DETAIL_RECEIVED, Wy = N.LogisticsLog.ORDER_DETAIL_CANCELED, Ky = N.LogisticsLog.ORDER_DETAIL_NOTIFY_SHIP, zy = (e(jy = {}, Yy, "detail_received"),
                e(jy, qy, "shipped"),
                e(jy, Qy, "received_by_buyer"),
                e(jy, Wy, "cancelled"),
                e(jy, Ky, "notify_ship"),
                jy), Jy = ["amount", "buyer_id", "buyer_is_rated", "cancel_pending", "cancel_reason", "cancel_time", "canceller", "carrier", "checkout_id", "coin_offset", "complete_time", "created_at", "credit_card_promotion", "delivery_time", "id", "image", "image_hash", "over_rate_time", "pay_by_wallet", "pay_time", "payment_method", "payment_method_str", "price_before_discount", "products", "products_count", "rate_by_date", "receivables", "refund_amount", "refund_serial_number", "region", "remark", "seller_note", "seller_rate_comment", "seller_rate_star", "serial_number", "ship_by_date", "shipping_fee", "shop_id", "show_cancel_order_btn", "show_ship_warning", "status", "tax_amount", "third_party_tns", "title", "tracking_number", "voucher_price", "wallet_discount"], Xy = ["model_id", "product_id", "model_name", "image", "image_hash", "rate_star", "region", "price", "sku", "count", "title", "rate_comment", "is_pre_order", "returned", "id", "shop_id"], $y = function(e, t, r) {
                    var n = {}
                      , a = e.status;
                    return Xy.forEach((function(o) {
                        var c;
                        switch (o) {
                        case "model_name":
                            n[o] = null !== (c = e[o]) && void 0 !== c && c.includes(",") ? e[o].replace(/,/g, " · ") : e[o];
                            break;
                        case "region":
                            n[o] = t;
                            break;
                        case "price":
                            n[o] = (0,
                            N.formatPrice)(e[o], t);
                            break;
                        case "returned":
                            n[o] = a === N.OrderItemStatus.RETURNED || a === N.OrderItemStatus.RETURN_RATED;
                            break;
                        case "rate_star":
                            n[o] = e[o] ? parseInt(e[o]) : -1;
                            break;
                        case "id":
                            n[o] = e.product_id;
                            break;
                        case "shop_id":
                            n[o] = r;
                            break;
                        default:
                            n[o] = e[o]
                        }
                    }
                    )),
                    n
                }, Zy = ["coin_offset", "voucher_price", "wallet_discount", "local_shopee_coin"], eR = function(e) {
                    return Gy("common.order.cancel_reason.buyer_".concat(e > 0 && e < 10 ? e : 0))
                }, tR = function(e) {
                    var t = e.cancel_user_id;
                    return t === e.buyer_id ? "buyer" : t <= 0 ? "system" : "seller"
                }, rR = function(e) {
                    var t = e.status
                      , r = e.buyer_cancel_reason
                      , n = e.cancel_reason
                      , a = tR(e);
                    return t === N.OrderTabStatus.CANCELLED ? "buyer" === a ? eR(r) : (0,
                    N.getCancelReason)(n) : eR(r)
                }, nR = 15 * N.ONE_DAY, aR = function(e, t, r) {
                    var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                      , a = {}
                      , o = e.price_before_discount
                      , c = e.shipping_fee
                      , s = e.tax_amount
                      , i = e.shop_id
                      , u = e.rate_by_date
                      , p = e.complete_time
                      , d = e.status_ext
                      , l = e.payment_method
                      , f = e.ship_by_date
                      , _ = i === t
                      , E = (0,
                    N.getOrderPayment)({
                        order: e,
                        region: r,
                        isOwnOrder: _,
                        isNewPrice: n
                    })
                      , S = E.shopeeCoin
                      , h = E.payment
                      , O = Date.now() > (u ? new Date(u).getTime() : new Date(p).getTime() + nR);
                    return Jy.forEach((function(n) {
                        switch (n) {
                        case "region":
                            a[n] = r;
                            break;
                        case "created_at":
                        case "pay_time":
                        case "delivery_time":
                        case "complete_time":
                        case "cancel_time":
                            a[n] = e[n] ? (0,
                            N.customizeTime)(e[n], {
                                needFullFormat: !0
                            }) : "";
                            break;
                        case "rate_by_date":
                            a[n] = u ? (0,
                            N.customizeTime)(u, {
                                needFullFormat: !0
                            }) : "";
                            break;
                        case "over_rate_time":
                            a[n] = O;
                            break;
                        case "ship_by_date":
                            a[n] = e[n] ? (0,
                            N.customizeTime)(e[n], {
                                needFullFormat: !0
                            }) : "--";
                            break;
                        case "show_ship_warning":
                            a[n] = !!f && N.ONE_DAY + Date.now() > new Date(f).getTime();
                            break;
                        case "payment_method_str":
                            a[n] = (0,
                            N.getPayMethod)(l);
                            break;
                        case "products":
                            a[n] = e[n].map((function(e) {
                                return $y(e, r, t)
                            }
                            ));
                            break;
                        case "amount":
                            a[n] = (0,
                            N.formatPrice)(o - c - s, r);
                            break;
                        case "receivables":
                            a[n] = h;
                            break;
                        case "coin_offset":
                            a[n] = (0,
                            N.formatPrice)(S, r, {
                                withMinus: !0
                            });
                            break;
                        case "refund_amount":
                        case "price_before_discount":
                        case "shipping_fee":
                        case "tax_amount":
                        case "credit_card_promotion":
                        case "voucher_price":
                        case "wallet_discount":
                            a[n] = (0,
                            N.formatPrice)(e[n] || 0, r, {
                                withMinus: Zy.includes(n)
                            });
                            break;
                        case "seller_note":
                            a[n] = (e[n] || "").trim();
                            break;
                        case "cancel_reason":
                            a[n] = rR(e);
                            break;
                        case "canceller":
                            a[n] = tR(e);
                            break;
                        case "show_cancel_order_btn":
                            a[n] = (0,
                            N.getCancelOrderDisplayStatus)(e);
                            break;
                        case "cancel_pending":
                            a[n] = d === N.OrderStatusExt.ORDER_EXT_CANCEL_PENDING;
                            break;
                        default:
                            a[n] = e[n]
                        }
                    }
                    )),
                    a
                }, oR = function(e) {
                    var t = [];
                    return e.forEach((function(e) {
                        var r, n = e.flag, a = e.type, o = e.description, c = e.seller_desc, s = e.created_at, i = (0,
                        N.getFormattedTime)(s);
                        4 & n ? r = c || o : 2 == (3 & n) ? r = o : zy[a] && (r = Gy("common.order.logistics_log.".concat(zy[a]))),
                        r && t.push({
                            created_at: i,
                            content: r
                        })
                    }
                    )),
                    t
                };
                !function(e) {
                    e[e.unpaid = 1] = "unpaid",
                    e[e.to_ship = 2] = "to_ship",
                    e[e.shipping = 3] = "shipping",
                    e[e.completed = 4] = "completed",
                    e[e.cancelled = 5] = "cancelled"
                }(By || (By = {}));
                var cR = function(e, t, r) {
                    var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                      , a = {}
                      , o = Vy(Vy({}, e), {}, {
                        status: By[e.order_status],
                        products_count: e.item_count,
                        created_at: 1e3 * e.create_time,
                        serial_number: e.order_sn,
                        estimated_escrow: e.seller_estimated_escrow / 1e5,
                        total_price: e.buyer_pay_amount / 1e5
                    })
                      , c = o.shop_id
                      , s = c === t
                      , i = (0,
                    N.getOrderPayment)({
                        order: o,
                        region: r,
                        isOwnOrder: s,
                        isNewPrice: n
                    })
                      , u = i.payment;
                    return Jy.forEach((function(e) {
                        switch (e) {
                        case "region":
                            a[e] = r;
                            break;
                        case "created_at":
                            a[e] = o[e] ? (0,
                            N.customizeTime)(o[e], {
                                needFullFormat: !0
                            }) : "";
                            break;
                        case "products":
                            a[e] = o.items;
                            break;
                        case "receivables":
                            a[e] = u;
                            break;
                        default:
                            a[e] = o[e]
                        }
                    }
                    )),
                    a
                };
                function sR(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function iR(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? sR(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : sR(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var uR = L().mark(OR)
                  , pR = L().mark(vR)
                  , dR = L().mark(gR)
                  , lR = L().mark(TR)
                  , fR = L().mark(mR)
                  , _R = L().mark(bR)
                  , ER = L().mark(yR)
                  , SR = L().mark(RR)
                  , hR = L().mark(CR);
                function OR(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.payload,
                                r = t.id,
                                n = t.shopId,
                                s.next = 3,
                                (0,
                                vr.call)(fr, {
                                    resource: "products",
                                    id: r,
                                    params: {
                                        shop_id: n,
                                        need_cache: 1,
                                        cache_expires: 600
                                    },
                                    cleaner: sw
                                });
                            case 3:
                                return a = s.sent,
                                a = Md(a),
                                o = C("products", a),
                                c = o.entities,
                                s.next = 8,
                                (0,
                                vr.put)(Jr({
                                    entities: c
                                }));
                            case 8:
                                return s.abrupt("return", a);
                            case 9:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), uR)
                }
                function vR(e) {
                    var t, r, n, a, o, c, s;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return t = e.payload,
                                r = t.productIds,
                                n = t.shopId,
                                i.next = 3,
                                (0,
                                vr.call)(fr, {
                                    resource: "products",
                                    params: {
                                        ids: JSON.stringify(r),
                                        shop_id: n,
                                        need_cache: 1,
                                        cache_expires: 600
                                    },
                                    cleaner: sw
                                });
                            case 3:
                                return a = i.sent,
                                o = (o = a.products).map(Md),
                                c = C("products", o),
                                s = c.entities,
                                i.next = 9,
                                (0,
                                vr.put)(Jr({
                                    entities: s
                                }));
                            case 9:
                                return i.abrupt("return", o);
                            case 10:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), pR)
                }
                function gR(e) {
                    var t, r, n, a, o, c, s, i, u;
                    return L().wrap((function(p) {
                        for (; ; )
                            switch (p.prev = p.next) {
                            case 0:
                                return t = e.payload,
                                r = t.id,
                                n = t.shopId,
                                a = t.isChatbotOrder,
                                p.next = 3,
                                (0,
                                vr.select)(ki);
                            case 3:
                                return o = p.sent,
                                p.next = 6,
                                (0,
                                vr.call)(fr, {
                                    resource: "order",
                                    id: r,
                                    params: {
                                        shop_id: n
                                    }
                                });
                            case 6:
                                return c = p.sent,
                                s = aR(c, n, o, a),
                                i = C("orders", s),
                                u = i.entities,
                                p.next = 12,
                                (0,
                                vr.put)(Jr({
                                    entities: u
                                }));
                            case 12:
                                return p.abrupt("return", s);
                            case 13:
                            case "end":
                                return p.stop()
                            }
                    }
                    ), dR)
                }
                function TR(e, t, r, n, a) {
                    var o, c, s, i, u, p;
                    return L().wrap((function(d) {
                        for (; ; )
                            switch (d.prev = d.next) {
                            case 0:
                                if (o = Array.isArray(e),
                                c = o ? e : [e],
                                s = Array.from(new Set(c.map((function(e) {
                                    return e.product_id
                                }
                                )))),
                                i = [],
                                !o) {
                                    d.next = 19;
                                    break
                                }
                                return d.prev = 5,
                                d.next = 8,
                                (0,
                                vr.call)(vR, {
                                    payload: {
                                        productIds: s,
                                        shopId: t
                                    }
                                });
                            case 8:
                                i = d.sent,
                                d.next = 17;
                                break;
                            case 11:
                                return d.prev = 11,
                                d.t0 = d.catch(5),
                                u = s.map((function(e) {
                                    return (0,
                                    vr.call)(OR, {
                                        payload: {
                                            id: e,
                                            shopId: t
                                        }
                                    })
                                }
                                )),
                                d.next = 16,
                                (0,
                                vr.all)(u);
                            case 16:
                                i = d.sent;
                            case 17:
                                d.next = 23;
                                break;
                            case 19:
                                return d.next = 21,
                                (0,
                                vr.call)(OR, {
                                    payload: {
                                        id: e.product_id,
                                        shopId: t
                                    }
                                });
                            case 21:
                                p = d.sent,
                                i = [p];
                            case 23:
                                return d.abrupt("return", c.map((function(e) {
                                    var t = i.find((function(t) {
                                        return t.id === e.product_id
                                    }
                                    )) || {};
                                    return Qd(e, "list", r, n, t, a)
                                }
                                )));
                            case 24:
                            case "end":
                                return d.stop()
                            }
                    }
                    ), lR, null, [[5, 11]])
                }
                function mR(e) {
                    var t, r, n, a, o, c, s, i, u, p, d;
                    return L().wrap((function(l) {
                        for (; ; )
                            switch (l.prev = l.next) {
                            case 0:
                                return t = e.payload,
                                r = t.id,
                                n = t.shopId,
                                l.next = 3,
                                (0,
                                vr.select)(Sm(r));
                            case 3:
                                return a = l.sent,
                                l.next = 6,
                                (0,
                                vr.select)(ki);
                            case 6:
                                return o = l.sent,
                                l.next = 9,
                                (0,
                                vr.select)(ea);
                            case 9:
                                return c = l.sent,
                                l.next = 12,
                                (0,
                                vr.select)($n);
                            case 12:
                                if (s = l.sent,
                                !a) {
                                    l.next = 15;
                                    break
                                }
                                return l.abrupt("return", a);
                            case 15:
                                return l.next = 17,
                                (0,
                                vr.call)(fr, {
                                    resource: "offers",
                                    id: r,
                                    params: {
                                        shop_id: n
                                    }
                                });
                            case 17:
                                return i = l.sent,
                                l.next = 20,
                                (0,
                                vr.call)(TR, i, n, o, c, s);
                            case 20:
                                return u = l.sent,
                                p = C("offers", u),
                                d = p.entities,
                                l.next = 24,
                                (0,
                                vr.put)(Jr({
                                    entities: d
                                }));
                            case 24:
                                return l.abrupt("return", u[0]);
                            case 25:
                            case "end":
                                return l.stop()
                            }
                    }
                    ), fR)
                }
                function bR(e) {
                    var t, r, n, a, o, c, s, i, u;
                    return L().wrap((function(p) {
                        for (; ; )
                            switch (p.prev = p.next) {
                            case 0:
                                return t = e.shopId,
                                r = e.id,
                                p.next = 3,
                                (0,
                                vr.select)(Ln);
                            case 3:
                                return n = p.sent,
                                p.next = 6,
                                (0,
                                vr.select)(Zn);
                            case 6:
                                return a = p.sent,
                                o = "vouchers_by_ids",
                                p.next = 10,
                                (0,
                                vr.call)(fr, {
                                    parent: "vouchers",
                                    resource: o,
                                    params: {
                                        ids: JSON.stringify([parseInt(r)]),
                                        shop_id: t,
                                        buyer_id: a ? 0 : n
                                    }
                                });
                            case 10:
                                if (c = p.sent,
                                !(s = c[o]) || !s.length) {
                                    p.next = 18;
                                    break
                                }
                                return s = s.map((function(e) {
                                    return tl(e, !1)
                                }
                                )),
                                i = C("vouchers", s),
                                u = i.entities,
                                p.next = 17,
                                (0,
                                vr.put)(Jr({
                                    entities: u
                                }));
                            case 17:
                                return p.abrupt("return", s[0]);
                            case 18:
                            case "end":
                                return p.stop()
                            }
                    }
                    ), _R)
                }
                function yR(e) {
                    var t, r, n, a, o, c, s, i, u;
                    return L().wrap((function(p) {
                        for (; ; )
                            switch (p.prev = p.next) {
                            case 0:
                                return t = e.payload,
                                r = t.id,
                                n = t.creatorId,
                                p.next = 3,
                                (0,
                                vr.select)(wi);
                            case 3:
                                return a = p.sent,
                                o = a.shop_id,
                                p.next = 7,
                                (0,
                                vr.call)(fr, {
                                    parent: "feed",
                                    resource: "stories",
                                    params: {
                                        ids: JSON.stringify([r]),
                                        creator: n,
                                        shop_id: o,
                                        need_cache: 1,
                                        cache_expire: 1800
                                    }
                                });
                            case 7:
                                return c = p.sent,
                                s = c.stories[0],
                                i = C("feedStories", s),
                                u = i.entities,
                                p.next = 12,
                                (0,
                                vr.put)(Jr({
                                    entities: u
                                }));
                            case 12:
                                return p.abrupt("return", s);
                            case 13:
                            case "end":
                                return p.stop()
                            }
                    }
                    ), ER)
                }
                function RR(e) {
                    var t, r, n, a, o;
                    return L().wrap((function(c) {
                        for (; ; )
                            switch (c.prev = c.next) {
                            case 0:
                                return t = e.cartItems,
                                r = e.shopId,
                                c.next = 3,
                                (0,
                                vr.call)(fr, {
                                    parent: "product",
                                    resource: "get",
                                    method: "POST",
                                    payload: JSON.stringify({
                                        shop_id: r,
                                        items: t.slice(0, 4)
                                    })
                                });
                            case 3:
                                return n = c.sent,
                                a = n.get,
                                o = void 0 === a ? [] : a,
                                c.abrupt("return", o.map(Yd));
                            case 7:
                            case "end":
                                return c.stop()
                            }
                    }
                    ), SR)
                }
                function CR(e) {
                    var t, r, n, a, o, c, s, i;
                    return L().wrap((function(u) {
                        for (; ; )
                            switch (u.prev = u.next) {
                            case 0:
                                return t = e.payload,
                                r = t.ids,
                                n = t.id,
                                u.next = 3,
                                (0,
                                vr.select)(wi);
                            case 3:
                                return a = u.sent,
                                o = a.shop_id,
                                c = a.id,
                                u.next = 7,
                                (0,
                                vr.call)(fr, {
                                    parent: "conversation",
                                    resource: "messages",
                                    params: {
                                        ids: "[".concat(r.join(","), "]"),
                                        shop_id: o
                                    }
                                });
                            case 7:
                                return s = u.sent,
                                i = s.messages,
                                u.next = 11,
                                (0,
                                vr.call)(Rl, {
                                    list: _e(i),
                                    conversationId: c,
                                    handleSave: function(e) {
                                        var t = e.records;
                                        Object.keys(t).forEach((function(e) {
                                            var r = i.findIndex((function(t) {
                                                return t.id === e
                                            }
                                            ));
                                            if (r >= 0) {
                                                var n = i[r];
                                                i.splice(r, 1, iR(iR({}, n), {}, {
                                                    content: iR(iR({}, n.content), t[e])
                                                }))
                                            }
                                        }
                                        ))
                                    }
                                });
                            case 11:
                                return u.abrupt("return", {
                                    id: n,
                                    messages: i
                                });
                            case 12:
                            case "end":
                                return u.stop()
                            }
                    }
                    ), hR)
                }
                var IR, AR, DR = function(e) {
                    return e.chatbotReducer.imageUrl
                }, PR = function(e) {
                    return e.chatbotReducer.faqSessions
                }, wR = (0,
                Ye.createSelector)(oi, PR, (function(e, t) {
                    return t[e] || {}
                }
                ));
                function xR(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function NR(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? xR(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : xR(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                !function(e) {
                    e.SHOW_CHATBOT_IMAGE = "SHOW_CHATBOT_IMAGE",
                    e.CLOSE_CHATBOT_MEDIA_PREVIEW = "CLOSE_CHATBOT_MEDIA_PREVIEW",
                    e.CHATBOT_INTENTS_REPORT_REQUEST = "CHATBOT_INTENTS_REPORT_REQUEST",
                    e.FETCH_FAQ_SESSION_SUCCEED = "FETCH_FAQ_SESSION_SUCCEED"
                }(IR || (IR = {}));
                const kR = (e(AR = {}, IR.SHOW_CHATBOT_IMAGE, (function(e, t) {
                    var r = t.payload;
                    return NR(NR({}, e), {}, {
                        imageUrl: r.url
                    })
                }
                )),
                e(AR, IR.CLOSE_CHATBOT_MEDIA_PREVIEW, (function(e) {
                    return NR(NR({}, e), {}, {
                        imageUrl: ""
                    })
                }
                )),
                AR);
                var UR, MR = P(209), jR = P.n(MR), LR = P(411), FR = P(914), GR = P(770), HR = P(123), VR = jR()(), BR = null, YR = function() {
                    var e = M(L().mark((function e(t, r) {
                        var n, a, o;
                        return L().wrap((function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    return n = r.shopId,
                                    a = r.conversationId,
                                    e.next = 3,
                                    fr({
                                        parent: "faqs",
                                        subServer: "workbenchapi",
                                        resource: "bot/orders",
                                        method: "POST",
                                        payload: JSON.stringify({
                                            data: JSON.stringify(t),
                                            shop_id: n,
                                            conversation_id: a
                                        })
                                    });
                                case 3:
                                    return (o = e.sent).data = JSON.parse(o.data),
                                    e.abrupt("return", o);
                                case 6:
                                case "end":
                                    return e.stop()
                                }
                        }
                        ), e)
                    }
                    )));
                    return function(t, r) {
                        return e.apply(this, arguments)
                    }
                }(), qR = {
                    cid: (0,
                    N.getRuntimeRegion)(),
                    env: (0,
                    N.getRuntimeServer)(),
                    from: N.ChatbotFromType.LandingPage,
                    initialization: 1,
                    auth: {
                        accountType: 1
                    },
                    getOrderList: YR
                }, QR = function() {
                    return BR || ((BR = new VR.ChatbotSDK({
                        root: "messageSection",
                        config: qR
                    })).use(LR.Message),
                    BR.use(FR.RelatedIntent),
                    BR.use(GR.OrderList),
                    BR.use(HR.OptionSelector)),
                    BR
                }, WR = function(e) {
                    QR().updateConfig({
                        from: e
                    })
                }, KR = VR.Provider, zR = (0,
                He.createActions)((e(UR = {}, IR.SHOW_CHATBOT_IMAGE, (function(e) {
                    return {
                        url: e.url
                    }
                }
                )),
                e(UR, IR.CLOSE_CHATBOT_MEDIA_PREVIEW, (function() {
                    return {}
                }
                )),
                e(UR, IR.CHATBOT_INTENTS_REPORT_REQUEST, (function(e) {
                    return {
                        reportTask: e.reportTask
                    }
                }
                )),
                e(UR, IR.FETCH_FAQ_SESSION_SUCCEED, (function(e) {
                    return {
                        conversationId: e.conversationId,
                        faqSessionId: e.faqSessionId,
                        sessionExpiryTime: e.sessionExpiryTime
                    }
                }
                )),
                UR)), JR = zR.showChatbotImage, XR = zR.closeChatbotMediaPreview, $R = zR.chatbotIntentsReportRequest, ZR = zR.fetchFaqSessionSucceed, eC = L().mark(dC), tC = L().mark(lC), rC = L().mark(fC), nC = L().mark(_C), aC = L().mark(EC);
                function oC(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function cC(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? oC(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : oC(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var sC, iC = function() {
                    return (0,
                    Km.eventChannel)((function(e) {
                        var t = QR();
                        return t.init().then((function() {
                            t.on("userAction", (function(t) {
                                e(t)
                            }
                            ))
                        }
                        )),
                        function() {}
                    }
                    ))
                };
                !function(e) {
                    e[e.MESSAGE = 1001] = "MESSAGE",
                    e[e.SOLUTION = 1002] = "SOLUTION",
                    e[e.NOT_CHATBOT = 0] = "NOT_CHATBOT"
                }(sC || (sC = {}));
                var uC = {
                    message: sC.MESSAGE,
                    solution: sC.SOLUTION
                }
                  , pC = function(e) {
                    if (!e)
                        return sC.NOT_CHATBOT;
                    var t = e.type;
                    return uC[t]
                };
                function dC(e) {
                    var t, r, n, a, o, c, s, i, u, p, d;
                    return L().wrap((function(l) {
                        for (; ; )
                            switch (l.prev = l.next) {
                            case 0:
                                if (t = e.api,
                                r = e.chatbotUserMessage,
                                n = e.passThroughData.faqSessionId,
                                a = pC(t),
                                !r) {
                                    l.next = 17;
                                    break
                                }
                                return l.next = 5,
                                (0,
                                vr.select)(wi);
                            case 5:
                                return o = l.sent,
                                c = r.type,
                                s = {
                                    interaction_type: a,
                                    bot_data: JSON.stringify(t ? t.params : ""),
                                    faq_session_id: n
                                },
                                "text" === c && (u = r.text,
                                s = cC(cC({}, s), {}, {
                                    text: u
                                }),
                                i = N.MessageTypes.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE),
                                "order" === c && (s = cC(cC({}, s), {}, {
                                    bot_order_info: nw(r)
                                }),
                                i = N.MessageTypes.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE),
                                l.next = 12,
                                (0,
                                vr.select)(Ui);
                            case 12:
                                return p = l.sent,
                                l.next = 15,
                                (0,
                                vr.select)(ki);
                            case 15:
                                d = l.sent,
                                Co().put(Ao().sendMessagesRequested({
                                    payload: {
                                        conversationId: o.id,
                                        conversationUserId: o.to_id,
                                        messages: [{
                                            type: i,
                                            content: s,
                                            textContent: rw(r, p, d)
                                        }]
                                    }
                                }));
                            case 17:
                            case "end":
                                return l.stop()
                            }
                    }
                    ), eC)
                }
                function lC(e) {
                    var t, r, n, a;
                    return L().wrap((function(o) {
                        for (; ; )
                            switch (o.prev = o.next) {
                            case 0:
                                return (t = e.urlInfo) && (r = t.url,
                                n = t.uri_key,
                                a = t.uri_extra,
                                n ? window.open(tw(n, a)) : r && window.open(ZP(r))),
                                o.next = 4,
                                (0,
                                vr.call)(dC, e);
                            case 4:
                            case "end":
                                return o.stop()
                            }
                    }
                    ), tC)
                }
                function fC(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                if (!(t = e.image)) {
                                    r.next = 4;
                                    break
                                }
                                return r.next = 4,
                                (0,
                                vr.put)(JR({
                                    url: t.url
                                }));
                            case 4:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), rC)
                }
                function _C(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                t = e.actionType,
                                r.t0 = t,
                                r.next = "sendChatbotUserMessage" === r.t0 ? 4 : "redirect" === r.t0 ? 7 : "showImage" === r.t0 ? 10 : 13;
                                break;
                            case 4:
                                return r.next = 6,
                                (0,
                                vr.call)(dC, e.data);
                            case 6:
                            case 9:
                            case 12:
                                return r.abrupt("break", 13);
                            case 7:
                                return r.next = 9,
                                (0,
                                vr.call)(lC, e.data);
                            case 10:
                                return r.next = 12,
                                (0,
                                vr.call)(fC, e.data);
                            case 13:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), nC)
                }
                function EC() {
                    var e;
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2,
                                (0,
                                vr.call)(iC);
                            case 2:
                                return e = t.sent,
                                t.next = 5,
                                (0,
                                vr.takeEvery)(e, _C);
                            case 5:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), aC)
                }
                var SC = L().mark(OC)
                  , hC = L().mark(vC);
                function OC(e) {
                    var t, r, n;
                    return L().wrap((function(a) {
                        for (; ; )
                            switch (a.prev = a.next) {
                            case 0:
                                return t = e.payload.reportTask,
                                a.next = 3,
                                (0,
                                vr.select)(oi);
                            case 3:
                                return r = a.sent,
                                a.next = 6,
                                (0,
                                vr.select)(qi);
                            case 6:
                                return n = a.sent,
                                a.prev = 7,
                                a.next = 10,
                                (0,
                                vr.call)(fr, {
                                    method: "POST",
                                    subServer: "workbenchapi",
                                    parent: "faqs",
                                    resource: "bot/report",
                                    payload: JSON.stringify({
                                        messages: t,
                                        conversation_id: r,
                                        shop_id: n
                                    })
                                });
                            case 10:
                                a.next = 14;
                                break;
                            case 12:
                                a.prev = 12,
                                a.t0 = a.catch(7);
                            case 14:
                            case "end":
                                return a.stop()
                            }
                    }
                    ), SC, null, [[7, 12]])
                }
                function vC() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)($R, OC);
                            case 2:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), hC)
                }
                function gC(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function TC(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? gC(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : gC(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                const mC = e({}, IR.FETCH_FAQ_SESSION_SUCCEED, (function(t, r) {
                    var n = r.payload
                      , a = n.conversationId
                      , o = n.faqSessionId
                      , c = n.sessionExpiryTime
                      , s = t.faqSessions;
                    return TC(TC({}, t), {}, {
                        faqSessions: TC(TC({}, s), {}, e({}, a, {
                            faqSessionId: o,
                            sessionExpiryTime: c
                        }))
                    })
                }
                ));
                function bC(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function yC(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? bC(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : bC(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var RC, CC, IC = (0,
                He.handleActions)(yC(yC({}, kR), mC), {
                    imageUrl: "",
                    faqSessions: {}
                }), AC = [EC, vC], DC = function(e) {
                    return e.voucherReducer.status
                }, PC = (0,
                Ye.createSelector)(Nr, (function(e) {
                    return e.voucherReducer.voucherIds
                }
                ), (function(e, r) {
                    return ((0,
                    t.denormalize)(r, [O], {
                        vouchers: e
                    }) || []).filter((function(e) {
                        return e
                    }
                    ))
                }
                )), wC = function(e) {
                    return (0,
                    Ye.createSelector)(Nr, (function(r) {
                        return (0,
                        t.denormalize)(e, O, {
                            vouchers: r
                        })
                    }
                    ))
                }, xC = {
                    currentPage: 0,
                    perPage: 20,
                    total: 0,
                    hasMore: !0
                }, NC = function(e) {
                    return (0,
                    Ye.createSelector)(wr, (function(r) {
                        return (0,
                        t.denormalize)(e, i, {
                            orders: r
                        })
                    }
                    ))
                }, kC = function(e) {
                    return (e.orderReducer || {}).cancelReasons
                }, UC = function(e) {
                    return e.orderReducer.status
                }, MC = function(e) {
                    return e.orderReducer.fetchResult
                }, jC = function(e, t) {
                    return (0,
                    Ye.createSelector)(MC, (function(r) {
                        return r["".concat(e, "_").concat(t)] || {
                            pagination: xC,
                            result: []
                        }
                    }
                    ))
                }, LC = (0,
                Ye.createSelectorCreator)(Ye.defaultMemoize, (function(e, t) {
                    return e.id === t.id
                }
                ))(wi, (function(e) {
                    return e
                }
                )), FC = (0,
                Ye.createSelector)(MC, LC, wr, (function(e, r, n) {
                    var a = r.shop_id
                      , o = r.to_id
                      , c = e["".concat(a, "_").concat(o)];
                    if (!c)
                        return [];
                    var s = c.result || [];
                    return (0,
                    t.denormalize)(s, [i], {
                        orders: n
                    })
                }
                )), GC = function(e) {
                    return (0,
                    Ye.createSelector)(xr, (function(r) {
                        return (0,
                        t.denormalize)(e, u, {
                            products: r
                        })
                    }
                    ))
                }, HC = function(e) {
                    return (0,
                    Ye.createSelector)(xr, (function(r) {
                        return (0,
                        t.denormalize)(e, [u], {
                            products: r
                        })
                    }
                    ))
                }, VC = {
                    currentPage: 0,
                    perPage: 20,
                    total: 0,
                    hasMore: !0
                }, BC = function(e) {
                    return e.productReducer.fetchResult
                }, YC = function(e) {
                    return e.productReducer.allProductsSearchStatus
                }, qC = function(e) {
                    return e.productReducer.sellerRecommendProducts
                }, QC = function(e) {
                    return e.productReducer.systemRecommendProducts
                }, WC = function(e) {
                    return e.productReducer.groups
                }, KC = function(e) {
                    return e.productReducer.systemRecommendProductsFetchStatus
                }, zC = function(e) {
                    return e.productReducer.sellerRecommendProductsFetchStatus
                }, JC = function(e) {
                    return e.productReducer.fetchGroupsStatus
                }, XC = function(e) {
                    return (0,
                    Ye.createSelector)(BC, (function(t) {
                        return t[e] || {
                            pagination: VC,
                            result: []
                        }
                    }
                    ))
                }, $C = (0,
                Ye.createSelector)(BC, Bi, xr, (function(e, r, n) {
                    var a = e[r];
                    if (!a)
                        return [];
                    var o = a.result || [];
                    return (0,
                    t.denormalize)(o, [u], {
                        products: n
                    })
                }
                ));
                !function(e) {
                    e.FETCH_NOTIFICATION_UNREAD_COUNT_REQUESTED = "FETCH_NOTIFICATION_UNREAD_COUNT_REQUESTED",
                    e.FETCH_NOTIFICATION_REQUESTED = "FETCH_NOTIFICATION_REQUESTED",
                    e.FETCH_NOTIFICATION_SUCCEEDED = "FETCH_NOTIFICATION_SUCCEEDED",
                    e.FETCH_NOTIFICATION_UNREAD_COUNT_SUCCEEDED = "FETCH_NOTIFICATION_UNREAD_COUNT_SUCCEEDED",
                    e.READ_NOTIFICATION_REQUESTED = "READ_NOTIFICATION_REQUESTED",
                    e.UPDATE_NOTIFICATION_REQUESTED_STATUS = "UPDATE_NOTIFICATION_REQUESTED_STATUS",
                    e.UPDATE_NOTIFICATION_CURRENT_TYPE = "UPDATE_NOTIFICATION_CURRENT_TYPE",
                    e.UPDATE_NOTIFICATION_RECORD = "UPDATE_NOTIFICATION_RECORD",
                    e.UPDATE_ALL_NOTIFICATION_AS_READ = "UPDATE_ALL_NOTIFICATION_AS_READ",
                    e.UPDATE_NOTIFICATION_READ_STATUS = "UPDATE_NOTIFICATION_READ_STATUS",
                    e.UPDATE_NOTIFICATION_DETAIL = "UPDATE_NOTIFICATION_DETAIL"
                }(RC || (RC = {}));
                var ZC, eI = (0,
                He.createActions)((e(CC = {}, RC.FETCH_NOTIFICATION_UNREAD_COUNT_REQUESTED, (function() {
                    return {}
                }
                )),
                e(CC, RC.FETCH_NOTIFICATION_REQUESTED, (function(e) {
                    return {
                        reset: e.reset
                    }
                }
                )),
                e(CC, RC.FETCH_NOTIFICATION_SUCCEEDED, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(CC, RC.FETCH_NOTIFICATION_UNREAD_COUNT_SUCCEEDED, (function(e) {
                    return {
                        unread: e.unread
                    }
                }
                )),
                e(CC, RC.READ_NOTIFICATION_REQUESTED, (function(e) {
                    return {
                        body: e.body
                    }
                }
                )),
                e(CC, RC.UPDATE_NOTIFICATION_REQUESTED_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(CC, RC.UPDATE_NOTIFICATION_CURRENT_TYPE, (function(e) {
                    return {
                        currentType: e.currentType
                    }
                }
                )),
                e(CC, RC.UPDATE_NOTIFICATION_RECORD, (function(e) {
                    return {
                        total: e.total,
                        perPage: e.perPage,
                        currentPage: e.currentPage,
                        result: e.result
                    }
                }
                )),
                e(CC, RC.UPDATE_ALL_NOTIFICATION_AS_READ, (function(e) {
                    return {
                        id: e.id
                    }
                }
                )),
                e(CC, RC.UPDATE_NOTIFICATION_READ_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(CC, RC.UPDATE_NOTIFICATION_DETAIL, (function(e) {
                    return {
                        id: e.id
                    }
                }
                )),
                CC)), tI = eI.fetchNotificationUnreadCountRequested, rI = eI.fetchNotificationRequested, nI = eI.fetchNotificationSucceeded, aI = eI.fetchNotificationUnreadCountSucceeded, oI = eI.readNotificationRequested, cI = eI.updateNotificationRequestedStatus, sI = eI.updateNotificationCurrentType, iI = eI.updateNotificationRecord, uI = eI.updateAllNotificationAsRead, pI = eI.updateNotificationReadStatus, dI = eI.updateNotificationDetail;
                function lI(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function fI(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? lI(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : lI(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var _I = L().mark(OI)
                  , EI = L().mark(vI)
                  , SI = L().mark(gI)
                  , hI = L().mark(TI);
                function OI(e) {
                    var t, r, n, a, o, c, s, i, u, p, d;
                    return L().wrap((function(l) {
                        for (; ; )
                            switch (l.prev = l.next) {
                            case 0:
                                return t = e.payload.reset,
                                l.prev = 1,
                                l.next = 4,
                                (0,
                                vr.select)((function(e) {
                                    return e.notificationReducer
                                }
                                ));
                            case 4:
                                if (r = l.sent,
                                n = r.result,
                                a = r.currentType,
                                o = r.record,
                                c = o.perPage,
                                s = o.currentPage,
                                i = t ? 1 : s + 1,
                                !t) {
                                    l.next = 14;
                                    break
                                }
                                return l.next = 14,
                                (0,
                                vr.put)(iI({
                                    total: 0,
                                    perPage: c,
                                    currentPage: i,
                                    result: []
                                }));
                            case 14:
                                return l.next = 16,
                                (0,
                                vr.put)(tI());
                            case 16:
                                return l.next = 18,
                                (0,
                                vr.put)(cI({
                                    status: t ? N.DataFetchStatus.INIT_PENDING : N.DataFetchStatus.PENDING
                                }));
                            case 18:
                                return l.next = 20,
                                (0,
                                vr.call)(fr, {
                                    resource: "notifications",
                                    params: {
                                        per_page: c,
                                        page: i,
                                        type: a
                                    }
                                });
                            case 20:
                                return u = l.sent,
                                p = u.notifications,
                                d = u.total,
                                l.next = 25,
                                (0,
                                vr.put)(nI({
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 25:
                                return l.next = 27,
                                (0,
                                vr.put)(iI({
                                    total: d,
                                    perPage: c,
                                    currentPage: i,
                                    result: t ? p : n.concat(p)
                                }));
                            case 27:
                                l.next = 33;
                                break;
                            case 29:
                                return l.prev = 29,
                                l.t0 = l.catch(1),
                                l.next = 33,
                                (0,
                                vr.put)(cI({
                                    status: t ? N.DataFetchStatus.INIT_FAILED : N.DataFetchStatus.FAILED
                                }));
                            case 33:
                            case "end":
                                return l.stop()
                            }
                    }
                    ), _I, null, [[1, 29]])
                }
                function vI() {
                    var e;
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.prev = 0,
                                t.next = 3,
                                (0,
                                vr.call)(fr, {
                                    resource: "notifications",
                                    suffix: "unread_count"
                                });
                            case 3:
                                return e = t.sent,
                                t.next = 6,
                                (0,
                                vr.put)(aI({
                                    unread: e
                                }));
                            case 6:
                                t.next = 10;
                                break;
                            case 8:
                                t.prev = 8,
                                t.t0 = t.catch(0);
                            case 10:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), EI, null, [[0, 8]])
                }
                function gI(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return t = e.payload.body,
                                r.prev = 1,
                                r.next = 4,
                                (0,
                                vr.call)(fr, {
                                    method: "PUT",
                                    resource: "notifications",
                                    suffix: "read",
                                    payload: JSON.stringify(fI({}, t))
                                });
                            case 4:
                                if (void 0 === t.id) {
                                    r.next = 9;
                                    break
                                }
                                return r.next = 7,
                                (0,
                                vr.put)(uI({
                                    id: t.id
                                }));
                            case 7:
                                r.next = 11;
                                break;
                            case 9:
                                return r.next = 11,
                                (0,
                                vr.put)(uI({
                                    id: 0
                                }));
                            case 11:
                                return r.next = 13,
                                (0,
                                vr.put)(tI());
                            case 13:
                                r.next = 20;
                                break;
                            case 15:
                                if (r.prev = 15,
                                r.t0 = r.catch(1),
                                void 0 !== t.id) {
                                    r.next = 20;
                                    break
                                }
                                return r.next = 20,
                                (0,
                                vr.put)(pI({
                                    status: "error"
                                }));
                            case 20:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), SI, null, [[1, 15]])
                }
                function TI() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(rI, OI);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(oI, gI);
                            case 4:
                                return e.next = 6,
                                (0,
                                vr.takeEvery)(tI, vI);
                            case 6:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), hI)
                }
                const mI = (e(ZC = {}, RC.FETCH_NOTIFICATION_SUCCEEDED, (function(e, t) {
                    var r = t.payload.status;
                    return fI(fI({}, e), {}, {
                        status: r
                    })
                }
                )),
                e(ZC, RC.FETCH_NOTIFICATION_UNREAD_COUNT_SUCCEEDED, (function(e, t) {
                    var r = t.payload.unread;
                    return fI(fI({}, e), {}, {
                        unread: r
                    })
                }
                )),
                ZC);
                var bI;
                function yI(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function RI(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? yI(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : yI(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                const CI = (e(bI = {}, RC.UPDATE_NOTIFICATION_REQUESTED_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return RI(RI({}, e), {}, {
                        status: r
                    })
                }
                )),
                e(bI, RC.UPDATE_NOTIFICATION_CURRENT_TYPE, (function(e, t) {
                    var r = t.payload.currentType;
                    return RI(RI({}, e), {}, {
                        currentType: r
                    })
                }
                )),
                e(bI, RC.UPDATE_NOTIFICATION_RECORD, (function(e, t) {
                    var r = t.payload
                      , n = r.total
                      , a = r.perPage
                      , o = r.currentPage
                      , c = r.result;
                    return RI(RI({}, e), {}, {
                        record: {
                            total: n,
                            perPage: a,
                            currentPage: o
                        },
                        result: c
                    })
                }
                )),
                e(bI, RC.UPDATE_ALL_NOTIFICATION_AS_READ, (function(e, t) {
                    var r = t.payload.id
                      , n = e.result;
                    return r ? n.forEach((function(e) {
                        e.id === r && (e.is_read = !0)
                    }
                    )) : n.forEach((function(e) {
                        e.is_read = !0
                    }
                    )),
                    RI(RI({}, e), {}, {
                        result: n
                    })
                }
                )),
                e(bI, RC.UPDATE_NOTIFICATION_READ_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return RI(RI({}, e), {}, {
                        readStatus: r
                    })
                }
                )),
                e(bI, RC.UPDATE_NOTIFICATION_DETAIL, (function(e, t) {
                    var r = t.payload.id
                      , n = e.result.filter((function(e) {
                        return e.id === r
                    }
                    ));
                    return RI(RI({}, e), {}, {
                        detail: n[0]
                    })
                }
                )),
                bI);
                function II(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function AI(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? II(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : II(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var DI, PI, wI, xI = [TI], NI = (0,
                He.handleActions)(AI(AI({}, mI), CI), {
                    status: "",
                    readStatus: "",
                    unread: {},
                    currentType: "all",
                    result: [],
                    record: {
                        total: 0,
                        currentPage: 0,
                        perPage: 20
                    },
                    detail: {}
                }), kI = function(e) {
                    return e.notificationReducer.record
                }, UI = function(e) {
                    return e.notificationReducer.result
                }, MI = function(e) {
                    return e.notificationReducer.unread
                }, jI = function(e) {
                    return e.notificationReducer.status
                }, LI = function(e) {
                    return e.notificationReducer.readStatus
                }, FI = function(e) {
                    return e.notificationReducer.currentType
                }, GI = function(e) {
                    return e.notificationReducer.detail
                }, HI = function(e) {
                    return e.messageShortcutReducer.messageShortcutsGroupIds
                }, VI = function(e) {
                    return e.messageShortcutReducer.status
                }, BI = function(e) {
                    return e.messageShortcutReducer.blacklistIndex
                }, YI = (0,
                Ye.createSelector)(kr, HI, (function(e, r) {
                    return (0,
                    t.denormalize)(r, [b], {
                        messageShortcutsGroups: e
                    })
                }
                )), qI = function(e) {
                    return e.messageShortcutReducer.tags
                }, QI = function(e) {
                    return e.messageShortcutReducer.updateSequenceStatus
                }, WI = function(e) {
                    return e.offlineReplyReducer.status
                }, KI = function(e) {
                    return e.offlineReplyReducer.fetchStatus
                }, zI = function(e) {
                    return e.offlineReplyReducer.content
                }, JI = function(e) {
                    return e.offlineReplyReducer.workingDays
                }, XI = function(e) {
                    return e.closeReasonReducer && e.closeReasonReducer.status
                }, $I = function(e) {
                    return e.closeReasonReducer && e.closeReasonReducer.config
                }, ZI = function(e) {
                    return e.closeReasonReducer && e.closeReasonReducer.closeReasonEditingCache || {}
                }, eA = function(e) {
                    return e.closeReasonReducer && e.closeReasonReducer.messageStatusMap || {}
                }, tA = function(e) {
                    return (0,
                    Ye.createSelector)(ZI, (function(t) {
                        return t[e]
                    }
                    ))
                }, rA = function(e) {
                    return e.faqAssistantReducer
                }, nA = function(e) {
                    return e.faqAssistantReducer.status
                }, aA = function(e) {
                    return e.faqAssistantReducer.isBoundOtherAccount
                }, oA = function(e) {
                    return e.editingStatusReducer.editingStatus
                };
                function cA(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function sA(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? cA(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : cA(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                !function(e) {
                    e.FETCH_PRODUCTS_FOR_PRODUCT_SELECTOR = "FETCH_PRODUCTS_FOR_PRODUCT_SELECTOR",
                    e.FETCH_PRODUCTS_SUCCEED = "FETCH_PRODUCTS_SUCCEED",
                    e.UPDATE_PRODUCT_FETCH_STATUS = "UPDATE_PRODUCT_FETCH_STATUS",
                    e.FETCH_CATEGORY_REQUESTED = "FETCH_CATEGORY_REQUESTED",
                    e.FETCH_CATEGORY_SUCCEED = "FETCH_CATEGORY_SUCCEED",
                    e.UPDATE_CATEGORY_FETCH_STATUS = "UPDATE_CATEGORY_FETCH_STATUS"
                }(DI || (DI = {}));
                var iA = L().mark(OA)
                  , uA = L().mark(vA)
                  , pA = L().mark(gA)
                  , dA = (0,
                He.createActions)((e(PI = {}, DI.FETCH_PRODUCTS_FOR_PRODUCT_SELECTOR, (function(e) {
                    var t = e.shopId
                      , r = e.keyword
                      , n = e.sortBy
                      , a = e.sort
                      , o = e.categoryType;
                    return {
                        shopId: t,
                        keyword: r,
                        sortBy: n,
                        sort: a,
                        categoryId: e.categoryId,
                        categoryType: o,
                        pageSize: e.pageSize,
                        pageIndex: e.pageIndex
                    }
                }
                )),
                e(PI, DI.FETCH_PRODUCTS_SUCCEED, (function(e) {
                    return {
                        result: e.result,
                        total: e.total
                    }
                }
                )),
                e(PI, DI.UPDATE_PRODUCT_FETCH_STATUS, (function(e) {
                    return {
                        status: e.status
                    }
                }
                )),
                e(PI, DI.FETCH_CATEGORY_REQUESTED, (function(e) {
                    return {
                        type: e.type,
                        shopId: e.shopId
                    }
                }
                )),
                e(PI, DI.FETCH_CATEGORY_SUCCEED, (function(e) {
                    return {
                        type: e.type,
                        result: e.result
                    }
                }
                )),
                e(PI, DI.UPDATE_CATEGORY_FETCH_STATUS, (function(e) {
                    return {
                        status: e.status,
                        type: e.type
                    }
                }
                )),
                PI))
                  , lA = dA.fetchProductsForProductSelector
                  , fA = dA.fetchProductsSucceed
                  , _A = dA.updateProductFetchStatus
                  , EA = dA.fetchCategoryRequested
                  , SA = dA.fetchCategorySucceed
                  , hA = dA.updateCategoryFetchStatus;
                function OA(e) {
                    var t, r, n, a, o, c;
                    return L().wrap((function(s) {
                        for (; ; )
                            switch (s.prev = s.next) {
                            case 0:
                                return t = e.payload,
                                r = t.type,
                                n = t.shopId,
                                s.prev = 1,
                                s.next = 4,
                                (0,
                                vr.put)(hA({
                                    type: r,
                                    status: N.DataFetchStatus.INIT_PENDING
                                }));
                            case 4:
                                return o = {
                                    resource: a = "shopee" === r ? "categories" : "collections",
                                    params: {
                                        shop_id: n
                                    }
                                },
                                s.next = 8,
                                (0,
                                vr.call)(fr, o);
                            case 8:
                                return c = s.sent,
                                s.next = 11,
                                (0,
                                vr.put)(SA({
                                    type: r,
                                    result: c[a]
                                }));
                            case 11:
                                return s.next = 13,
                                (0,
                                vr.put)(hA({
                                    type: r,
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 13:
                                s.next = 19;
                                break;
                            case 15:
                                return s.prev = 15,
                                s.t0 = s.catch(1),
                                s.next = 19,
                                (0,
                                vr.put)(hA({
                                    type: r,
                                    status: N.DataFetchStatus.FAILED
                                }));
                            case 19:
                            case "end":
                                return s.stop()
                            }
                    }
                    ), iA, null, [[1, 15]])
                }
                function vA(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v;
                    return L().wrap((function(g) {
                        for (; ; )
                            switch (g.prev = g.next) {
                            case 0:
                                return t = e.payload,
                                r = t.shopId,
                                n = t.keyword,
                                a = t.sortBy,
                                o = t.sort,
                                c = t.categoryType,
                                s = t.categoryId,
                                i = t.pageSize,
                                u = void 0 === i ? 10 : i,
                                p = t.pageIndex,
                                g.prev = 1,
                                g.next = 4,
                                (0,
                                vr.put)(_A({
                                    status: N.DataFetchStatus.INIT_PENDING
                                }));
                            case 4:
                                return d = s && c && "all" !== s,
                                f = {
                                    keyword: n,
                                    per_page: u,
                                    page: p,
                                    shop_id: r
                                },
                                o && (f.sort = o,
                                f.sort_by = a),
                                d ? (f.type = c,
                                l = {
                                    resource: "category",
                                    id: s,
                                    suffix: "products",
                                    params: f,
                                    cleaner: sw
                                }) : (f.status = 1,
                                l = {
                                    resource: "products",
                                    params: f,
                                    cleaner: sw
                                }),
                                g.next = 10,
                                (0,
                                vr.call)(fr, l);
                            case 10:
                                if (_ = g.sent,
                                !(E = _[d ? "category" : "products"]).length) {
                                    g.next = 20;
                                    break
                                }
                                return E = E.map(Md),
                                h = C("products", E),
                                O = h.entities,
                                v = h.result,
                                g.next = 17,
                                (0,
                                vr.put)(Jr({
                                    entities: O
                                }));
                            case 17:
                                S = v,
                                g.next = 21;
                                break;
                            case 20:
                                S = [];
                            case 21:
                                return g.next = 23,
                                (0,
                                vr.put)(fA({
                                    result: S,
                                    total: _.total
                                }));
                            case 23:
                                return g.next = 25,
                                (0,
                                vr.put)(_A({
                                    status: N.DataFetchStatus.SUCCEED
                                }));
                            case 25:
                                g.next = 31;
                                break;
                            case 27:
                                return g.prev = 27,
                                g.t0 = g.catch(1),
                                g.next = 31,
                                (0,
                                vr.put)(_A({
                                    status: N.DataFetchStatus.INIT_FAILED
                                }));
                            case 31:
                            case "end":
                                return g.stop()
                            }
                    }
                    ), uA, null, [[1, 27]])
                }
                function gA() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.takeEvery)(lA, vA);
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.takeEvery)(EA, OA);
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), pA)
                }
                const TA = (e(wI = {}, DI.FETCH_PRODUCTS_SUCCEED, (function(e, t) {
                    var r = t.payload
                      , n = r.result
                      , a = r.total;
                    return sA(sA({}, e), {}, {
                        productList: n,
                        total: a
                    })
                }
                )),
                e(wI, DI.FETCH_CATEGORY_SUCCEED, (function(t, r) {
                    var n = r.payload
                      , a = n.type
                      , o = n.result;
                    return sA(sA({}, t), {}, e({}, "".concat(a, "Categories"), o))
                }
                )),
                e(wI, DI.UPDATE_PRODUCT_FETCH_STATUS, (function(e, t) {
                    var r = t.payload.status;
                    return sA(sA({}, e), {}, {
                        productFetchStatus: r
                    })
                }
                )),
                e(wI, DI.UPDATE_CATEGORY_FETCH_STATUS, (function(t, r) {
                    var n = r.payload
                      , a = n.status
                      , o = n.type;
                    return sA(sA({}, t), {}, e({}, "".concat(o, "CategoryFetchStatus"), a))
                }
                )),
                wI);
                function mA(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var bA, yA, RA = [gA], CA = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? mA(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : mA(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, TA), {
                    productFetchStatus: "",
                    productList: [],
                    shopeeCategoryFetchStatus: "",
                    shopCategoryFetchStatus: "",
                    shopeeCategories: [],
                    shopCategories: [],
                    total: 0
                }), IA = function(e) {
                    return e.productSelectorReducer.productFetchStatus
                }, AA = function(e) {
                    return e.productSelectorReducer.shopCategories
                }, DA = function(e) {
                    return e.productSelectorReducer.shopeeCategories
                }, PA = function(e) {
                    return e.productSelectorReducer.shopCategoryFetchStatus
                }, wA = function(e) {
                    return e.productSelectorReducer.shopeeCategoryFetchStatus
                }, xA = function(e) {
                    return e.productSelectorReducer.total
                }, NA = (0,
                Ye.createSelector)((function(e) {
                    return e.productSelectorReducer.productList
                }
                ), xr, (function(e, r) {
                    return (0,
                    t.denormalize)(e, [u], {
                        products: r
                    })
                }
                )), kA = function(e) {
                    return e.sellerRecReducer.groups
                }, UA = function(e) {
                    return e.sellerRecReducer.fetchGroupsStatus
                }, MA = function(e) {
                    return e.sellerRecReducer.sellerRecGroupStatus
                }, jA = function(e) {
                    return e.sellerRecReducer.sellerRecGroupSeqRequestedStatus
                }, LA = (0,
                Ye.createSelector)(kA, Rr, (function(e, r) {
                    return (0,
                    t.denormalize)(e, [y], r)
                }
                )), FA = function(e) {
                    return e.sellerRecReducer.shopList
                }, GA = function(e) {
                    return e.sellerRecReducer.fetchShopListStatus
                }, HA = function(e) {
                    return e.sellerRecReducer.fetchProductStatus
                }, VA = function(e) {
                    return e.sellerRecReducer.updateProductStatus
                }, BA = function(e) {
                    return e.sellerRecReducer.hasAccess
                }, YA = function(e) {
                    return e.sellerRecReducer.fetchShopListStatus
                }, qA = function(e) {
                    return e.workstationReducer.panelCache
                }, QA = (0,
                Ye.createSelector)(oi, qA, (function(e, t) {
                    return e && t[e] || {}
                }
                )), WA = (0,
                Ye.createSelector)(QA, (function(e) {
                    return e.workstationReducer.firstLevelTab
                }
                ), Zn, (function(e, t, r) {
                    return (r ? t : e.firstLevelTab) || "order"
                }
                )), KA = (0,
                Ye.createSelector)(QA, (function(e) {
                    return e.orderCache || "all"
                }
                )), zA = (0,
                Ye.createSelector)(QA, (function(e) {
                    return e.productCache || {}
                }
                )), JA = (0,
                Ye.createSelector)(QA, (function(e) {
                    return e.voucherCache || "ongoing"
                }
                )), XA = function(e) {
                    return e.reportReducer.beingReported
                };
                !function(e) {
                    e.REPORT_REQUESTED = "REPORT_REQUESTED",
                    e.CLEAR_REPORT_REQUESTED = "CLEAR_REPORT_REQUESTED"
                }(bA || (bA = {}));
                var $A, ZA = (0,
                He.createActions)((e(yA = {}, bA.REPORT_REQUESTED, (function(e) {
                    return {
                        event_time: e.event_time,
                        url: e.url
                    }
                }
                )),
                e(yA, bA.CLEAR_REPORT_REQUESTED, (function() {
                    return {}
                }
                )),
                yA)), eD = ZA.reportRequested, tD = ZA.clearReportRequested, rD = L().mark(cD), nD = L().mark(sD);
                function aD(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function oD(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? aD(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : aD(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                function cD() {
                    var e, t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return r.next = 2,
                                (0,
                                vr.select)(XA);
                            case 2:
                                if (!(e = r.sent).length) {
                                    r.next = 10;
                                    break
                                }
                                return t = _e(e),
                                r.next = 7,
                                (0,
                                vr.put)(tD());
                            case 7:
                                return t.sort((function(e, t) {
                                    return Number(t.event_time) - Number(e.event_time)
                                }
                                )),
                                r.next = 10,
                                (0,
                                vr.call)(fr, {
                                    method: "POST",
                                    subServer: "coreapi",
                                    parent: "user",
                                    resource: "report_active",
                                    payload: JSON.stringify(oD(oD({}, t[0]), {}, {
                                        platform_id: (0,
                                        N.isVisitingCNSC)() || (0,
                                        N.isVisitingKRSC)() ? 2 : 1
                                    }))
                                });
                            case 10:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), rD)
                }
                function sD() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 3,
                                (0,
                                vr.delay)(6e4);
                            case 3:
                                return e.next = 5,
                                cD();
                            case 5:
                                e.next = 0;
                                break;
                            case 7:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), nD)
                }
                const iD = (e($A = {}, bA.REPORT_REQUESTED, (function(e, t) {
                    var r = t.payload
                      , n = r.event_time
                      , a = r.url;
                    return {
                        beingReported: [].concat(_e(e.beingReported), [{
                            event_time: n,
                            url: a
                        }])
                    }
                }
                )),
                e($A, bA.CLEAR_REPORT_REQUESTED, (function(e) {
                    return {
                        beingReported: []
                    }
                }
                )),
                $A);
                function uD(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var pD = [sD]
                  , dD = (0,
                He.handleActions)(function(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? uD(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : uD(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }({}, iD), {
                    beingReported: []
                })
                  , lD = L().mark(gD);
                function fD(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function _D(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? fD(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : fD(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var ED, SD = 48e4, hD = 6e4, OD = !1, vD = "9223372036854775807";
                function gD() {
                    var e, t, r, n, a, o, c, s, i, u, p, d, l, f, _, E, S, h, O, v, g, T, m, b, y;
                    return L().wrap((function(R) {
                        for (; ; )
                            switch (R.prev = R.next) {
                            case 0:
                                return R.next = 3,
                                (0,
                                vr.delay)(hD);
                            case 3:
                                return e = void 0,
                                e = "session",
                                R.next = 7,
                                (0,
                                N.getItem)(e);
                            case 7:
                                if (!(t = R.sent) || !t.token) {
                                    R.next = 93;
                                    break
                                }
                                return R.prev = 9,
                                R.next = 12,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer
                                }
                                ));
                            case 12:
                                return r = R.sent,
                                n = r.maxLatestReceivedMessageId,
                                a = r.maxLatestTimestampNano,
                                R.next = 17,
                                (0,
                                vr.select)(Zn);
                            case 17:
                                return o = R.sent,
                                R.next = 20,
                                (0,
                                vr.select)(Ci);
                            case 20:
                                return c = R.sent.toLowerCase(),
                                s = !o && ["all", "unread"].includes(c),
                                i = ["pinned", "unread"].includes(c),
                                u = {},
                                s ? u.last_timestamp_nano = a || vD : u.last_message_id = n || vD,
                                u.last_unread_count_sync = OD,
                                R.next = 28,
                                (0,
                                vr.spawn)(fr, {
                                    method: "POST",
                                    resource: "user",
                                    suffix: "sync",
                                    params: _D({}, u)
                                });
                            case 28:
                                return p = R.sent,
                                R.next = 31,
                                (0,
                                vr.join)(p);
                            case 31:
                                if (d = R.sent,
                                l = d.have_new_msg,
                                f = d.unread_count,
                                _ = d.current_version,
                                E = d.valid_conversation_count,
                                S = d.capacity,
                                OD = !1,
                                !l) {
                                    R.next = 46;
                                    break
                                }
                                return R.next = 41,
                                (0,
                                vr.select)((function(e) {
                                    return e.conversationReducer
                                }
                                ));
                            case 41:
                                if (!(R.sent.syncFetchException < 3) || i) {
                                    R.next = 46;
                                    break
                                }
                                return R.next = 46,
                                (0,
                                vr.put)(ou({
                                    direction: "latest",
                                    source: N.ConversationSource.SYNC
                                }));
                            case 46:
                                if (!(f > -1)) {
                                    R.next = 75;
                                    break
                                }
                                return R.next = 49,
                                (0,
                                vr.select)(sn);
                            case 49:
                                if ((h = R.sent) === f) {
                                    R.next = 54;
                                    break
                                }
                                return R.next = 53,
                                (0,
                                vr.put)(mn({
                                    count: f
                                }));
                            case 53:
                                OD = !0;
                            case 54:
                                if (!o) {
                                    R.next = 74;
                                    break
                                }
                                return R.next = 57,
                                (0,
                                vr.select)(na);
                            case 57:
                                return O = R.sent,
                                R.next = 60,
                                (0,
                                vr.select)(un);
                            case 60:
                                return v = R.sent,
                                R.next = 63,
                                (0,
                                vr.select)(kO);
                            case 63:
                                if (g = R.sent,
                                T = 0,
                                Object.values(v).forEach((function(e) {
                                    T += e
                                }
                                )),
                                !O) {
                                    R.next = 70;
                                    break
                                }
                                if (f === T) {
                                    R.next = 70;
                                    break
                                }
                                return R.next = 70,
                                (0,
                                vr.spawn)(Pn, Tn({
                                    type: dn.REFRESH_TOTAL_UNREAD_CONVERSATION_COUNT,
                                    source: N.UnreadSource.SYNC
                                }));
                            case 70:
                                if (h === f && h === T && f === T || (0,
                                N.checkEmptyObject)(g)) {
                                    R.next = 74;
                                    break
                                }
                                return R.next = 73,
                                (0,
                                vr.spawn)(Pn, Tn({
                                    type: dn.REFRESH_SHOPS_UNREAD_CONVERSATIONS_COUNT,
                                    source: N.UnreadSource.SYNC,
                                    shopIds: [g.id]
                                }));
                            case 73:
                                OD = !0;
                            case 74:
                                o || (hD = h !== f || l ? 6e4 : hD >= SD ? SD : 2 * hD);
                            case 75:
                                if (!o) {
                                    R.next = 88;
                                    break
                                }
                                return R.next = 78,
                                (0,
                                vr.select)(oa);
                            case 78:
                                return m = R.sent,
                                R.next = 81,
                                (0,
                                vr.select)(aa);
                            case 81:
                                if (b = R.sent,
                                [m, N.SERVER_ERROR_VALID_CONV_COUNT].includes(E)) {
                                    R.next = 85;
                                    break
                                }
                                return R.next = 85,
                                (0,
                                vr.put)(So({
                                    validConversationCount: E
                                }));
                            case 85:
                                if ([b, N.SERVER_ERROR_CAPACITY].includes(S)) {
                                    R.next = 88;
                                    break
                                }
                                return R.next = 88,
                                (0,
                                vr.put)(So({
                                    capacity: S
                                }));
                            case 88:
                                _ && _ !== t.version && (y = Object.assign({}, t, {
                                    version: _
                                }),
                                (0,
                                N.setItem)(e, y)),
                                R.next = 93;
                                break;
                            case 91:
                                R.prev = 91,
                                R.t0 = R.catch(9);
                            case 93:
                                R.next = 0;
                                break;
                            case 95:
                            case "end":
                                return R.stop()
                            }
                    }
                    ), lD, null, [[9, 91]])
                }
                function TD(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function mD(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? TD(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : TD(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                !function(e) {
                    e.REDIRECT_CONVERSATION_REQUESTED = "REDIRECT_CONVERSATION_REQUESTED"
                }(ED || (ED = {}));
                var bD = L().mark(DD)
                  , yD = L().mark(PD)
                  , RD = L().mark(xD)
                  , CD = L().mark(ND)
                  , ID = L().mark(UD)
                  , AD = (0,
                He.createActions)(e({}, ED.REDIRECT_CONVERSATION_REQUESTED, (function(e) {
                    return {
                        userId: e.userId,
                        shopId: e.shopId,
                        orderId: e.orderId,
                        messageId: e.messageId,
                        isFromSearch: e.isFromSearch
                    }
                }
                ))).redirectConversationRequested;
                function DD(e) {
                    var t;
                    return L().wrap((function(r) {
                        for (; ; )
                            switch (r.prev = r.next) {
                            case 0:
                                return t = C("conversations", e),
                                r.next = 3,
                                (0,
                                vr.put)(Jr({
                                    entities: t.entities
                                }));
                            case 3:
                            case "end":
                                return r.stop()
                            }
                    }
                    ), bD)
                }
                function PD(e) {
                    var t, r, n, a, o, c, s, i, u, p, d, l, f;
                    return L().wrap((function(_) {
                        for (; ; )
                            switch (_.prev = _.next) {
                            case 0:
                                return t = e.payload,
                                r = t.userId,
                                n = t.shopId,
                                a = t.orderId,
                                o = t.isFromSearch,
                                c = void 0 !== o && o,
                                s = t.messageId,
                                i = t.showConvsBeforePreload,
                                _.next = 3,
                                (0,
                                vr.select)(ei);
                            case 3:
                                return u = _.sent,
                                _.next = 6,
                                (0,
                                vr.call)(fr, {
                                    method: "POST",
                                    resource: "conversation",
                                    suffix: "redirection",
                                    payload: JSON.stringify({
                                        user_id: parseInt(r),
                                        shop_id: n
                                    })
                                });
                            case 6:
                                if (p = _.sent,
                                d = p.id,
                                l = p.faking,
                                f = mD(mD({
                                    userId: r,
                                    shopId: n
                                }, {
                                    orderId: a
                                }), {}, {
                                    conversationId: p.id
                                }),
                                u.length,
                                !l && u.includes(d)) {
                                    _.next = 17;
                                    break
                                }
                                return _.next = 15,
                                (0,
                                vr.call)(DD, p);
                            case 15:
                                return _.next = 17,
                                (0,
                                vr.put)(au({
                                    conversationId: d
                                }));
                            case 17:
                                return (0,
                                N.setItem)("sc_redirect", f),
                                i && (0,
                                N.setItem)("show_chat_room", !0),
                                _.next = 21,
                                (0,
                                vr.put)(ku({
                                    conversation: p,
                                    messageId: s
                                }));
                            case 21:
                                !c && Co().put(Ao().sendMessagesRequested({
                                    payload: {
                                        conversationId: p.id,
                                        messages: [{
                                            type: "text",
                                            content: {
                                                text: ""
                                            },
                                            isFaking: !0
                                        }],
                                        more: {
                                            isFakingSource: !0
                                        }
                                    }
                                }));
                            case 22:
                            case "end":
                                return _.stop()
                            }
                    }
                    ), yD)
                }
                function wD(e, t) {
                    if (e) {
                        var r = e.userId
                          , n = e.shopId
                          , a = e.originFrom
                          , o = t.userId
                          , c = t.shopId;
                        return a !== t.originFrom || r !== o || n !== c
                    }
                    return !0
                }
                function xD() {
                    return L().wrap((function(e) {
                        for (; ; )
                            switch (e.prev = e.next) {
                            case 0:
                                return e.next = 2,
                                (0,
                                vr.put)(W_());
                            case 2:
                                return e.next = 4,
                                (0,
                                vr.put)(Uu());
                            case 4:
                            case "end":
                                return e.stop()
                            }
                    }
                    ), RD)
                }
                function ND(e) {
                    var t, r, n, a, o, c, s, i, u;
                    return L().wrap((function(p) {
                        for (; ; )
                            switch (p.prev = p.next) {
                            case 0:
                                if (t = e.type,
                                r = e.payload,
                                "SCRedirect" !== t && "MiniChatRedirect" !== t) {
                                    p.next = 52;
                                    break
                                }
                                return n = r.userId,
                                a = r.orderId,
                                o = r.shopId,
                                c = r.originFrom,
                                p.next = 5,
                                (0,
                                N.getItem)("sc_redirect");
                            case 5:
                                if (s = p.sent,
                                !c) {
                                    p.next = 22;
                                    break
                                }
                                if (!wD(s, r)) {
                                    p.next = 14;
                                    break
                                }
                                return p.next = 11,
                                (0,
                                vr.call)(xD);
                            case 11:
                                (0,
                                N.setItem)("sc_redirect", r),
                                p.next = 20;
                                break;
                            case 14:
                                return p.next = 16,
                                (0,
                                vr.select)(oi);
                            case 16:
                                if (!p.sent) {
                                    p.next = 20;
                                    break
                                }
                                return p.next = 20,
                                (0,
                                vr.call)(xD);
                            case 20:
                                p.next = 52;
                                break;
                            case 22:
                                if (!n || !o || !a && "MiniChatRedirect" !== t) {
                                    p.next = 52;
                                    break
                                }
                                return p.prev = 23,
                                p.next = 26,
                                (0,
                                vr.select)(Ci);
                            case 26:
                                return i = p.sent,
                                p.next = 29,
                                (0,
                                vr.select)(Ai);
                            case 29:
                                return u = p.sent,
                                p.next = 32,
                                (0,
                                vr.select)(na);
                            case 32:
                                if (!p.sent) {
                                    p.next = 43;
                                    break
                                }
                                if ("All" === u) {
                                    p.next = 43;
                                    break
                                }
                                return p.next = 37,
                                (0,
                                vr.put)(QO({
                                    filter: {}
                                }));
                            case 37:
                                return p.next = 39,
                                (0,
                                vr.put)(pu({
                                    filter: i,
                                    regionFilter: "All"
                                }));
                            case 39:
                                return p.next = 41,
                                (0,
                                vr.call)(xD);
                            case 41:
                                return p.next = 43,
                                (0,
                                vr.call)(Il, {
                                    payload: {
                                        direction: "reset"
                                    }
                                });
                            case 43:
                                return p.next = 45,
                                (0,
                                vr.call)(PD, {
                                    payload: r
                                });
                            case 45:
                                p.next = 52;
                                break;
                            case 47:
                                return p.prev = 47,
                                p.t0 = p.catch(23),
                                p.next = 51,
                                (0,
                                vr.call)(xD);
                            case 51:
                                (0,
                                N.setItem)("sc_redirect", r);
                            case 52:
                            case "end":
                                return p.stop()
                            }
                    }
                    ), CD, null, [[23, 47]])
                }
                var kD = function() {
                    return (0,
                    Km.eventChannel)((function(e) {
                        return window.addEventListener("message", (function(t) {
                            var r, n = t.origin || (null === (r = t.originalEvent) || void 0 === r ? void 0 : r.origin);
                            if (n) {
                                var a = "https://".concat(window.location.hostname);
                                (0,
                                N.getItem)("session").then((function(r) {
                                    var o = r && r.token;
                                    if (n === a && o) {
                                        var c, s = t.data || {}, i = s.userId, u = s.orderId, p = s.shopId, d = s.originFrom, l = s.type, f = null;
                                        i && p && u && (l = "SCRedirect"),
                                        (d || "SCRedirect" === l || "MiniChatRedirect" === l) && (f = t.data),
                                        f && (null === (c = t.source) || void 0 === c || c.postMessage({
                                            received: !0
                                        }, n),
                                        e({
                                            type: l,
                                            payload: f
                                        }))
                                    }
                                }
                                ))
                            }
                        }
                        ), !1),
                        function() {
                            return {}
                        }
                    }
                    ))
                };
                function UD() {
                    var e;
                    return L().wrap((function(t) {
                        for (; ; )
                            switch (t.prev = t.next) {
                            case 0:
                                return t.next = 2,
                                (0,
                                vr.call)(kD);
                            case 2:
                                return e = t.sent,
                                t.next = 5,
                                (0,
                                vr.takeEvery)(e, ND);
                            case 5:
                                return t.next = 7,
                                (0,
                                vr.takeEvery)(AD, PD);
                            case 7:
                            case "end":
                                return t.stop()
                            }
                    }
                    ), ID)
                }
                var MD = [gD, UD]
                  , jD = L().mark(LD);
                function LD(e, t, r) {
                    return L().wrap((function(n) {
                        for (; ; )
                            switch (n.prev = n.next) {
                            case 0:
                                return n.next = 2,
                                (0,
                                vr.takeEvery)(e, L().mark((function e(n) {
                                    var a;
                                    return L().wrap((function(e) {
                                        for (; ; )
                                            switch (e.prev = e.next) {
                                            case 0:
                                                if (a = n.payload.id) {
                                                    e.next = 5;
                                                    break
                                                }
                                                return e.next = 4,
                                                (0,
                                                vr.call)(t, n);
                                            case 4:
                                                return e.abrupt("return");
                                            case 5:
                                                return e.next = 7,
                                                (0,
                                                vr.race)({
                                                    task: (0,
                                                    vr.call)(t, n),
                                                    cancel: (0,
                                                    vr.take)((function(e) {
                                                        return e.type === r.toString() && e.payload.id === a
                                                    }
                                                    ))
                                                });
                                            case 7:
                                            case "end":
                                                return e.stop()
                                            }
                                    }
                                    ), e)
                                }
                                )));
                            case 2:
                            case "end":
                                return n.stop()
                            }
                    }
                    ), jD)
                }
                var FD = L().mark(VD);
                function GD(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function HD(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? GD(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : GD(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                function VD(e, t, r) {
                    var n, a, o, c, s = arguments;
                    return L().wrap((function(i) {
                        for (; ; )
                            switch (i.prev = i.next) {
                            case 0:
                                return n = s.length > 3 && void 0 !== s[3] ? s[3] : [],
                                a = e,
                                o = [],
                                c = [],
                                Array.isArray(e) && (a = (C(r, e).entities || {})[r] || {}),
                                t.forEach((function(e) {
                                    var t = e.id
                                      , s = a[t];
                                    s ? ["conversations", "agentConversations"].includes(r) && (void 0 !== s.faking || s.latestMessageStatus || void 0 !== s.unreplied) ? (delete (e = HD(HD({}, s), e)).faking,
                                    delete e.latestMessageStatus,
                                    delete e.unreplied,
                                    c.push(e)) : (n.length && n.forEach((function(t) {
                                        e[t] = s[t]
                                    }
                                    )),
                                    o.push((0,
                                    vr.put)(Xr({
                                        name: r,
                                        id: t,
                                        record: HD({}, e)
                                    })))) : c.push(e)
                                }
                                )),
                                c.length && o.push((0,
                                vr.put)(Jr({
                                    entities: C(r, c).entities
                                }))),
                                i.next = 9,
                                (0,
                                vr.all)(o);
                            case 9:
                            case "end":
                                return i.stop()
                            }
                    }
                    ), FD)
                }
                var BD = function(e, t, r, n) {
                    switch (r) {
                    case "reset":
                        if (n) {
                            var a = Array.isArray(t) ? _e(t) : [];
                            return a.unshift(n),
                            a
                        }
                        return t;
                    case "latest":
                        return t.concat(e.filter((function(e) {
                            return !t.includes(e)
                        }
                        )));
                    case "older":
                        return e.concat(t.filter((function(t) {
                            return !e.includes(t)
                        }
                        )));
                    default:
                        return t
                    }
                };
                function YD(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function qD(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? YD(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : YD(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var QD = function(e, t, r) {
                    if (e) {
                        var n = {};
                        return e.forEach((function(e) {
                            n[e] = !0
                        }
                        )),
                        (0,
                        N.simpleEqualCheck)(r.slice(0, N.persistLimit), e) ? qD(qD({}, t), {}, {
                            changed: !1
                        }) : {
                            changed: !0,
                            conversationIds: e,
                            conversationIdsMap: n,
                            lastConversationId: e[e.length - 1]
                        }
                    }
                    return null
                }
                  , WD = function(e) {
                    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                    if (!e || "number" != typeof e.storedTimestamp)
                        return !1;
                    var r = 18e4
                      , n = 18e5;
                    return Date.now() < e.storedTimestamp + (t ? r : n)
                }
                  , KD = new (P(187).EventEmitter)
                  , zD = !1
                  , JD = null
                  , XD = document.location
                  , $D = "".concat(XD.protocol, "//").concat(XD.host, "/favicon.ico");
                function ZD() {
                    var e = "t=".concat(Date.now())
                      , t = [$D, e].join("?");
                    JD = setTimeout((function() {
                        Se()(t, {
                            method: "GET"
                        }).then((function() {
                            clearTimeout(JD),
                            zD = !1,
                            window.dispatchEvent(new Event("judge-online"))
                        }
                        )).catch((function() {
                            ZD()
                        }
                        ))
                    }
                    ), 5e3)
                }
                function eP() {
                    if (zD)
                        return null;
                    zD = !0,
                    ZD()
                }
                var tP = new (J())({
                    name: "".concat((0,
                    N.getRuntimeRegion)(), "_").concat((0,
                    N.getRuntimeServer)(), "_chat-ws")
                })
                  , rP = tP.isShared
                  , nP = tP.socket
                  , aP = function() {
                    return nP.emit("message", "13".concat(JSON.stringify({
                        country: ((0,
                        N.getRuntimeRegion)() || "").toLocaleUpperCase(),
                        source: "newwebchat"
                    })))
                };
                function oP() {
                    return oP = Object.assign || function(e) {
                        for (var t = 1; t < arguments.length; t++) {
                            var r = arguments[t];
                            for (var n in r)
                                Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n])
                        }
                        return e
                    }
                    ,
                    oP.apply(this, arguments)
                }
                var cP = ["SPC_U", "SPC_F", "SPC_T_ID", "SPC_T_IV"];
                function sP(e) {
                    var t = {};
                    if ("function" == typeof e)
                        for (var r = e(), n = 0, a = cP; n < a.length; n++) {
                            var o = a[n];
                            t[o] = r[o]
                        }
                    return t
                }
                const iP = JSON.parse('{"OB":{"test":"test.","stable":"test-stable.","staging":"staging.","liveish":"live-test.","live":"","sandbox":"sandbox.","uat":"uat."}}');
                var uP = []
                  , pP = function() {
                    function e(e, t) {
                        var r = this;
                        this.context = e,
                        this.methodName = t,
                        this.originalMethodReference = e[t],
                        this.methodChain = [],
                        this.boundMethodChain = [],
                        this.wrappedMethod = function() {
                            var e = r.boundMethodChain[r.boundMethodChain.length - 1];
                            return e.apply(void 0, arguments)
                        }
                        ,
                        e[t] = this.wrappedMethod
                    }
                    e.add = function(e, t, r) {
                        (function(e, t) {
                            var r = dP(e, t);
                            return r || (r = new pP(e,t),
                            uP.push(r)),
                            r
                        }
                        )(e, t).add(r)
                    }
                    ,
                    e.remove = function(e, t, r) {
                        var n = dP(e, t);
                        n && n.remove(r)
                    }
                    ;
                    var t = e.prototype;
                    return t.add = function(e) {
                        this.methodChain.push(e),
                        this.rebindMethodChain()
                    }
                    ,
                    t.remove = function(e) {
                        var t = this.methodChain.indexOf(e);
                        t > -1 && (this.methodChain.splice(t, 1),
                        this.methodChain.length > 0 ? this.rebindMethodChain() : this.destory())
                    }
                    ,
                    t.rebindMethodChain = function() {
                        this.boundMethodChain = [];
                        for (var e, t = 0; e = this.methodChain[t]; t++) {
                            var r = this.boundMethodChain[t - 1] || this.originalMethodReference.bind(this.context);
                            this.boundMethodChain.push(e(r))
                        }
                    }
                    ,
                    t.destory = function() {
                        var e = uP.indexOf(this);
                        e > -1 && (uP.splice(e, -1),
                        this.context[this.methodName] = this.originalMethodReference)
                    }
                    ,
                    e
                }();
                function dP(e, t) {
                    return uP.filter((function(r) {
                        return r.context === e && r.methodName === t
                    }
                    ))[0]
                }
                var lP = function() {
                    function e() {}
                    var t = e.prototype;
                    return t.upgrade = function(t, r) {
                        if (r.oldVersion < e.DATABASE_VERSION && (t.objectStoreNames.contains(e.OBJECT_STORE_EVENTS_V1) && t.deleteObjectStore(e.OBJECT_STORE_EVENTS_V1),
                        t.objectStoreNames.contains(e.OBJECT_STORE_SESSIONS_V1) && t.deleteObjectStore(e.OBJECT_STORE_SESSIONS_V1)),
                        !t.objectStoreNames.contains(e.OBJECT_STORE_EVENTS)) {
                            var n = t.createObjectStore(e.OBJECT_STORE_EVENTS, {
                                autoIncrement: !0
                            });
                            n.createIndex(e.INDEX_EVENTS_FETCHED, e.INDEX_EVENTS_FETCHED, {
                                unique: !1
                            }),
                            n.createIndex(e.INDEX_EVENT_TIMESTAMP, e.INDEX_EVENT_TIMESTAMP, {
                                unique: !1
                            })
                        }
                        t.objectStoreNames.contains(e.OBJECT_STORE_SESSIONS) || t.createObjectStore(e.OBJECT_STORE_SESSIONS)
                    }
                    ,
                    t.init = function() {
                        var t = M(regeneratorRuntime.mark((function t() {
                            return regeneratorRuntime.wrap((function(t) {
                                for (; ; )
                                    switch (t.prev = t.next) {
                                    case 0:
                                        return t.prev = 0,
                                        t.next = 3,
                                        this.openDB(e.DATABASE_NAME, e.DATABASE_VERSION);
                                    case 3:
                                        return this.idb = t.sent,
                                        t.abrupt("return", !0);
                                    case 7:
                                        return t.prev = 7,
                                        t.t0 = t.catch(0),
                                        console.warn("[IndexedDBStorage]", t.t0),
                                        t.abrupt("return", !1);
                                    case 11:
                                    case "end":
                                        return t.stop()
                                    }
                            }
                            ), t, this, [[0, 7]])
                        }
                        )));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }(),
                    t.openDB = function(t, r) {
                        var n = this;
                        return new Promise((function(a, o) {
                            var c = self.window.indexedDB.open(t, r);
                            c.onblocked = function() {
                                console.warn("[IndexedDBStorage] Upgrade is blocked since connection to old version exists.")
                            }
                            ,
                            c.onerror = function(e) {
                                try {
                                    e.preventDefault()
                                } catch (e) {}
                                o(e)
                            }
                            ,
                            c.onsuccess = function(t) {
                                var r = t.target.result;
                                r.objectStoreNames.contains(e.OBJECT_STORE_EVENTS) && r.objectStoreNames.contains(e.OBJECT_STORE_SESSIONS) ? (r.onerror = function(e) {
                                    console.warn("[IndexedDBStorage]", e.target.errorCode)
                                }
                                ,
                                r.onversionchange = function() {
                                    r.close(),
                                    console.warn("[IndexedDBStorage] A new version of indexedDB is ready.")
                                }
                                ,
                                a(r)) : o("Required ObjectStore cannot be found.")
                            }
                            ,
                            c.onupgradeneeded = function(e) {
                                var t = e.target.result;
                                try {
                                    n.upgrade(t, e)
                                } catch (e) {
                                    o(e)
                                }
                            }
                        }
                        ))
                    }
                    ,
                    t.addEvent = function(t) {
                        var r = this;
                        return new Promise((function(n, a) {
                            var o = r.idb.transaction(e.OBJECT_STORE_EVENTS, "readwrite");
                            o.oncomplete = function() {
                                n(!0)
                            }
                            ,
                            o.onerror = function(e) {
                                a(e)
                            }
                            ,
                            o.onabort = function(e) {
                                a(e)
                            }
                            ,
                            o.objectStore(e.OBJECT_STORE_EVENTS).add({
                                data: JSON.stringify(t),
                                timestamp: Date.now(),
                                fetched: "f"
                            })
                        }
                        ))
                    }
                    ,
                    t.getEvents = function(t) {
                        var r = this
                          , n = []
                          , a = [];
                        return new Promise((function(o, c) {
                            var s = r.idb.transaction(e.OBJECT_STORE_EVENTS, "readwrite");
                            s.oncomplete = function() {
                                o({
                                    keys: n,
                                    data: a
                                })
                            }
                            ,
                            s.onerror = function(e) {
                                c(e)
                            }
                            ,
                            s.onabort = function(e) {
                                c(e)
                            }
                            ;
                            var i = IDBKeyRange.only("f");
                            s.objectStore(e.OBJECT_STORE_EVENTS).index(e.INDEX_EVENTS_FETCHED).openCursor(i).onsuccess = function(e) {
                                var r = e.target.result;
                                r && (n.push(r.primaryKey),
                                a.push(JSON.parse(r.value.data)),
                                r.update(oP({}, r.value, {
                                    fetched: "t"
                                })),
                                (-1 === t || t-- > 1) && r.continue())
                            }
                        }
                        ))
                    }
                    ,
                    t.resetEvents = function(t, r) {
                        var n = this;
                        return !t || t.length <= 0 ? Promise.resolve(!0) : new Promise((function(r, a) {
                            var o = n.idb.transaction(e.OBJECT_STORE_EVENTS, "readwrite");
                            o.oncomplete = function() {
                                r(!0)
                            }
                            ,
                            o.onerror = function(e) {
                                a(e)
                            }
                            ,
                            o.onabort = function(e) {
                                a(e)
                            }
                            ;
                            var c = IDBKeyRange.bound(t[0], t[t.length - 1]);
                            o.objectStore(e.OBJECT_STORE_EVENTS).openCursor(c).onsuccess = function(e) {
                                var t = e.target.result;
                                t && (t.update(oP({}, t.value, {
                                    fetched: "f"
                                })),
                                t.continue())
                            }
                        }
                        ))
                    }
                    ,
                    t.removeEvents = function(t) {
                        var r = this;
                        return !t || t.length <= 0 ? Promise.resolve(!0) : new Promise((function(n, a) {
                            var o = r.idb.transaction(e.OBJECT_STORE_EVENTS, "readwrite");
                            o.oncomplete = function() {
                                n(!0)
                            }
                            ,
                            o.onerror = function(e) {
                                a(e)
                            }
                            ,
                            o.onabort = function(e) {
                                a(e)
                            }
                            ;
                            var c = IDBKeyRange.bound(t[0], t[t.length - 1]);
                            o.objectStore(e.OBJECT_STORE_EVENTS).delete(c)
                        }
                        ))
                    }
                    ,
                    t.getSession = function(t) {
                        var r = this;
                        return new Promise((function(n, a) {
                            var o = {}
                              , c = r.idb.transaction(e.OBJECT_STORE_SESSIONS, "readwrite");
                            c.oncomplete = function() {
                                n(o)
                            }
                            ,
                            c.onerror = function(e) {
                                a(e)
                            }
                            ,
                            c.onabort = function(e) {
                                a(e)
                            }
                            ;
                            var s = c.objectStore(e.OBJECT_STORE_SESSIONS);
                            s.get(e.KEY_SESSION).onsuccess = function(r) {
                                o = t(r.target.result),
                                s.put(o, e.KEY_SESSION)
                            }
                        }
                        ))
                    }
                    ,
                    t.getCurrentSessionId = function() {
                        var t = this;
                        return new Promise((function(r, n) {
                            var a = {}
                              , o = t.idb.transaction(e.OBJECT_STORE_SESSIONS, "readwrite");
                            o.oncomplete = function() {
                                r(a.sessionId)
                            }
                            ,
                            o.onerror = function(e) {
                                n(e)
                            }
                            ,
                            o.onabort = function(e) {
                                n(e)
                            }
                            ,
                            o.objectStore(e.OBJECT_STORE_SESSIONS).get(e.KEY_SESSION).onsuccess = function(e) {
                                a = e.target.result
                            }
                        }
                        ))
                    }
                    ,
                    t.removeExpiredEvents = function() {
                        var t = this;
                        return new Promise((function(r, n) {
                            var a = t.idb.transaction(e.OBJECT_STORE_EVENTS, "readwrite");
                            a.oncomplete = function() {
                                r(!0)
                            }
                            ,
                            a.onerror = function(e) {
                                n(e)
                            }
                            ,
                            a.onabort = function(e) {
                                n(e)
                            }
                            ;
                            var o = IDBKeyRange.upperBound(Date.now() - e.RETENTION);
                            a.objectStore(e.OBJECT_STORE_EVENTS).index(e.INDEX_EVENT_TIMESTAMP).openCursor(o).onsuccess = function(e) {
                                var t = e.target.result;
                                t && (t.delete(),
                                t.continue())
                            }
                        }
                        ))
                    }
                    ,
                    e
                }();
                lP.DATABASE_NAME = "data-tracking",
                lP.DATABASE_VERSION = 3,
                lP.OBJECT_STORE_EVENTS_V1 = "events",
                lP.OBJECT_STORE_EVENTS = "events_v2",
                lP.OBJECT_STORE_SESSIONS_V1 = "sessions",
                lP.OBJECT_STORE_SESSIONS = "session_v2",
                lP.INDEX_EVENTS_FETCHED = "fetched",
                lP.INDEX_EVENT_TIMESTAMP = "timestamp",
                lP.KEY_SESSION = "current_session",
                lP.RETENTION = 1728e5;
                var fP = function() {
                    function e(e, t) {
                        this.storage = e,
                        this.storageKey = t
                    }
                    var t = e.prototype;
                    return t.get = function() {
                        return this.storage.get(this.storageKey) || []
                    }
                    ,
                    t.set = function(e) {
                        return e = e || [],
                        this.storage.set(this.storageKey, e)
                    }
                    ,
                    t.enqueue = function(e) {
                        var t = this.get();
                        t.push(e),
                        this.set(t)
                    }
                    ,
                    t.batchDequeue = function(e) {
                        var t = this.get()
                          , r = t.slice(0, e)
                          , n = t.slice(e);
                        return this.set(n),
                        r
                    }
                    ,
                    t.putBackBatchToQueue = function(e) {
                        return this.set(e.concat(this.get()))
                    }
                    ,
                    e
                }()
                  , _P = function() {
                    function e() {
                        var t = this;
                        e.supportsLocalStorage() ? this.storage = {
                            get: function(e) {
                                var t = self.window.localStorage.getItem(e);
                                return t ? JSON.parse(t) : void 0
                            },
                            set: function(e, t) {
                                var r = JSON.stringify(t);
                                self.window.localStorage.setItem(e, r)
                            }
                        } : (this.backStore = {},
                        this.storage = {
                            get: function(e) {
                                return t.backStore[e]
                            },
                            set: function(e, r) {
                                t.backStore[e] = r
                            }
                        }),
                        this.queue = new fP(this.storage,e.QUEUE_STORAGE_KEY)
                    }
                    e.supportsLocalStorage = function() {
                        if (!self.window)
                            return !1;
                        try {
                            return self.window.localStorage.setItem(e.CHECK_STORAGE_KEY, e.CHECK_STORAGE_KEY),
                            self.window.localStorage.removeItem(e.CHECK_STORAGE_KEY),
                            !0
                        } catch (e) {
                            return !1
                        }
                    }
                    ;
                    var t = e.prototype;
                    return t.addEvent = function(e) {
                        return this.queue.enqueue(e),
                        Promise.resolve(!0)
                    }
                    ,
                    t.getEvents = function(e) {
                        var t = -1 === e ? this.queue.get() : this.queue.batchDequeue(e);
                        return Promise.resolve({
                            data: t
                        })
                    }
                    ,
                    t.resetEvents = function(e, t) {
                        return this.queue.putBackBatchToQueue(t),
                        Promise.resolve(!0)
                    }
                    ,
                    t.removeEvents = function(e) {
                        return Promise.resolve(!0)
                    }
                    ,
                    t.getSession = function(t) {
                        var r = this.storage.get(e.SESSION_STORAGE_KEY);
                        return r = t(r = r && "sessionId"in r && "sequenceId"in r && "timestamp"in r ? r : null),
                        this.storage.set(e.SESSION_STORAGE_KEY, r),
                        Promise.resolve(r)
                    }
                    ,
                    t.getCurrentSessionId = function() {
                        var t = this.storage.get(e.SESSION_STORAGE_KEY)
                          , r = t && "sessionId"in t ? t.sessionId : yo()();
                        return Promise.resolve(r)
                    }
                    ,
                    e
                }();
                _P.QUEUE_STORAGE_KEY = "bi-tracking::events",
                _P.SESSION_STORAGE_KEY = "bi-tracking::session",
                _P.CHECK_STORAGE_KEY = "bi-tracking::check";
                var EP = null
                  , SP = function() {
                    function e() {}
                    return e.initIndexedDB = function() {
                        var e = M(regeneratorRuntime.mark((function e() {
                            var t;
                            return regeneratorRuntime.wrap((function(e) {
                                for (; ; )
                                    switch (e.prev = e.next) {
                                    case 0:
                                        if (!self.window || !self.window.indexedDB) {
                                            e.next = 8;
                                            break
                                        }
                                        return t = new lP,
                                        e.next = 4,
                                        t.init();
                                    case 4:
                                        if (!e.sent) {
                                            e.next = 8;
                                            break
                                        }
                                        try {
                                            t.removeExpiredEvents()
                                        } catch (e) {
                                            console.warn("[TrackerStorage]", e)
                                        }
                                        return e.abrupt("return", t);
                                    case 8:
                                        return e.abrupt("return", null);
                                    case 9:
                                    case "end":
                                        return e.stop()
                                    }
                            }
                            ), e)
                        }
                        )));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    e.get = (t = M(regeneratorRuntime.mark((function t() {
                        return regeneratorRuntime.wrap((function(t) {
                            for (; ; )
                                switch (t.prev = t.next) {
                                case 0:
                                    if (EP) {
                                        t.next = 5;
                                        break
                                    }
                                    return t.next = 3,
                                    e.initIndexedDB();
                                case 3:
                                    (EP = t.sent) || (EP = new _P);
                                case 5:
                                    return t.abrupt("return", EP);
                                case 6:
                                case "end":
                                    return t.stop()
                                }
                        }
                        ), t)
                    }
                    ))),
                    function() {
                        return t.apply(this, arguments)
                    }
                    ),
                    e;
                    var t
                }()
                  , hP = ""
                  , OP = ""
                  , vP = function() {
                    function e() {}
                    return e.getSession = function() {
                        var t = M(regeneratorRuntime.mark((function t() {
                            var r;
                            return regeneratorRuntime.wrap((function(t) {
                                for (; ; )
                                    switch (t.prev = t.next) {
                                    case 0:
                                        return t.next = 2,
                                        SP.get();
                                    case 2:
                                        return r = t.sent,
                                        t.next = 5,
                                        r.getSession((function(t) {
                                            var r = Date.now();
                                            return null == t || r - t.timestamp > e.SESSION_DURATION ? t = {
                                                sessionId: yo()(),
                                                timestamp: r,
                                                sequenceId: 0
                                            } : (t.sequenceId += 1,
                                            t.timestamp = r),
                                            t
                                        }
                                        ));
                                    case 5:
                                        return t.abrupt("return", t.sent);
                                    case 6:
                                    case "end":
                                        return t.stop()
                                    }
                            }
                            ), t)
                        }
                        )));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }(),
                    e.GetSessionId = function() {
                        var e = M(regeneratorRuntime.mark((function e() {
                            var t;
                            return regeneratorRuntime.wrap((function(e) {
                                for (; ; )
                                    switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2,
                                        SP.get();
                                    case 2:
                                        return t = e.sent,
                                        e.next = 5,
                                        t.getCurrentSessionId();
                                    case 5:
                                        return e.abrupt("return", e.sent);
                                    case 6:
                                    case "end":
                                        return e.stop()
                                    }
                            }
                            ), e)
                        }
                        )));
                        return function() {
                            return e.apply(this, arguments)
                        }
                    }(),
                    e.setLatestEventId = function(e) {
                        hP = e
                    }
                    ,
                    e.getLatestEventId = function() {
                        return hP
                    }
                    ,
                    e.setLatestViewPageType = function(e) {
                        OP = e
                    }
                    ,
                    e.getLatestViewPageType = function() {
                        return OP
                    }
                    ,
                    e
                }();
                function gP(e) {
                    var t = {}
                      , r = (e = e || "").indexOf("?");
                    if (-1 !== r) {
                        var n = e.substring(r + 1);
                        (n = n.split("#")[0]).split("&").forEach((function(e) {
                            if (e) {
                                var r = e.indexOf("=")
                                  , n = r > -1 ? e.substring(0, r) : e
                                  , a = r > -1 ? decodeURIComponent(e.substring(r + 1)) : "";
                                t[n] = a
                            }
                        }
                        ))
                    }
                    return t
                }
                function TP(e) {
                    return Object.keys(e).length <= 0
                }
                function mP(e, t) {
                    return !!e && e.split("/")[2] === t
                }
                function bP(e) {
                    var t = {};
                    return e.hasOwnProperty("affiliate_trackid") && (t.affiliate_trackid = e.affiliate_trackid),
                    e.hasOwnProperty("utm_source") && (t.utm_source = e.utm_source),
                    e.hasOwnProperty("utm_medium") && (t.utm_medium = e.utm_medium),
                    e.hasOwnProperty("utm_campaign") && (t.utm_campaign = e.utm_campaign),
                    e.hasOwnProperty("utm_term") && (t.utm_term = e.utm_term),
                    e.hasOwnProperty("utm_content") && (t.utm_content = e.utm_content),
                    t
                }
                function yP(e) {
                    var t = {};
                    return e.hasOwnProperty("event_source") && (t.event_source = e.event_source),
                    t
                }
                function RP(e) {
                    if (!self.document || !self.location)
                        return null;
                    var t = null;
                    try {
                        t = gP(self.location.href)
                    } catch (e) {
                        console.warn("[getParams]", e)
                    }
                    if (!t || TP(t))
                        return null;
                    var r = {}
                      , n = mP(self.document.referrer, self.location.hostname);
                    return (e && n || !e) && (r = yP(t)),
                    e && !n && (r = bP(t)),
                    TP(r) ? null : r
                }
                function CP(e) {
                    if (e.hash && e.hash.startsWith("#/")) {
                        var t = e.hash.lastIndexOf("#");
                        return 0 === t ? e.hash.substring(1) : e.hash.substring(1, t)
                    }
                    return e.pathname
                }
                function IP() {
                    return location.pathname + location.hash + location.search
                }
                function AP() {
                    return location.host + location.pathname + location.hash
                }
                vP.SESSION_DURATION = 18e5;
                var DP = function() {
                    function e(e) {
                        if (self.window && self.window.addEventListener) {
                            var t = {
                                shouldTrackHistoryChange: this.shouldTrackHistoryChange,
                                trackReplaceState: !1
                            };
                            this.opts = oP({}, t, e),
                            this.path = IP(),
                            this.pathname = CP(location),
                            this.eventId = yo()(),
                            vP.setLatestEventId(this.eventId),
                            this.pushStateOverride = this.pushStateOverride.bind(this),
                            this.replaceStateOverride = this.replaceStateOverride.bind(this),
                            this.handlePopState = this.handlePopState.bind(this),
                            this.handleHashChange = this.handleHashChange.bind(this),
                            this.handleLoad = this.handleLoad.bind(this),
                            self.history && self.history.pushState ? (pP.add(history, "pushState", this.pushStateOverride),
                            pP.add(history, "replaceState", this.replaceStateOverride),
                            window.addEventListener("popstate", this.handlePopState)) : window.addEventListener("hashchange", this.handleHashChange),
                            this.handleLoad()
                        } else
                            console.warn("[AutoTracker]", "not work unsupporting browser")
                    }
                    var t, r = e.prototype;
                    return r.pushStateOverride = function(e) {
                        var t = this;
                        return function() {
                            e.apply(void 0, arguments),
                            t.handleHistoryChange(!0)
                        }
                    }
                    ,
                    r.replaceStateOverride = function(e) {
                        var t = this;
                        return function() {
                            e.apply(void 0, arguments),
                            t.handleHistoryChange(!1)
                        }
                    }
                    ,
                    r.handlePopState = function() {
                        this.handleHistoryChange(!0)
                    }
                    ,
                    r.handleHashChange = function() {
                        this.handleHistoryChange(!0)
                    }
                    ,
                    r.handleLoad = function() {
                        var e = this
                          , t = {
                            isOnload: !0,
                            referrer: self.document.referrer,
                            eventId: this.eventId,
                            href: self.location.href,
                            hostname: self.location.hostname,
                            pathname: this.pathname,
                            absolutePath: AP()
                        };
                        setTimeout((function() {
                            try {
                                e.sendPageview(t)
                            } catch (e) {
                                console.warn("[AutoTracker]", e)
                            }
                        }
                        ), 300)
                    }
                    ,
                    r.sendPageview = (t = M(regeneratorRuntime.mark((function e(t) {
                        var r, n, a, o, c, s, i, u, p;
                        return regeneratorRuntime.wrap((function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    return e.next = 2,
                                    vP.getSession();
                                case 2:
                                    return r = e.sent,
                                    n = Date.now(),
                                    a = gP(t.href),
                                    o = {
                                        auto_mapped_view: vP.getLatestViewPageType(),
                                        auto_refer: t.referrer,
                                        auto_pathname: t.pathname,
                                        auto_url: t.href,
                                        start_time: n
                                    },
                                    TP(a) || (o.param_string = JSON.stringify(a)),
                                    c = mP(t.referrer, t.hostname),
                                    (t.isOnload && c || !t.isOnload) && !TP(s = yP(a)) && (o = oP({}, o, s)),
                                    t.isOnload && !c && !TP(i = bP(a)) && (o = oP({}, o, i)),
                                    u = {
                                        civ_id: t.eventId,
                                        info: {
                                            auto_view_id: "browser-abs|" + t.absolutePath,
                                            data: {
                                                auto_pv_common: o
                                            },
                                            operation: "auto_view",
                                            usage_id: 0
                                        },
                                        sequence_id: r.sequenceId,
                                        session_id: r.sessionId,
                                        timestamp: n,
                                        type: "v3"
                                    },
                                    e.next = 13,
                                    SP.get();
                                case 13:
                                    return p = e.sent,
                                    e.next = 16,
                                    p.addEvent(u);
                                case 16:
                                case "end":
                                    return e.stop()
                                }
                        }
                        ), e)
                    }
                    ))),
                    function(e) {
                        return t.apply(this, arguments)
                    }
                    ),
                    r.shouldTrackHistoryChange = function(e, t) {
                        return !(!e || !t)
                    }
                    ,
                    r.handleHistoryChange = function(e) {
                        var t, r = this, n = this.path, a = this.pathname, o = IP(), c = CP(location);
                        if (n !== o && this.opts.shouldTrackHistoryChange.call(this, o, n) && (this.path = o,
                        this.pathname = c,
                        e || this.opts.trackReplaceState)) {
                            this.eventId = yo()(),
                            t = function() {
                                vP.setLatestEventId(r.eventId)
                            }
                            ,
                            "function" == typeof requestIdleCallback ? requestIdleCallback((function() {
                                return t()
                            }
                            )) : t();
                            var s = {
                                isOnload: !1,
                                referrer: a,
                                eventId: this.eventId,
                                href: self.location.href,
                                hostname: self.location.hostname,
                                pathname: this.pathname,
                                absolutePath: AP()
                            };
                            setTimeout((function() {
                                try {
                                    r.sendPageview(s)
                                } catch (e) {
                                    console.warn("[AutoTracker]", e)
                                }
                            }
                            ), 300)
                        }
                    }
                    ,
                    e
                }()
                  , PP = function() {
                    function e(t) {
                        this.backoff = e.BACKOFF_PERIOD,
                        this.isSyncing = !1,
                        this.makePromise = t,
                        this.sync = this.sync.bind(this)
                    }
                    return e.prototype.sync = (t = M(regeneratorRuntime.mark((function t() {
                        var r, n, a, o = this;
                        return regeneratorRuntime.wrap((function(t) {
                            for (; ; )
                                switch (t.prev = t.next) {
                                case 0:
                                    if (t.prev = 0,
                                    !this.isSyncing) {
                                        t.next = 3;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 3:
                                    return t.next = 5,
                                    SP.get();
                                case 5:
                                    return r = t.sent,
                                    t.next = 8,
                                    r.getEvents(-1);
                                case 8:
                                    if (!((n = t.sent).data.length <= 0)) {
                                        t.next = 11;
                                        break
                                    }
                                    return t.abrupt("return");
                                case 11:
                                    return this.isSyncing = !0,
                                    t.next = 14,
                                    this.makePromise(n.data).catch((function(e) {
                                        console.warn("[Sender]", e)
                                    }
                                    ));
                                case 14:
                                    if (!(a = t.sent) || 200 !== a.status) {
                                        t.next = 22;
                                        break
                                    }
                                    return t.next = 18,
                                    r.removeEvents(n.keys);
                                case 18:
                                    this.backoff = e.BACKOFF_PERIOD,
                                    this.isSyncing = !1,
                                    t.next = 26;
                                    break;
                                case 22:
                                    return t.next = 24,
                                    r.resetEvents(n.keys, n.data);
                                case 24:
                                    this.backoff *= 2,
                                    setTimeout((function() {
                                        o.isSyncing = !1,
                                        o.sync()
                                    }
                                    ), this.backoff);
                                case 26:
                                    t.next = 32;
                                    break;
                                case 28:
                                    t.prev = 28,
                                    t.t0 = t.catch(0),
                                    console.warn("[Sender]", t.t0),
                                    this.isSyncing = !1;
                                case 32:
                                case "end":
                                    return t.stop()
                                }
                        }
                        ), t, this, [[0, 28]])
                    }
                    ))),
                    function() {
                        return t.apply(this, arguments)
                    }
                    ),
                    e;
                    var t
                }();
                PP.BACKOFF_PERIOD = 200;
                var wP = function() {
                    function e(t) {
                        this.syncPeriod = e.SYNC_PERIOD,
                        this.isSyncing = !1,
                        this.makePromise = t,
                        this.sync = this.sync.bind(this),
                        this.syncWhenIdle = this.syncWhenIdle.bind(this),
                        this.setSyncThreadId = this.setSyncThreadId.bind(this),
                        this.syncThreadId = setInterval(this.syncWhenIdle, this.syncPeriod)
                    }
                    var t = e.prototype;
                    return t.setSyncThreadId = function() {
                        this.syncThreadId && clearInterval(this.syncThreadId),
                        this.syncThreadId = setInterval(this.syncWhenIdle, this.syncPeriod)
                    }
                    ,
                    t.syncWhenIdle = function() {
                        window && window.requestIdleCallback ? window.requestIdleCallback(this.sync, {
                            timeout: 1e3
                        }) : this.sync()
                    }
                    ,
                    t.sync = function() {
                        var t = M(regeneratorRuntime.mark((function t() {
                            var r, n, a;
                            return regeneratorRuntime.wrap((function(t) {
                                for (; ; )
                                    switch (t.prev = t.next) {
                                    case 0:
                                        if (t.prev = 0,
                                        !this.isSyncing) {
                                            t.next = 3;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 3:
                                        return t.next = 5,
                                        SP.get();
                                    case 5:
                                        return r = t.sent,
                                        t.next = 8,
                                        r.getEvents(e.BATCH_SIZE);
                                    case 8:
                                        if (!((n = t.sent).data.length <= 0)) {
                                            t.next = 11;
                                            break
                                        }
                                        return t.abrupt("return");
                                    case 11:
                                        return this.isSyncing = !0,
                                        t.next = 14,
                                        this.makePromise(n.data).catch((function(e) {
                                            console.warn("[SenderWithInterval]", e)
                                        }
                                        ));
                                    case 14:
                                        if (!(a = t.sent) || 200 !== a.status) {
                                            t.next = 21;
                                            break
                                        }
                                        return t.next = 18,
                                        r.removeEvents(n.keys);
                                    case 18:
                                        this.syncPeriod > e.SYNC_PERIOD && (this.syncPeriod = e.SYNC_PERIOD,
                                        this.setSyncThreadId()),
                                        t.next = 25;
                                        break;
                                    case 21:
                                        return t.next = 23,
                                        r.resetEvents(n.keys, n.data);
                                    case 23:
                                        this.syncPeriod *= 2,
                                        this.setSyncThreadId();
                                    case 25:
                                        this.isSyncing = !1,
                                        t.next = 32;
                                        break;
                                    case 28:
                                        t.prev = 28,
                                        t.t0 = t.catch(0),
                                        console.warn("[SenderWithInterval]", t.t0),
                                        this.isSyncing = !1;
                                    case 32:
                                    case "end":
                                        return t.stop()
                                    }
                            }
                            ), t, this, [[0, 28]])
                        }
                        )));
                        return function() {
                            return t.apply(this, arguments)
                        }
                    }(),
                    e
                }();
                wP.SYNC_PERIOD = 2e3,
                wP.BATCH_SIZE = 20;
                var xP, NP = oP({}, iP.OB, {
                    liveish: ""
                }), kP = function() {
                    function e(e) {
                        var t, r;
                        this.options = e,
                        this.endpoint = e.endpoint || (t = e.env.toLowerCase(),
                        r = e.locale.toLowerCase(),
                        "https://c-api-bit." + NP[t] + "shopeemobile.com/" + r + "/tr"),
                        this.pageId = yo()(),
                        this.isOnload = !0,
                        void 0 === e.appId && (this.options.appId = 0),
                        (void 0 === e.enableAutoTrack || e.enableAutoTrack) && (this.autoTracker = new DP),
                        e.sendEventByInterval ? this.sender = new wP(this.post.bind(this)) : this.sender = new PP(this.post.bind(this))
                    }
                    var t, r = e.prototype;
                    return r.updatePageId = function() {
                        this.pageId = yo()()
                    }
                    ,
                    r.track = function(e, t) {
                        console.warn("[TrackingV3SDK] TrackingV3SDK.track is deprecated"),
                        this.sync({
                            data: {
                                type: e,
                                timestamp: Date.now(),
                                info: t
                            }
                        })
                    }
                    ,
                    r.sync = function() {
                        var e = M(regeneratorRuntime.mark((function e(t) {
                            var r, n, a;
                            return regeneratorRuntime.wrap((function(e) {
                                for (; ; )
                                    switch (e.prev = e.next) {
                                    case 0:
                                        return r = t.data,
                                        e.prev = 1,
                                        e.next = 4,
                                        this.preProcess(r);
                                    case 4:
                                        return n = e.sent,
                                        e.next = 7,
                                        SP.get();
                                    case 7:
                                        return a = e.sent,
                                        e.next = 10,
                                        a.addEvent(n);
                                    case 10:
                                        if (this.options.sendEventByInterval) {
                                            e.next = 13;
                                            break
                                        }
                                        return e.next = 13,
                                        this.sender.sync();
                                    case 13:
                                        e.next = 18;
                                        break;
                                    case 15:
                                        e.prev = 15,
                                        e.t0 = e.catch(1),
                                        console.warn("[TrackingV3SDK]", e.t0);
                                    case 18:
                                    case "end":
                                        return e.stop()
                                    }
                            }
                            ), e, this, [[1, 15]])
                        }
                        )));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }(),
                    r.post = function() {
                        var e = M(regeneratorRuntime.mark((function e(t) {
                            var r, n;
                            return regeneratorRuntime.wrap((function(e) {
                                for (; ; )
                                    switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2,
                                        this.convertEvents(t);
                                    case 2:
                                        if (!((r = e.sent).length > 0)) {
                                            e.next = 8;
                                            break
                                        }
                                        return e.next = 6,
                                        this.addMeta(r);
                                    case 6:
                                        return n = e.sent,
                                        e.abrupt("return", this.options.fetch(this.endpoint, {
                                            method: "POST",
                                            headers: {
                                                "X-SPC-DF": n.uuid
                                            },
                                            body: JSON.stringify(n)
                                        }));
                                    case 8:
                                        return e.abrupt("return", Promise.resolve());
                                    case 9:
                                    case "end":
                                        return e.stop()
                                    }
                            }
                            ), e, this)
                        }
                        )));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }(),
                    r.addMeta = (t = M(regeneratorRuntime.mark((function e(t) {
                        var r, n, a, o, c, s, i, u;
                        return regeneratorRuntime.wrap((function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    if (r = this.options,
                                    n = r.platform,
                                    a = r.ua,
                                    o = r.source,
                                    c = r.meta,
                                    s = r.getCookies,
                                    !(i = sP(s)).SPC_F) {
                                        e.next = 6;
                                        break
                                    }
                                    e.t0 = i.SPC_F,
                                    e.next = 9;
                                    break;
                                case 6:
                                    return e.next = 8,
                                    vP.GetSessionId();
                                case 8:
                                    e.t0 = e.sent;
                                case 9:
                                    return u = e.t0,
                                    e.abrupt("return", {
                                        uuid: u,
                                        events: t,
                                        meta: oP({}, c, {
                                            platform: n,
                                            ua: a,
                                            source: o,
                                            locale: this.options.locale.toLowerCase(),
                                            cookies: i,
                                            userid: i.SPC_U && "-" !== i.SPC_U ? parseInt(i.SPC_U, 10) : null,
                                            pageid: this.pageId,
                                            app_id: this.options.appId
                                        })
                                    });
                                case 11:
                                case "end":
                                    return e.stop()
                                }
                        }
                        ), e, this)
                    }
                    ))),
                    function(e) {
                        return t.apply(this, arguments)
                    }
                    ),
                    r.convertEvents = function() {
                        var e = M(regeneratorRuntime.mark((function e(t) {
                            var r, n, a, o, c, s, i, u = this;
                            return regeneratorRuntime.wrap((function(e) {
                                for (; ; )
                                    switch (e.prev = e.next) {
                                    case 0:
                                        return e.next = 2,
                                        this.options.v2ToV3ConverterPromise;
                                    case 2:
                                        r = e.sent,
                                        n = [],
                                        a = regeneratorRuntime.mark((function e() {
                                            var t;
                                            return regeneratorRuntime.wrap((function(e) {
                                                for (; ; )
                                                    switch (e.prev = e.next) {
                                                    case 0:
                                                        if (!c) {
                                                            e.next = 6;
                                                            break
                                                        }
                                                        if (!(s >= o.length)) {
                                                            e.next = 3;
                                                            break
                                                        }
                                                        return e.abrupt("return", "break");
                                                    case 3:
                                                        i = o[s++],
                                                        e.next = 10;
                                                        break;
                                                    case 6:
                                                        if (!(s = o.next()).done) {
                                                            e.next = 9;
                                                            break
                                                        }
                                                        return e.abrupt("return", "break");
                                                    case 9:
                                                        i = s.value;
                                                    case 10:
                                                        return t = i,
                                                        e.next = 13,
                                                        r(t);
                                                    case 13:
                                                        e.sent.forEach((function(e) {
                                                            e.error || (u.postProcess(t, e),
                                                            n.push(e))
                                                        }
                                                        ));
                                                    case 15:
                                                    case "end":
                                                        return e.stop()
                                                    }
                                            }
                                            ), e)
                                        }
                                        )),
                                        o = t,
                                        c = Array.isArray(o),
                                        s = 0,
                                        o = c ? o : o[Symbol.iterator]();
                                    case 6:
                                        return e.delegateYield(a(), "t0", 7);
                                    case 7:
                                        if ("break" !== e.t0) {
                                            e.next = 10;
                                            break
                                        }
                                        return e.abrupt("break", 12);
                                    case 10:
                                        e.next = 6;
                                        break;
                                    case 12:
                                        return e.abrupt("return", n);
                                    case 13:
                                    case "end":
                                        return e.stop()
                                    }
                            }
                            ), e, this)
                        }
                        )));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }(),
                    r.preProcess = function() {
                        var e = M(regeneratorRuntime.mark((function e(t) {
                            var r, n, a, o, c;
                            return regeneratorRuntime.wrap((function(e) {
                                for (; ; )
                                    switch (e.prev = e.next) {
                                    case 0:
                                        return r = vP.getLatestEventId(),
                                        n = this.options.preProcess(this, t),
                                        e.next = 4,
                                        vP.getSession();
                                    case 4:
                                        return a = e.sent,
                                        n = oP({}, n, {
                                            session_id: a.sessionId,
                                            sequence_id: a.sequenceId,
                                            civ_id: r
                                        }),
                                        "v3" === t.type ? t.info && "view" === t.info.operation && (o = t.info.page_type || "",
                                        vP.setLatestViewPageType(o),
                                        n.params = RP(this.isOnload),
                                        this.isOnload = !1) : "pageState" === t.type && t.info && (c = t.info.pageType || "",
                                        vP.setLatestViewPageType(c),
                                        n.params = RP(this.isOnload),
                                        this.isOnload = !1),
                                        e.abrupt("return", n);
                                    case 8:
                                    case "end":
                                        return e.stop()
                                    }
                            }
                            ), e, this)
                        }
                        )));
                        return function(t) {
                            return e.apply(this, arguments)
                        }
                    }(),
                    r.postProcess = function(e, t) {
                        if (t.info && void 0 === t.info.usage_id && (t.info.usage_id = 0),
                        t.session_id = e.session_id,
                        t.sequence_id = e.sequence_id,
                        t.civ_id = e.civ_id,
                        t.info && "auto_view" === t.info.operation && this.options.matchRoutes) {
                            var r = this.options.matchRoutes
                              , n = r(t.info.data.auto_pv_common.auto_pathname);
                            n && (t.info.auto_view_id = "browser|" + n);
                            var a = t.info.data.auto_pv_common.auto_refer;
                            if (a && a.startsWith("/")) {
                                var o = r(a);
                                o && (t.info.data.auto_pv_common.auto_refer = "browser|" + o)
                            }
                        }
                        if (e.params && t.info.data) {
                            var c = t.info.data.view_common || {};
                            c = oP({}, c, e.params),
                            t.info.data.view_common = c
                        }
                        return t
                    }
                    ,
                    e
                }();
                function UP(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function MP(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? UP(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : UP(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var jP = function(t) {
                    var r = {};
                    for (var n in t)
                        for (var a in t[n])
                            r = MP(MP({}, r), {}, e({}, a, {
                                section: n,
                                type: t[n][a]
                            }));
                    return r
                }({
                    buyer_information_dropdown: {
                        clickViewProfile: "more_view_profile",
                        clickMoreReport: "more_report",
                        clickBlockInProfile: "more_block"
                    },
                    buyer_information: {
                        clickProfileMenus: "username_more_button"
                    },
                    chat_more_dropdown: {
                        clickClosedInProfile: "chat_more_close",
                        markAsPinned: "pin_chat",
                        markAsUnpinned: "unpin_chat",
                        markAsRead: "mark_as_read",
                        markAsUnread: "mark_as_unread",
                        markAsDelete: "delete",
                        markAsClose: "close",
                        markAsRestart: "restart",
                        markAsMute: "mute",
                        markAsUnmute: "unmute",
                        markAsForward: "forward"
                    },
                    conversation_window: {
                        replyIcon: "reply_icon",
                        deleteIcon: "delete_icon",
                        repliedMessageBar: "replied_message_bar",
                        repliedMessageBarCloseButton: "replied_message_bar_close_button",
                        actionDragVideoInMediaPreivew: "",
                        deletePreviewMediaInMediaPreivew: "",
                        closePreviewMediaInMediaPreivew: "",
                        impressionMediaInMediaPreivew: "preview_media",
                        clickAddMediaInMediaPreivew: "preview_add_media",
                        clickResendVideo: "resend_video",
                        impressionVideoMessage: "video_play_thumbnail",
                        impressionImageMessage: "qrcode_alert",
                        clickCancelVideo: "cancel_video",
                        clickAcceptOffer: "accept_offer",
                        clickRejectOffer: "reject_offer",
                        clickViewProductInMall: "view_in_mall",
                        clickViewProductInSellerCenter: "view_in_seller_center",
                        clickViewDetailInSellerCenter: "order_view_detail_button",
                        clickHandleStoryMessage: "story",
                        clickPlayInVideoMessage: "video_play_thumbnail",
                        impressionResendVideo: "resend_video",
                        clickPreviewQrcode: "open_qrcode_alert",
                        clickOrderMessage: "order_message",
                        clickProductMessage: "product_message",
                        clickProductItemMessage: "item_collection_message",
                        clickClaimVoucher: "voucher_claim",
                        impressionPopupOrderCard: "popup_order_card",
                        impressionOrderMessage: "order_message",
                        impressionProductMessage: "product_message",
                        clickUnfoldWorkstation: "unfold_button",
                        clickFoldWorkstation: "fold_button",
                        impressionOfferMessage: "offer_message",
                        impressionVoucherMessage: "voucher_message",
                        impressionProductItemMessage: "item_collection_message",
                        impressionVoucherForReceiverInWebchat: "voucher_message"
                    },
                    conversation_window_pop_up: {
                        clickCloseMediaPreviewModalFromX: "close_pop_up",
                        clickCloseMediaPreviewModalFromBackground: "close_pop_up_background",
                        clickPreviewLeftMedia: "left",
                        clickPreviewRightMedia: "right",
                        impressionAfterSwipeMedia: ""
                    },
                    conversation_window_qrcode_pop_up: {
                        impressionUnknowQrcode: "qrcode_alert",
                        clickQrcodeToLearnMore: "learn_more",
                        clickBackToChat: "back_to_chat",
                        clickOpenQrcode: "open_image",
                        impressionQrcode: ""
                    },
                    conversation_window_video_pop_up: {
                        actionFinishVideo: "video_end",
                        clickSlideBar: "slide_bar",
                        clickDownloadVideo: "download",
                        clickVideoMinimize: "minimize",
                        clickVideoExpand: "expand",
                        impressionReloadVideoError: "reload_video",
                        clickReloadVideo: "reload_video",
                        clickStopVideo: "stop_video",
                        clickRestartVideo: "restart_video"
                    },
                    voucher_information_tab: {
                        impressionVoucherInWorkStation: "voucher_card",
                        clickViewMyVouchers: "view_my_vouchers",
                        clickVoucherTab: "voucher_tab",
                        clickSendVoucher: "send_voucher"
                    },
                    order_information_tab: {
                        impressionOfferButton: "offer_button",
                        clickOfferButton: "offer_button",
                        clickOrderTab: "order_tab",
                        clickOrderDetail: "order_view_detail",
                        clickOrderCancel: "order_cancel",
                        clickOrderSendLink: "order_sendlink",
                        clickRateBuyer: "rate_buyer",
                        clickAcceptCancel: "accept_cancel",
                        clickRejectCancel: "reject_cancel"
                    },
                    chat_list_dropdown: {
                        chat_list_all: "chat_list_all",
                        chat_list_unread: "chat_list_unread",
                        chat_list_pinned: "chat_list_pinned",
                        chat_list_closed: "chat_list_closed",
                        chat_list_unreplied: "chat_list_unreplied"
                    },
                    chat_setting_dropdown: {
                        sendFeedback: "send_feedback",
                        clickChatSetting: "chat_setting",
                        clickLogoutButton: "logout_button",
                        clickMyShops: "my_shops",
                        convertSellerCenter: "convert_seller_center"
                    },
                    product_tab: {
                        impressionProductTab: "product_tab",
                        clickAllproduct: "all_product_button",
                        clickSystemRecommendedProduct: "system_recommended_product_button",
                        clickSellerRecommendedProduct: "seller_recommended_product_button",
                        clickMultipleProductSend: "multiple_product_send_button",
                        clickProductSearchBar: "search_bar",
                        impressionProductInfo: "product_info",
                        clickProductSend: "product_send_button",
                        clickProductDetails: "product_details_button",
                        clickSellerRecommendedDropdownOption: "seller_recommended_dropdown_option"
                    },
                    shop_selection: {
                        selectShop: "shop",
                        selectAllShop: "all_shop"
                    },
                    chat_list: {
                        clickChatMore: "chat_more",
                        clickSearchBar: "search_bar",
                        clickSearchResult: "search_result"
                    },
                    shop_head_status_dropdown: {
                        clickOnlineButton: "online_button",
                        clickHangupButton: "hang_up_button"
                    },
                    delete_confirmation_popup: {
                        deleteConfirm: "delete_confirmation",
                        cancelConfirm: "cancel_confirmation"
                    },
                    error_popup: {
                        error: "error_popup"
                    },
                    order_card_pop_up: {
                        clickSendPopupOrderCard: "send",
                        clickClosePopupOrderCard: "close"
                    },
                    order_card: {
                        clickCopyOrderSN: "copy"
                    },
                    offer_card: {
                        clickAcceptOfferInPanel: "accept_offer",
                        clickRejectOfferInPanel: "reject_offer"
                    }
                })
                  , LP = ["message_shortcuts", "auto_reply", "notification", "translation_assistant", "timestamp", "performance_data", "login_status", "faq_assistant", "seller_recom"].reduce((function(t, r) {
                    return MP(MP({}, t), {}, e({}, "click_".concat(r), {
                        section: "",
                        type: r
                    }))
                }
                ), {})
                  , FP = MP(MP(MP({}, jP), {}, (e(xP = {
                    impressionMsgGamesFailQuota: {
                        section: "conversation_window",
                        type: "msg_games_fail_quota"
                    },
                    impressionConversationCell: {
                        section: "",
                        type: "chat_conversation"
                    },
                    clickConversationCell: {
                        section: "",
                        type: "chat_conversation"
                    },
                    operateHints: {
                        section: "message_toolbar",
                        type: "shortcut_result_from_auto_popup"
                    },
                    clickEditShortcut: {
                        section: "message_toolbar",
                        type: "shortcut_button_draft"
                    },
                    operateSearchShortcuts: {
                        section: "message_toolbar",
                        type: "shortcut_result_from_search_available"
                    },
                    searchShortcutsFocus: {
                        section: "message_toolbar",
                        type: "shortcut_button"
                    },
                    impressionEmptySearchShortcuts: {
                        section: "message_toolbar",
                        type: "shortcut_result_from_search_empty"
                    },
                    selectShortcutFromShortcutButton: {
                        section: "message_toolbar",
                        type: "shortcut_result_from_shortcut_button"
                    },
                    clickMuteInProfile: {
                        section: "personal_information_dropdown",
                        type: "mute"
                    },
                    clickUnmuteInProfile: {
                        section: "personal_information_dropdown",
                        type: "unmute"
                    },
                    impressionMuteInProfile: {
                        section: "personal_information_dropdown",
                        type: "mute"
                    },
                    impressionUnmuteInProfile: {
                        section: "personal_information_dropdown",
                        type: "unmute"
                    },
                    impressionSafetyTip: {
                        section: "conversation_window",
                        type: "safety_tip"
                    },
                    clickSafetyTipLearnMore: {
                        section: "safety_tip",
                        type: "learn_more"
                    },
                    clickAddFromTemplate: {
                        section: "message_shortcuts_detail_tab",
                        type: "add_message_template"
                    },
                    actionAdjustMessageShortcuts: {
                        section: "message_shortcuts_tab",
                        type: ""
                    },
                    actionAdjustMessageShortcutsDetail: {
                        section: "message_shortcuts_detail_tab",
                        type: ""
                    },
                    impressionClickableCard: {
                        section: "conversation_window",
                        type: "clickable_message"
                    },
                    clickClickableCard: {
                        section: "conversation_window",
                        type: "clickable_message"
                    },
                    clickRateCardSubmit: {
                        section: "evaluation_card",
                        type: "evaluation_submit_button"
                    },
                    impressionRateCard: {
                        section: "evaluation_card",
                        type: ""
                    },
                    impressionRateCardFeedback: {
                        section: "evaluation_card_feedback",
                        type: ""
                    },
                    clickTranslationFeedback: {
                        section: "",
                        type: "translation_feedback"
                    },
                    impressionFeedbackPopup: {
                        section: "feedback_popup_window",
                        type: "translation_feedback"
                    },
                    clickFeedbackSubmit: {
                        section: "feedback_popup_window",
                        type: "feedback_submit_button"
                    },
                    impressionFeedbackMore: {
                        section: "feedback_popup_window",
                        type: "feedback_tell_us_more"
                    },
                    clickSendMessageButton: {
                        section: "",
                        type: "send_message_button"
                    },
                    clickRestartButton: {
                        section: "",
                        type: "restart_conversation"
                    },
                    clickStickerInToolbar: {
                        section: "message_toolbar",
                        type: "sticker_button"
                    },
                    clickImageInToolbar: {
                        section: "message_toolbar",
                        type: "image_button"
                    },
                    clickVideoInToolbar: {
                        section: "message_toolbar",
                        type: "video_button"
                    },
                    clickShortcutInToolbar: {
                        section: "message_toolbar",
                        type: "shortcut_button"
                    },
                    clickSendRatingCard: {
                        section: "",
                        type: "appraise_button"
                    },
                    clickVisitSellerCenterFromShopList: {
                        section: "",
                        type: "visit_seller_center"
                    },
                    clickBackChatFromShopList: {
                        section: "",
                        type: "view_message"
                    },
                    clickShopHeadStatus: {
                        section: "",
                        type: "shop_head_status"
                    },
                    viewPage: {
                        section: "",
                        type: ""
                    },
                    impressionChatRoom: {
                        section: "conversation_window",
                        type: ""
                    },
                    translationShowOriginal: {
                        section: "",
                        type: "show_original"
                    },
                    translationTryAgain: {
                        section: "",
                        type: "try_again"
                    }
                }, "clickShortcutInToolbar", {
                    section: "message_toolbar",
                    type: "shortcut_button"
                }),
                e(xP, "viewSetting", {
                    section: "",
                    type: ""
                }),
                e(xP, "viewMessageShortcutsDetail", {
                    section: "message_shortcuts_detail_tab",
                    type: ""
                }),
                e(xP, "clickForwardInProfile", {
                    section: "",
                    type: "forward_conversation"
                }),
                e(xP, "clickRatingInToolbar", {
                    section: "message_toolbar",
                    type: "rating_button"
                }),
                e(xP, "clickShopHead", {
                    section: "",
                    type: "shop_head"
                }),
                e(xP, "clickInformationTab", {
                    section: "information_tab",
                    type: "information_tab"
                }),
                e(xP, "clickNotificationBell", {
                    type: "notification_bell"
                }),
                e(xP, "clickRegionFilter", {
                    section: "",
                    type: "region_toggle"
                }),
                xP), LP), {}, {
                    typeMessage: {
                        type: "typing_message",
                        section: "message_toolbar"
                    }
                });
                function GP(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                var HP, VP = null, BP = function(e) {
                    e && (VP = e)
                }, YP = null, qP = function() {
                    var t;
                    if (window.BITrack)
                        YP = window.BITrack;
                    else {
                        var r = {
                            appId: 1,
                            fetch: Se(),
                            source: "pc",
                            platform: "pc",
                            ua: navigator ? navigator.userAgent || navigator.vendor : "",
                            getCookies: H().get,
                            sendEventByInterval: !0,
                            enableAutoTrack: !1
                        };
                        t = function(t) {
                            for (var r = 1; r < arguments.length; r++) {
                                var n = null != arguments[r] ? arguments[r] : {};
                                r % 2 ? GP(Object(n), !0).forEach((function(r) {
                                    e(t, r, n[r])
                                }
                                )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : GP(Object(n)).forEach((function(e) {
                                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                                }
                                ))
                            }
                            return t
                        }({
                            locale: (0,
                            N.getRuntimeRegion)(),
                            env: (0,
                            N.getRuntimeServer)()
                        }, r),
                        HP = new kP(oP({}, t, {
                            v2ToV3ConverterPromise: function(e) {
                                return [e]
                            },
                            preProcess: function(e, t) {
                                return t
                            }
                        })),
                        YP = HP.sync.bind(HP)
                    }
                }, QP = function(e) {
                    var t = e.trackerName
                      , r = e.data
                      , n = e.operation
                      , a = void 0 === n ? N.TrackerOperation.CLICK : n
                      , o = e.page
                      , c = e.shopId;
                    YP || qP();
                    var s = function(e) {
                        var t = e.data
                          , r = e.operation
                          , n = e.page
                          , a = e.shopId
                          , o = FP[e.trackerName]
                          , c = o.section
                          , s = void 0 === c ? "" : c
                          , i = o.type
                          , u = void 0 === i ? "" : i
                          , p = VP || {}
                          , d = p.shop_id
                          , l = void 0 === d ? "" : d
                          , f = p.role
                          , _ = void 0 === f ? "" : f
                          , E = p.id
                          , S = void 0 === E ? "" : E
                          , h = Object.assign({}, {
                            shopid: l || a,
                            account_type: _ || "shopee_user",
                            account_id: S
                        }, t);
                        return {
                            operation: r,
                            page_section: s,
                            target_type: u,
                            page_type: n || "seller_center_webchat",
                            data: r === N.TrackerOperation.IMPRESSION ? {
                                viewed_objects: [h]
                            } : h
                        }
                    }({
                        trackerName: t,
                        data: r,
                        operation: a,
                        page: o,
                        shopId: c
                    });
                    YP({
                        data: {
                            type: "v3",
                            timestamp: Date.now(),
                            info: s
                        }
                    })
                }, WP = [], KP = function e(t) {
                    for (; (t.timeRemaining() > 5 || t.didTimeout) && WP.length; ) {
                        var r = WP.shift();
                        QP(r)
                    }
                    WP.length && Dt(e, {
                        timeout: 200
                    })
                }, zP = function(e) {
                    WP.push(e),
                    Dt(KP, {
                        timeout: 200
                    })
                }, JP = [];
                function XP(e) {
                    if ((e.timeRemaining() > 5 || e.didTimeout) && JP.length) {
                        var t = _e(JP);
                        JP = [],
                        F.store.dispatch($R({
                            reportTask: t
                        }))
                    }
                    JP.length && Dt(XP, {
                        timeout: 200
                    })
                }
                var $P = function(e) {
                    var t;
                    (t = JP).push.apply(t, _e(e)),
                    Dt(XP, {
                        timeout: 200
                    })
                }
                  , ZP = function(e) {
                    return e.startsWith("https://") || e.startsWith("http://") ? e : "https://".concat(e)
                }
                  , ew = function(e) {
                    return "https://".concat((0,
                    N.getMallUrl)((0,
                    N.getRuntimeRegion)())).concat(e)
                }
                  , tw = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                      , r = t.order_id
                      , n = t.return_id;
                    switch (e) {
                    case "order_detail_page":
                    case "shipping_info_page":
                    case "spl_landing_page":
                        return ew("/user/purchase/order/".concat(r));
                    case "my_voucher_page":
                        return ew("/user/voucher-wallet");
                    case "topay_order_detail_page":
                        return ew("/user/purchase?type=9");
                    case "drc_discuss_page":
                        return "https://".concat((0,
                        N.getSellerCenterUrl)((0,
                        N.getRuntimeRegion)()), "/portal/sale/return/").concat(n);
                    case "change_mobile_number_page":
                        return ew("/user/account/profile");
                    case "request_order_return_page":
                    case "buyer_order_return_page":
                    case "upload_evidence_page":
                        return ew("/user/purchase?type=8");
                    case "return_refund_detail_page":
                        return ew("/return/detail/orderid/".concat(r, "?__mobile__=1"))
                    }
                }
                  , rw = function(e, t, r) {
                    return cR(e, t, r, !0)
                }
                  , nw = function(e) {
                    var t;
                    return {
                        checkout_id: e.checkout_id,
                        order_sn: e.order_sn,
                        total_price: e.default_price,
                        currency: e.currency,
                        order_status: String(e.order_status),
                        item_image: (null === (t = e.items) || void 0 === t ? void 0 : t.map((function(e) {
                            return null == e ? void 0 : e.image[0]
                        }
                        ))) || [e.image],
                        list_type: e.list_type,
                        has_request_refund: e.has_request_refund,
                        buyer_pay_amount: e.buyer_pay_amount,
                        seller_estimated_escrow: e.seller_estimated_escrow,
                        shop_id: e.shop_id,
                        order_id: e.order_id
                    }
                };
                function aw(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function ow(t) {
                    for (var r = 1; r < arguments.length; r++) {
                        var n = null != arguments[r] ? arguments[r] : {};
                        r % 2 ? aw(Object(n), !0).forEach((function(r) {
                            e(t, r, n[r])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : aw(Object(n)).forEach((function(e) {
                            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                        }
                        ))
                    }
                    return t
                }
                var cw = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "SG"
                      , t = arguments.length > 1 ? arguments[1] : void 0
                      , r = void 0 !== t && !t;
                    return "TW" !== e || r ? N.Currencies[e] : "NT$"
                }
                  , sw = function(e, t) {
                    return ow(ow({}, e), function(e, t) {
                        var r = e.original_prices
                          , n = e.actual_prices
                          , a = x(r.map((function(r) {
                            return (0,
                            N.formatPrice)(r, e.country, {}, t)
                        }
                        )), 2)
                          , o = a[0]
                          , c = a[1]
                          , s = x(n.map((function(r) {
                            return (0,
                            N.formatPrice)(r, e.country, {}, t)
                        }
                        )), 2)
                          , i = s[0]
                          , u = s[1]
                          , p = o === c ? o : "".concat(o, " - ").concat(c)
                          , d = i === u ? i : "".concat(i, " - ").concat(u)
                          , l = o.includes("NaN") || i.includes("NaN");
                        return {
                            original_price_string: l || p === d ? "" : p,
                            actual_price_string: l ? "".concat(cw(e.country, t), "???") : d,
                            storedTimestamp: Date.now()
                        }
                    }(e, t))
                };
                function iw(e) {
                    return function() {
                        var t = Array.prototype.slice.call(arguments);
                        return e.memoize = e.memoize || {},
                        t in e.memoize ? e.memoize[t] : e.memoize[t] = e.apply(this, t)
                    }
                }
            }
            )(),
            w
        }
        )(),
        e.exports = n(r(13612), r(26842), r(33800), r(36808), r(27463), r(99995), r(4852), r(94301), r(68214), r(52153), r(63568), r(20573), r(85095), r(59065), r(67677), r(58397), r(33100), r(57130), r(98282), r(34857), r(91578), r(32755), r(9084), r(31479), r(16392), r(94633), r(14977), r(87766))
    },
    26842: function(e, t, r) {
        var n;
        n = (e,t,r,n)=>(()=>{
            var a = {
                757: (e,t,r)=>{
                    e.exports = r(666)
                }
                ,
                470: (e,t,r)=>{
                    "use strict";
                    r.d(t, {
                        D: ()=>i,
                        t: ()=>u
                    });
                    var n = r(661)
                      , a = r.n(n)
                      , o = r(547)
                      , c = !1
                      , s = function(e, t) {
                        c = !0;
                        var r = t || (0,
                        o.CE)();
                        a().init({
                            lng: r,
                            fallbackLng: r,
                            defaultNS: "common",
                            keySeparator: !1,
                            debug: !1,
                            resources: e && e.resources || {},
                            interpolation: {
                                prefix: "{",
                                suffix: "}",
                                escapeValue: !1
                            },
                            react: {
                                wait: !1,
                                bindI18n: "languageChanged loaded",
                                bindStore: "added removed",
                                nsMode: "default"
                            }
                        })
                    }
                      , i = function(e, t) {
                        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "common";
                        c || s({
                            resources: {}
                        }, e),
                        a().changeLanguage(e),
                        a().addResourceBundle(e, r, t, !0, !0)
                    }
                      , u = a().t.bind(a())
                }
                ,
                547: (e,t,r)=>{
                    "use strict";
                    r.d(t, {
                        An: ()=>G,
                        CE: ()=>K,
                        Db: ()=>z,
                        E3: ()=>I,
                        Ey: ()=>A,
                        Fy: ()=>V,
                        Ht: ()=>R,
                        I7: ()=>U,
                        I9: ()=>J,
                        IE: ()=>q,
                        Jy: ()=>x,
                        L6: ()=>W,
                        Ll: ()=>k,
                        Od: ()=>M,
                        S1: ()=>i,
                        S8: ()=>y,
                        Vm: ()=>C,
                        X7: ()=>Q,
                        Y8: ()=>h,
                        YH: ()=>L,
                        dV: ()=>N,
                        jz: ()=>X,
                        k2: ()=>F,
                        nr: ()=>T,
                        qk: ()=>b,
                        r: ()=>Y,
                        u7: ()=>P,
                        wK: ()=>D,
                        xC: ()=>j,
                        z$: ()=>S
                    });
                    var n, a, o, c, s = {
                        sg: "en",
                        ph: "en",
                        tw: "zh-Hant",
                        my: "ms-MY",
                        th: "th-TH",
                        vn: "vi-VN",
                        id: "id-ID",
                        br: "pt-BR",
                        in: "hi",
                        cn: "zh-CN",
                        mx: "es-MX",
                        co: "es-CO",
                        cl: "es-CL",
                        ar: "es-AR",
                        pl: "pl",
                        es: "es-ES",
                        fr: "fr",
                        us: "en",
                        kr: "en"
                    }, i = function(e, t, r) {
                        n = e.toLowerCase(),
                        a = "liveish" === t ? "live-test" : "stable" === t ? "test-stable" : t,
                        o = r,
                        c = s[n] || "en"
                    }, u = ["my", "br", "mx", "co", "ar"], p = ["id", "th"], d = ["us"], l = function(e) {
                        return u.includes(e) ? "com.".concat(e) : p.includes(e) ? "co.".concat(e) : d.includes(e) ? "com" : e
                    }, f = function(e) {
                        return "tw" === e ? "xiapi" : e.toLowerCase()
                    }, _ = function(e) {
                        return l(e)
                    }, E = function() {
                        return "live" === a ? "shopee" : "".concat(a, ".shopee")
                    }, S = function() {
                        return "cn" === n
                    }, h = function() {
                        return "kr" === n
                    };
                    function O() {
                        return v() && !S()
                    }
                    function v() {
                        var e = window.location.hostname;
                        return e && e.includes("cn")
                    }
                    var g = function(e, t) {
                        return "seller" === e ? "vn" !== t || O() ? "seller" : "banhang" : e
                    }
                      , T = function(e, t) {
                        var r = t ? t.toLowerCase() : n;
                        return "".concat(g(e, r), ".").concat(f(r), ".").concat(E(), ".").concat("cn")
                    }
                      , m = function(e, t) {
                        var r, o = t ? t.toLowerCase() : n;
                        return O() ? T(e, o) : "".concat(g(e, o), ".").concat((r = window.location.hostname,
                        r && r.includes("shopeebrasil") ? "live" === a ? "shopeebrasil" : "".concat(a, ".shopeebrasil") : E()), ".").concat(_(o))
                    }
                      , b = function(e) {
                        return m("seller", e)
                    }
                      , y = function() {
                        return "live" === a ? "seller.shopee.cn" : "seller.".concat(a, ".shopee.cn")
                    }
                      , R = function() {
                        return "live" === a ? "seller.shopee.kr" : "seller.".concat(a, ".shopee.kr")
                    }
                      , C = function() {
                        return "".concat(b(), "/webchat/api")
                    }
                      , I = function() {
                        return "".concat(b(), "/api")
                    }
                      , A = function() {
                        return m("seller-push-ws")
                    }
                      , D = function() {
                        return m("chat-ws")
                    }
                      , P = function(e) {
                        var t = e ? e.toLowerCase() : n;
                        return "cn" !== t && "kr" !== t || (t = "my"),
                        v() ? "".concat(f(t), ".").concat("live" === a ? "" : "".concat(a, ".")).concat("xiapibuy.com") : "".concat(E(), ".").concat(_(t))
                    }
                      , w = ["sg", "my", "th", "ph", "vn", "id", "tw", "br"]
                      , x = function(e) {
                        var t = e ? e.toLowerCase() : n;
                        if (S())
                            return "https://s-cf-sg.shopeesz.com/file/";
                        if (h())
                            return "https://cf.shopee.sg/file/";
                        var r = w.includes(t);
                        return O() && r ? "https://s-cf-".concat(t, ".shopeesz.com/file/") : "https://cf.shopee.".concat(l(t), "/file/")
                    }
                      , N = function(e) {
                        var t = e ? e.toLowerCase() : n;
                        return "tw" === t && v() ? "https://cvf.shopee.cn/file/" : "https://cvf.shopee.".concat(l(t), "/file/")
                    }
                      , k = function(e) {
                        var t = e ? e.toLowerCase() : n
                          , r = "test-stable" === a ? "staging" : a;
                        return "".concat(v() ? "deo.shopeesz.com" : "deo.shopeemobile.com", "/shopee").concat("live" === a ? "" : "/test", "/shopee-sticker-").concat(r, "-").concat(t)
                    }
                      , U = function() {
                        return "https://subaccount.".concat(E(), ".com/")
                    }
                      , M = function() {
                        return "https://deo.shopeemobile.com/shopee/shopee-seller-live-".concat(S() || h() ? "sg" : n, "/downloads/")
                    }
                      , j = function() {
                        return "https://".concat(m("seller"), "/webchat/conversations")
                    }
                      , L = function() {
                        return "https://".concat(m("seller"), "/webchat")
                    }
                      , F = function() {
                        var e = "test-stable" === a ? "stable" : a;
                        return "https://deo.".concat(O() ? "shopeesz" : "shopeemobile", ".com/shopee/shopee-seller-").concat(e, "-").concat(n, "/")
                    }
                      , G = {
                        sg: "https://help.shopee.sg/sg/s/article/What-happens-if-I-ve-accumulated-Penalty-Points-1542975961836",
                        my: "https://help.shopee.com.my/my/s/article/What-is-Shopee-s-Seller-Penalty-Points-system-1542971633226",
                        th: "https://help.shopee.co.th/th/s/article/%E0%B8%A3%E0%B8%B0%E0%B8%9A%E0%B8%9A%E0%B8%84%E0%B8%B0%E0%B9%81%E0%B8%99%E0%B8%99%E0%B8%84%E0%B8%A7%E0%B8%B2%E0%B8%A1%E0%B8%9B%E0%B8%A3%E0%B8%B0%E0%B8%9E%E0%B8%A4%E0%B8%95%E0%B8%B4%E0%B8%A3%E0%B9%89%E0%B8%B2%E0%B8%99%E0%B8%84%E0%B9%89%E0%B8%B2%E0%B8%84%E0%B8%B7%E0%B8%AD%E0%B8%AD%E0%B8%B0%E0%B9%84%E0%B8%A3-1542967300368",
                        tw: "https://help.shopee.tw/tw/s/article/%E5%A6%82%E6%9E%9C%E7%B4%AF%E7%A9%8D%E4%BA%86%E8%A8%88%E5%88%86-%E8%B3%A3%E5%AE%B6%E6%9C%83%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E9%9D%A2%E7%9A%84%E9%99%90%E5%88%B6-1542986467060",
                        vn: "https://banhang.shopee.vn/edu/article/237",
                        ph: "https://help.shopee.ph/ph/s/article/How-does-the-Seller-Penalty-Points-system-work-1542963021404",
                        id: "https://seller.shopee.co.id/edu/article/1762",
                        in: "https://seller.shopee.in/edu/courseDetail/482"
                    }
                      , H = {
                        sg: "7a48024995c847d9a4586bab9fde57a7",
                        id: "888adc066bf3426a8c70227470281818",
                        mx: "e58cb9c620f54aec9e18a01632c35c05",
                        br: "d75e2dbb49594bd19d1ea83485339a45",
                        co: "a503e7f7bc4849c0824985ddd9659d33",
                        cl: "5484e709da71430cb8980abc5cef14f0",
                        my: "b7a7ff2afd484f1dbddb3a922c7e90e7",
                        th: "38e4b86fd0c04ae3b2c9200c7ea9c89e",
                        ph: "bafd4812311d417c981d2690cda870bf",
                        vn: "9e0e87184cf14246aabe6af0d78b2aa9",
                        tw: "1bfa4a9834204eccb62858d0e2d9e083",
                        pl: "3e8f2872acee4938951fa12e61f5b3f6",
                        es: "756295fca7a04f0cb25cf51821ced04f"
                    }
                      , V = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "sg"
                          , t = H[e];
                        return t ? "https://help.shopee.".concat(l(e), "/portal/webform/").concat(t) : "https://help.shopee.".concat(l(e), "/s/contactusform")
                    }
                      , B = {
                        sg: "cc5c96e6af6140b6920f13c6fa67ddd1",
                        my: "2e11e4a4fd554f4aaba90814987e8d3f",
                        th: "fab4029ae0614fdd96021ba21bdd5d56",
                        tw: "6331df0cc3e5409c85b5f3331e385a5c",
                        vn: "1214504dda894592a1c7ef4236912f4d",
                        ph: "bafd4812311d417c981d2690cda870bf",
                        id: "13a6214dacf54eeb83cea7110c6adde6",
                        br: "23b02efbc1254721ab69549e442a6466",
                        mx: "e58cb9c620f54aec9e18a01632c35c05",
                        co: "a503e7f7bc4849c0824985ddd9659d33",
                        cl: "5484e709da71430cb8980abc5cef14f0",
                        ar: "16e6e483bc5244d9946daf570c954dc3",
                        pl: "3e8f2872acee4938951fa12e61f5b3f6",
                        es: "756295fca7a04f0cb25cf51821ced04f"
                    }
                      , Y = function() {
                        var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "sg"
                          , t = "";
                        return t = ["tw", "vn"].includes(e) ? "https://cs.shopee.".concat(l(e)) : "https://help.shopee.".concat(l(e)),
                        "".concat(t, "/portal/webform/").concat(B[e])
                    }
                      , q = function() {
                        return a
                    }
                      , Q = function() {
                        return n
                    }
                      , W = function() {
                        return o
                    }
                      , K = function() {
                        return c
                    }
                      , z = function(e, t, r) {
                        var n = e || {}
                          , a = n.status
                          , o = n.checkout_id
                          , c = n.order_id
                          , s = n.id
                          , i = n.shop_id;
                        return "unpaid" === a ? "https://".concat(P(r), "/user/purchase/checkout/").concat(o, "/?shopid=").concat(i || t) : "https://".concat(P(r), "/user/purchase/order/").concat(c || s, "/?shopid=").concat(i || t)
                    }
                      , J = function(e, t, r, n) {
                        window.open("https://".concat(e ? P(t) : P(), "/product/").concat(n, "/").concat(r, "/"))
                    }
                      , X = function() {
                        return v() ? "https://deo.shopeesz.com/shopee/" : "https://deo.shopeemobile.com/shopee/"
                    }
                }
                ,
                666: e=>{
                    var t = function(e) {
                        "use strict";
                        var t, r = Object.prototype, n = r.hasOwnProperty, a = "function" == typeof Symbol ? Symbol : {}, o = a.iterator || "@@iterator", c = a.asyncIterator || "@@asyncIterator", s = a.toStringTag || "@@toStringTag";
                        function i(e, t, r) {
                            return Object.defineProperty(e, t, {
                                value: r,
                                enumerable: !0,
                                configurable: !0,
                                writable: !0
                            }),
                            e[t]
                        }
                        try {
                            i({}, "")
                        } catch (e) {
                            i = function(e, t, r) {
                                return e[t] = r
                            }
                        }
                        function u(e, t, r, n) {
                            var a = t && t.prototype instanceof S ? t : S
                              , o = Object.create(a.prototype)
                              , c = new A(n || []);
                            return o._invoke = function(e, t, r) {
                                var n = d;
                                return function(a, o) {
                                    if (n === f)
                                        throw new Error("Generator is already running");
                                    if (n === _) {
                                        if ("throw" === a)
                                            throw o;
                                        return P()
                                    }
                                    for (r.method = a,
                                    r.arg = o; ; ) {
                                        var c = r.delegate;
                                        if (c) {
                                            var s = R(c, r);
                                            if (s) {
                                                if (s === E)
                                                    continue;
                                                return s
                                            }
                                        }
                                        if ("next" === r.method)
                                            r.sent = r._sent = r.arg;
                                        else if ("throw" === r.method) {
                                            if (n === d)
                                                throw n = _,
                                                r.arg;
                                            r.dispatchException(r.arg)
                                        } else
                                            "return" === r.method && r.abrupt("return", r.arg);
                                        n = f;
                                        var i = p(e, t, r);
                                        if ("normal" === i.type) {
                                            if (n = r.done ? _ : l,
                                            i.arg === E)
                                                continue;
                                            return {
                                                value: i.arg,
                                                done: r.done
                                            }
                                        }
                                        "throw" === i.type && (n = _,
                                        r.method = "throw",
                                        r.arg = i.arg)
                                    }
                                }
                            }(e, r, c),
                            o
                        }
                        function p(e, t, r) {
                            try {
                                return {
                                    type: "normal",
                                    arg: e.call(t, r)
                                }
                            } catch (e) {
                                return {
                                    type: "throw",
                                    arg: e
                                }
                            }
                        }
                        e.wrap = u;
                        var d = "suspendedStart"
                          , l = "suspendedYield"
                          , f = "executing"
                          , _ = "completed"
                          , E = {};
                        function S() {}
                        function h() {}
                        function O() {}
                        var v = {};
                        v[o] = function() {
                            return this
                        }
                        ;
                        var g = Object.getPrototypeOf
                          , T = g && g(g(D([])));
                        T && T !== r && n.call(T, o) && (v = T);
                        var m = O.prototype = S.prototype = Object.create(v);
                        function b(e) {
                            ["next", "throw", "return"].forEach((function(t) {
                                i(e, t, (function(e) {
                                    return this._invoke(t, e)
                                }
                                ))
                            }
                            ))
                        }
                        function y(e, t) {
                            function r(a, o, c, s) {
                                var i = p(e[a], e, o);
                                if ("throw" !== i.type) {
                                    var u = i.arg
                                      , d = u.value;
                                    return d && "object" == typeof d && n.call(d, "__await") ? t.resolve(d.__await).then((function(e) {
                                        r("next", e, c, s)
                                    }
                                    ), (function(e) {
                                        r("throw", e, c, s)
                                    }
                                    )) : t.resolve(d).then((function(e) {
                                        u.value = e,
                                        c(u)
                                    }
                                    ), (function(e) {
                                        return r("throw", e, c, s)
                                    }
                                    ))
                                }
                                s(i.arg)
                            }
                            var a;
                            this._invoke = function(e, n) {
                                function o() {
                                    return new t((function(t, a) {
                                        r(e, n, t, a)
                                    }
                                    ))
                                }
                                return a = a ? a.then(o, o) : o()
                            }
                        }
                        function R(e, r) {
                            var n = e.iterator[r.method];
                            if (n === t) {
                                if (r.delegate = null,
                                "throw" === r.method) {
                                    if (e.iterator.return && (r.method = "return",
                                    r.arg = t,
                                    R(e, r),
                                    "throw" === r.method))
                                        return E;
                                    r.method = "throw",
                                    r.arg = new TypeError("The iterator does not provide a 'throw' method")
                                }
                                return E
                            }
                            var a = p(n, e.iterator, r.arg);
                            if ("throw" === a.type)
                                return r.method = "throw",
                                r.arg = a.arg,
                                r.delegate = null,
                                E;
                            var o = a.arg;
                            return o ? o.done ? (r[e.resultName] = o.value,
                            r.next = e.nextLoc,
                            "return" !== r.method && (r.method = "next",
                            r.arg = t),
                            r.delegate = null,
                            E) : o : (r.method = "throw",
                            r.arg = new TypeError("iterator result is not an object"),
                            r.delegate = null,
                            E)
                        }
                        function C(e) {
                            var t = {
                                tryLoc: e[0]
                            };
                            1 in e && (t.catchLoc = e[1]),
                            2 in e && (t.finallyLoc = e[2],
                            t.afterLoc = e[3]),
                            this.tryEntries.push(t)
                        }
                        function I(e) {
                            var t = e.completion || {};
                            t.type = "normal",
                            delete t.arg,
                            e.completion = t
                        }
                        function A(e) {
                            this.tryEntries = [{
                                tryLoc: "root"
                            }],
                            e.forEach(C, this),
                            this.reset(!0)
                        }
                        function D(e) {
                            if (e) {
                                var r = e[o];
                                if (r)
                                    return r.call(e);
                                if ("function" == typeof e.next)
                                    return e;
                                if (!isNaN(e.length)) {
                                    var a = -1
                                      , c = function r() {
                                        for (; ++a < e.length; )
                                            if (n.call(e, a))
                                                return r.value = e[a],
                                                r.done = !1,
                                                r;
                                        return r.value = t,
                                        r.done = !0,
                                        r
                                    };
                                    return c.next = c
                                }
                            }
                            return {
                                next: P
                            }
                        }
                        function P() {
                            return {
                                value: t,
                                done: !0
                            }
                        }
                        return h.prototype = m.constructor = O,
                        O.constructor = h,
                        h.displayName = i(O, s, "GeneratorFunction"),
                        e.isGeneratorFunction = function(e) {
                            var t = "function" == typeof e && e.constructor;
                            return !!t && (t === h || "GeneratorFunction" === (t.displayName || t.name))
                        }
                        ,
                        e.mark = function(e) {
                            return Object.setPrototypeOf ? Object.setPrototypeOf(e, O) : (e.__proto__ = O,
                            i(e, s, "GeneratorFunction")),
                            e.prototype = Object.create(m),
                            e
                        }
                        ,
                        e.awrap = function(e) {
                            return {
                                __await: e
                            }
                        }
                        ,
                        b(y.prototype),
                        y.prototype[c] = function() {
                            return this
                        }
                        ,
                        e.AsyncIterator = y,
                        e.async = function(t, r, n, a, o) {
                            void 0 === o && (o = Promise);
                            var c = new y(u(t, r, n, a),o);
                            return e.isGeneratorFunction(r) ? c : c.next().then((function(e) {
                                return e.done ? e.value : c.next()
                            }
                            ))
                        }
                        ,
                        b(m),
                        i(m, s, "Generator"),
                        m[o] = function() {
                            return this
                        }
                        ,
                        m.toString = function() {
                            return "[object Generator]"
                        }
                        ,
                        e.keys = function(e) {
                            var t = [];
                            for (var r in e)
                                t.push(r);
                            return t.reverse(),
                            function r() {
                                for (; t.length; ) {
                                    var n = t.pop();
                                    if (n in e)
                                        return r.value = n,
                                        r.done = !1,
                                        r
                                }
                                return r.done = !0,
                                r
                            }
                        }
                        ,
                        e.values = D,
                        A.prototype = {
                            constructor: A,
                            reset: function(e) {
                                if (this.prev = 0,
                                this.next = 0,
                                this.sent = this._sent = t,
                                this.done = !1,
                                this.delegate = null,
                                this.method = "next",
                                this.arg = t,
                                this.tryEntries.forEach(I),
                                !e)
                                    for (var r in this)
                                        "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t)
                            },
                            stop: function() {
                                this.done = !0;
                                var e = this.tryEntries[0].completion;
                                if ("throw" === e.type)
                                    throw e.arg;
                                return this.rval
                            },
                            dispatchException: function(e) {
                                if (this.done)
                                    throw e;
                                var r = this;
                                function a(n, a) {
                                    return s.type = "throw",
                                    s.arg = e,
                                    r.next = n,
                                    a && (r.method = "next",
                                    r.arg = t),
                                    !!a
                                }
                                for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                                    var c = this.tryEntries[o]
                                      , s = c.completion;
                                    if ("root" === c.tryLoc)
                                        return a("end");
                                    if (c.tryLoc <= this.prev) {
                                        var i = n.call(c, "catchLoc")
                                          , u = n.call(c, "finallyLoc");
                                        if (i && u) {
                                            if (this.prev < c.catchLoc)
                                                return a(c.catchLoc, !0);
                                            if (this.prev < c.finallyLoc)
                                                return a(c.finallyLoc)
                                        } else if (i) {
                                            if (this.prev < c.catchLoc)
                                                return a(c.catchLoc, !0)
                                        } else {
                                            if (!u)
                                                throw new Error("try statement without catch or finally");
                                            if (this.prev < c.finallyLoc)
                                                return a(c.finallyLoc)
                                        }
                                    }
                                }
                            },
                            abrupt: function(e, t) {
                                for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                                    var a = this.tryEntries[r];
                                    if (a.tryLoc <= this.prev && n.call(a, "finallyLoc") && this.prev < a.finallyLoc) {
                                        var o = a;
                                        break
                                    }
                                }
                                o && ("break" === e || "continue" === e) && o.tryLoc <= t && t <= o.finallyLoc && (o = null);
                                var c = o ? o.completion : {};
                                return c.type = e,
                                c.arg = t,
                                o ? (this.method = "next",
                                this.next = o.finallyLoc,
                                E) : this.complete(c)
                            },
                            complete: function(e, t) {
                                if ("throw" === e.type)
                                    throw e.arg;
                                return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg,
                                this.method = "return",
                                this.next = "end") : "normal" === e.type && t && (this.next = t),
                                E
                            },
                            finish: function(e) {
                                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                    var r = this.tryEntries[t];
                                    if (r.finallyLoc === e)
                                        return this.complete(r.completion, r.afterLoc),
                                        I(r),
                                        E
                                }
                            },
                            catch: function(e) {
                                for (var t = this.tryEntries.length - 1; t >= 0; --t) {
                                    var r = this.tryEntries[t];
                                    if (r.tryLoc === e) {
                                        var n = r.completion;
                                        if ("throw" === n.type) {
                                            var a = n.arg;
                                            I(r)
                                        }
                                        return a
                                    }
                                }
                                throw new Error("illegal catch attempt")
                            },
                            delegateYield: function(e, r, n) {
                                return this.delegate = {
                                    iterator: D(e),
                                    resultName: r,
                                    nextLoc: n
                                },
                                "next" === this.method && (this.arg = t),
                                E
                            }
                        },
                        e
                    }(e.exports);
                    try {
                        regeneratorRuntime = t
                    } catch (e) {
                        Function("r", "regeneratorRuntime = r")(t)
                    }
                }
                ,
                994: t=>{
                    "use strict";
                    t.exports = e
                }
                ,
                602: e=>{
                    "use strict";
                    e.exports = t
                }
                ,
                661: e=>{
                    "use strict";
                    e.exports = r
                }
                ,
                349: e=>{
                    "use strict";
                    e.exports = n
                }
            }
              , o = {};
            function c(e) {
                var t = o[e];
                if (void 0 !== t)
                    return t.exports;
                var r = o[e] = {
                    exports: {}
                };
                return a[e](r, r.exports, c),
                r.exports
            }
            c.n = e=>{
                var t = e && e.__esModule ? ()=>e.default : ()=>e;
                return c.d(t, {
                    a: t
                }),
                t
            }
            ,
            c.d = (e,t)=>{
                for (var r in t)
                    c.o(t, r) && !c.o(e, r) && Object.defineProperty(e, r, {
                        enumerable: !0,
                        get: t[r]
                    })
            }
            ,
            c.o = (e,t)=>Object.prototype.hasOwnProperty.call(e, t),
            c.r = e=>{
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                    value: "Module"
                }),
                Object.defineProperty(e, "__esModule", {
                    value: !0
                })
            }
            ;
            var s = {};
            return (()=>{
                "use strict";
                c.r(s),
                c.d(s, {
                    AVAILABLE_IMAGE_TYPE: ()=>Re,
                    AVAILABLE_VIDEO_EXT: ()=>Ie,
                    AVAILABLE_VIDEO_TYPE: ()=>Ce,
                    AccountType: ()=>de,
                    AgentOnlineStatus: ()=>y,
                    AlertType: ()=>Me,
                    AllProductFilters: ()=>ae,
                    ApiMessageTypes: ()=>Qn,
                    BATCH_OPERATE_MAX_SELECTION: ()=>q,
                    BatchOperates: ()=>Q,
                    CHAT_MIN_TEXT_BOX_HEIGHT: ()=>S,
                    ChatBotInteractionType: ()=>ke,
                    ChatBotMessageContentSource: ()=>Ue,
                    ChatbotFromType: ()=>W,
                    ConversationSource: ()=>X,
                    ConversationTab: ()=>J,
                    ConversationTypeEnum: ()=>U,
                    Currencies: ()=>r,
                    CustomShareEvent: ()=>Ve,
                    DataFetchStatus: ()=>I,
                    DiscountType: ()=>M,
                    EvaluationErrorCode: ()=>u,
                    EvaluationStatus: ()=>i,
                    FeedbackInfo: ()=>E,
                    FetchMessageStatus: ()=>v,
                    HALF_HOUR: ()=>Ka,
                    INVALID_PRICE: ()=>_t,
                    LS: ()=>_r,
                    LogisticsLog: ()=>Te,
                    LogisticsStatus: ()=>me,
                    MAX_IMAGE_SIZE: ()=>De,
                    MAX_MEDIA_NUM: ()=>l,
                    MAX_SHOWING_ITEM_COUNT: ()=>ce,
                    MAX_VIDEO_SIZE: ()=>Pe,
                    MINI_MIN_TEXT_BOX_HEIGHT: ()=>h,
                    MessageErrorCode: ()=>o,
                    MessageFillStatus: ()=>O,
                    MessageOption: ()=>e,
                    MessageSendStatus: ()=>a,
                    MessageShortcutGroupType: ()=>f,
                    MessageSource: ()=>$,
                    MessageStatus: ()=>d,
                    MessageTypes: ()=>n,
                    MessagesRelatedKey: ()=>g,
                    NO_ACCESS_KEY: ()=>we,
                    ONE_DAY: ()=>za,
                    OfferStatus: ()=>x,
                    OperationStatus: ()=>A,
                    OrderCancelReason: ()=>he,
                    OrderItemStatus: ()=>_e,
                    OrderListTabs: ()=>ee,
                    OrderListType: ()=>ve,
                    OrderPayMethod: ()=>Ee,
                    OrderStatusExt: ()=>Oe,
                    OrderTabStatus: ()=>le,
                    OrderTabStatusIndex: ()=>fe,
                    OrderType: ()=>ge,
                    PERMISSION_DELETE_MESSAGE: ()=>_,
                    PredictionType: ()=>K,
                    ProductFiltersMap: ()=>ne,
                    ProductPromotionLabel: ()=>se,
                    ProductStatusUsingNumber: ()=>te,
                    ProductStatusUsingString: ()=>re,
                    PromotionStatus: ()=>p,
                    ReportType: ()=>z,
                    RewardType: ()=>j,
                    SECOND_TO_MILLISECOND: ()=>Wa,
                    SERVER_ERROR_CAPACITY: ()=>ye,
                    SERVER_ERROR_VALID_CONV_COUNT: ()=>be,
                    SPECIAL_VIDEO_MIME_TYPE: ()=>Ae,
                    SellerCancelOrderReason: ()=>Se,
                    ShareDataType: ()=>Be,
                    SocketConnectionStatus: ()=>Y,
                    SocketToAlertType: ()=>je,
                    StorageKey: ()=>He,
                    SubAccountRole: ()=>pe,
                    SubAccountShopStatus: ()=>ue,
                    SwitchStatus: ()=>P,
                    SystemProductFilters: ()=>oe,
                    TrackerOperation: ()=>Ne,
                    TranslationFeedbackQuality: ()=>t,
                    TranslationStatus: ()=>w,
                    UnreadSource: ()=>Z,
                    UserLoginStatus: ()=>D,
                    VIEW_DETAIL_KEY: ()=>xe,
                    VoucherOperateType: ()=>B,
                    VoucherStamp: ()=>H,
                    VoucherStatus: ()=>G,
                    VoucherTab: ()=>L,
                    VoucherTabIndex: ()=>F,
                    VoucherType: ()=>V,
                    WorkstationCommonKey: ()=>Le,
                    WorkstationProductCommonKey: ()=>Fe,
                    WorkstationProductPanel: ()=>ie,
                    WorkstationVoucherCommonKey: ()=>Ge,
                    camelCase: ()=>at,
                    cancelOrderPolicy: ()=>Gn.An,
                    capitalizeFirstLetter: ()=>Yt,
                    changeLanguage: ()=>_o.D,
                    checkEmptyObject: ()=>qe,
                    checkEntryGuide: ()=>dr,
                    checkHeaderGuide: ()=>pr,
                    checkImportTemplateGuide: ()=>nr,
                    checkIsScChat: ()=>ze,
                    checkMassToolGuide: ()=>cr,
                    checkObjectId: ()=>Qe,
                    checkProductDeleted: ()=>Ba,
                    checkProductInvalid: ()=>Qa,
                    checkRegionFilterGuide: ()=>ur,
                    checkReplyGuide: ()=>ir,
                    checkSearchGuilde: ()=>sr,
                    checkTranslationGuilde: ()=>ar,
                    checkTranslationSettingsGuide: ()=>or,
                    convertBase64ToBlob: ()=>ot,
                    countingDown: ()=>Xa,
                    customizeTime: ()=>yt,
                    debounce: ()=>Xt,
                    deepMerge: ()=>ct,
                    downloadVideoWithBlob: ()=>Fn,
                    encode: ()=>et,
                    escapeRegex: ()=>ca,
                    fillMessagePreview: ()=>Tn,
                    fillWithZero: ()=>$a,
                    formatDiscount: ()=>ro,
                    formatMessageTime: ()=>At,
                    formatPrice: ()=>Et,
                    formatTransifyKeyWithNumber: ()=>jt,
                    getApiServer: ()=>Gn.Vm,
                    getBrowserInfo: ()=>Ft,
                    getCDNUrl: ()=>Gn.jz,
                    getCNSCSellerCenterUrl: ()=>Gn.S8,
                    getCSChatServer: ()=>Gn.wK,
                    getCancelOrderDisplayStatus: ()=>Ga,
                    getCancelReason: ()=>Fa,
                    getChatBotParams: ()=>On,
                    getCrmPreviewParams: ()=>vn,
                    getCurrentTimestampString: ()=>Za,
                    getCustomMessageText: ()=>an,
                    getFileServer: ()=>Gn.Jy,
                    getFormattedData: ()=>Mn,
                    getFormattedTime: ()=>Ct,
                    getHasSameSourceAndTarget: ()=>Sn,
                    getIsMessageShortcutKeywordValid: ()=>na,
                    getIsMessageValidToDelete: ()=>zn,
                    getItem: ()=>Er,
                    getKRSCSellerCenterUrl: ()=>Gn.Ht,
                    getLocaleText: ()=>En,
                    getMallOrderUrl: ()=>Gn.Db,
                    getMallUrl: ()=>Gn.u7,
                    getMediaData: ()=>xn,
                    getMessageIsRatecard: ()=>_n,
                    getMessageIsSend: ()=>Jn,
                    getMessageShortcutsKeywords: ()=>aa,
                    getOrderPayment: ()=>ua,
                    getOrderStatusTransifyKey: ()=>ia,
                    getPayMethod: ()=>Aa,
                    getProductStatusTransifyKey: ()=>Va,
                    getPushServer: ()=>Gn.Ey,
                    getReplyTrackerMessageType: ()=>Wn,
                    getRuntimeLocale: ()=>Gn.CE,
                    getRuntimeRegion: ()=>Gn.X7,
                    getRuntimeServer: ()=>Gn.IE,
                    getRuntimeVersion: ()=>Gn.L6,
                    getSCApiServer: ()=>Gn.E3,
                    getSellerCenterUrl: ()=>Gn.qk,
                    getServiceLocale: ()=>zt,
                    getShopeeCNUrl: ()=>Gn.nr,
                    getShopeeCustomerService: ()=>Gn.Fy,
                    getSpammerPolicyUrl: ()=>Gn.r,
                    getSystemMessageByLocale: ()=>gn,
                    getTimestampNano: ()=>eo,
                    getTranslateFileServer: ()=>Gn.k2,
                    getTranslationLocale: ()=>Wt,
                    getUrlParam: ()=>Lt,
                    getVideoServer: ()=>Gn.dV,
                    getVoucherCondition: ()=>so,
                    getVoucherTimeText: ()=>io,
                    getWebChatPureUrl: ()=>Gn.YH,
                    getWebChatUrl: ()=>Gn.xC,
                    goToPcMall: ()=>Gn.I9,
                    greaterThan: ()=>Ke,
                    handleBigNumber: ()=>st,
                    handleDisplayTranslation: ()=>no,
                    handleReportItem: ()=>fo,
                    handleReportItems: ()=>lo,
                    hasSelectShop: ()=>Xe,
                    hasTargetMessageOption: ()=>dn,
                    hasTargetMessageOptions: ()=>fn,
                    init: ()=>Gn.S1,
                    isAbnormalProduct: ()=>Ya,
                    isDeletedMessage: ()=>ln,
                    isProductSoldout: ()=>qa,
                    isValidBrowser: ()=>Je,
                    isValidMessageStatusToReply: ()=>qn,
                    isValidMessageTypeToReply: ()=>Vn,
                    isVisitingCNSC: ()=>Gn.z$,
                    isVisitingKRSC: ()=>Gn.Y8,
                    makeSecurityTipsMessage: ()=>hn,
                    memFn: ()=>Zt,
                    persistLimit: ()=>Or,
                    previewMessage: ()=>pn,
                    redirectionWithAccess: ()=>Jt,
                    removeItem: ()=>hr,
                    removeItemFromArray: ()=>it,
                    searchMessageShortcuts: ()=>oa,
                    setItem: ()=>Sr,
                    simpleEqualCheck: ()=>We,
                    stickersURI: ()=>Gn.Ll,
                    subAccountURL: ()=>Gn.I7,
                    throttle: ()=>$t,
                    transPrice: ()=>St,
                    transformVideoTime: ()=>It,
                    unifyLocale: ()=>Qt,
                    updateTimeLocale: ()=>Tt,
                    validateDuration: ()=>Dn,
                    validateMediaDuration: ()=>An,
                    validateTypeAndSize: ()=>Ln,
                    videoURL: ()=>Gn.Od,
                    voucherIsExpired: ()=>oo,
                    voucherIsStockout: ()=>co
                });
                var e, t, r = {
                    SG: "$",
                    TH: "฿",
                    VN: "₫",
                    ID: "Rp",
                    TW: "$",
                    MY: "RM",
                    PH: "₱",
                    BR: "R$",
                    IN: "₹",
                    CN: "¥",
                    MX: "$",
                    CO: "$",
                    CL: "$",
                    AR: "$",
                    PL: "zł",
                    ES: "€",
                    FR: "€",
                    KR: "₩",
                    US: "$"
                }, n = {
                    MSG_TYPE_TEXT: "text",
                    MSG_TYPE_IMAGE: "image",
                    MSG_TYPE_OFFER: "offer",
                    MSG_TYPE_PRODUCT: "product",
                    MSG_TYPE_ORDER: "order",
                    MSG_TYPE_STICKER: "sticker",
                    MSG_TYPE_NOTIFICATION: "notification",
                    MSG_TYPE_WEBVIEW: "webview",
                    MSG_TYPE_RATE_CARDS: "rate_cards",
                    MSG_TYPE_VOUCHER: "voucher",
                    MSG_TYPE_FEED_STORY: "feed_story",
                    MSG_TYPE_ITEM_LIST: "item_list",
                    MSG_TYPE_SHOPPING_CART: "shopping_cart",
                    MSG_TYPE_FAQ: "faq",
                    MSG_TYPE_FAQ_QUESTION: "faq_question",
                    MSG_TYPE_FAQ_FEEDBACK: "faq_feedback",
                    MSG_TYPE_FAQ_LIVEAGENT: "faq_liveagent",
                    MSG_TYPE_FAQ_UNSUPPORTED: "faq_unsupported",
                    MSG_TYPE_FAQ_FEEDBACK_PROMPT: "faq_feedback_prompt",
                    MSG_TYPE_FAQ_LIVEAGENT_PROMPT: "faq_liveagent_prompt",
                    MSG_TYPE_UNTATED_ORDER_REMINDER: "unrated_order_reminder",
                    MSG_TYPE_FLASH_SALE: "flash_sale",
                    MSG_TYPE_BUNDLE_DEAL: "bundle_deal",
                    MSG_TYPE_BUNDLE_MESSAGE: "bundle_message",
                    MSG_TYPE_OPTION_PACK: "option_pack",
                    MSG_TYPE_SELECTED_OPTION: "selected_option",
                    MSG_TYPE_ADD_ON_DEAL: "add_on_deal",
                    MSG_TYPE_VIDEO: "video",
                    MSG_TYPE_IMAGE_WITH_TEXT: "image_with_text",
                    MSG_TYPE_RATE_CARD: "rating_card",
                    MSG_TYPE_NEW_FAQ: "new_faq",
                    MSG_TYPE_FAQ_CATEGORY_CHOICE: "faq_category_choice",
                    MSG_TYPE_FAQ_QUESTION_LIST: "faq_question_list",
                    MSG_TYPE_FAQ_TYPE_CHOICE: "faq_type_choice",
                    MSG_TYPE_FAQ_CATEGORY_LIST: "faq_category_list",
                    MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE: "faq_bot_request_text",
                    MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE: "faq_bot_request_order",
                    FAQ_TYPE_BOT_RESPONSE_MESSAGE: "faq_bot_response",
                    MSG_TYPE_SECURITY_TIPS: "security_tips"
                }, a = {
                    SENDING: 1,
                    FAILED: 2,
                    SUCCEED: 3
                }, o = {
                    FORBIDDEN: 28,
                    LIMITING: 29,
                    CUSTOM_ERROR: 42,
                    BLACKLIST: 43,
                    CANCEL_ORDER: 44,
                    UNVERIFIED_PHONE_NUMBER: 45,
                    EXCEED_DAILY_LIMIT: 26,
                    UNTRUSTED_NETWORK: 46,
                    NEED_CAPTCHA: 47,
                    DFP_ERROR: 48,
                    SPAMMER: 49,
                    FAQ_EXPIRED: 50,
                    FAQ_SESSION_OLD: 51,
                    DEFAULT: -1
                }, i = {
                    UNRATED: "unrated",
                    RATED: "rated",
                    EXPIRED: "expired",
                    INVALID: "invalid"
                }, u = {
                    RATED: "rating_card_rated",
                    EXPIRED: "rating_card_expired"
                }, p = {
                    UPCOMING: "upcoming",
                    ONGOING: "ongoing",
                    EXPIRED: "expired"
                }, d = {
                    CENSORED_BLACKLIST: "censored_blacklist",
                    NORMAL: "normal"
                }, l = 9, f = {
                    PERSONAL: 1,
                    TEAM: 2
                }, _ = [n.MSG_TYPE_TEXT, n.MSG_TYPE_IMAGE, n.MSG_TYPE_VIDEO, n.MSG_TYPE_STICKER, n.MSG_TYPE_ORDER, n.MSG_TYPE_PRODUCT];
                !function(e) {
                    e[e.MSG_OPT_NORMAL = 0] = "MSG_OPT_NORMAL",
                    e[e.MSG_OPT_AUTO_REPLY = 1] = "MSG_OPT_AUTO_REPLY",
                    e[e.MSG_OPT_BLOCKED = 2] = "MSG_OPT_BLOCKED",
                    e[e.MSG_OPT_CENSORED_BLACKLIST = 16] = "MSG_OPT_CENSORED_BLACKLIST",
                    e[e.MSG_OPT_CENSORED_WHITELIST = 32] = "MSG_OPT_CENSORED_WHITELIST",
                    e[e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER = 64] = "MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER",
                    e[e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER = 128] = "MSG_OPT_IGNORE_UNREAD_FOR_SENDER",
                    e[e.MSG_OPT_INVISIBLE_FOR_RECEIVER = 256] = "MSG_OPT_INVISIBLE_FOR_RECEIVER",
                    e[e.MSG_OPT_INVISIBLE_FOR_SENDER = 512] = "MSG_OPT_INVISIBLE_FOR_SENDER",
                    e[e.MSG_OPT_ADS = 1024] = "MSG_OPT_ADS",
                    e[e.MSG_OPT_FAQ_SESSION = 2048] = "MSG_OPT_FAQ_SESSION",
                    e[e.MSG_OPT_TRIGGER_FAQ = 4096] = "MSG_OPT_TRIGGER_FAQ",
                    e[e.MSG_OPT_SOCIAL_MESSAGE = 8192] = "MSG_OPT_SOCIAL_MESSAGE",
                    e[e.MSG_OPT_OFFWORK_AUTOREPLY = 16384] = "MSG_OPT_OFFWORK_AUTOREPLY",
                    e[e.MSG_OPT_CANCELORDER_WARNING_SENT = 32768] = "MSG_OPT_CANCELORDER_WARNING_SENT",
                    e[e.MSG_OPT_CANCELORDER_WARNING_RETRACT = 65536] = "MSG_OPT_CANCELORDER_WARNING_RETRACT",
                    e[e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND = 66496] = "MSG_OPT_CANCELORDER_WARNING_NOT_SEND",
                    e[e.MSG_OPT_CHATBOT_SESSION = 131072] = "MSG_OPT_CHATBOT_SESSION",
                    e[e.MSG_OPT_TRIGGER_CHATBOT = 262144] = "MSG_OPT_TRIGGER_CHATBOT",
                    e[e.MSG_OPT_PRIVATE_MESSAGE = 524288] = "MSG_OPT_PRIVATE_MESSAGE",
                    e[e.MSG_OPT_SILENT_FOR_SENDER = 1048576] = "MSG_OPT_SILENT_FOR_SENDER",
                    e[e.MSG_OPT_DELETE = 2097152] = "MSG_OPT_DELETE",
                    e[e.MSG_OPT_RECALL = 8388608] = "MSG_OPT_RECALL"
                }(e || (e = {})),
                function(e) {
                    e[e.bad = 1] = "bad",
                    e[e.average = 2] = "average",
                    e[e.good = 3] = "good"
                }(t || (t = {}));
                var E = {
                    IMPROVED: 1,
                    WRONG: 2,
                    OFFENSIVE: 4
                }
                  , S = 156
                  , h = 88
                  , O = {
                    FILLED: "filled",
                    FILLING: "filling",
                    FAILED: "failed"
                }
                  , v = {
                    PRELOADING: "preloading",
                    FETCHING: "fetching"
                }
                  , g = {
                    TIME_NOW: "timeNow",
                    PRELOADED: "preloaded"
                };
                function T(e, t, r) {
                    return t in e ? Object.defineProperty(e, t, {
                        value: r,
                        enumerable: !0,
                        configurable: !0,
                        writable: !0
                    }) : e[t] = r,
                    e
                }
                function m(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function b(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? m(Object(r), !0).forEach((function(t) {
                            T(e, t, r[t])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : m(Object(r)).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                        }
                        ))
                    }
                    return e
                }
                var y, R, C = {
                    NORMAL: "normal",
                    PENDING: "pending",
                    SUCCEED: "succeed",
                    FAILED: "failed"
                }, I = b(b({}, C), {}, {
                    INIT_PENDING: "pendingInit",
                    INIT_FAILED: "failedInit",
                    TEMPORY_ERROR: "temporyError"
                }), A = b(b({}, C), {}, {
                    BLACKLIST_ERROR: "blacklistError",
                    INTERNAL_SERVER_ERROR: "internalServerError"
                }), D = {
                    SUCCEED: "succeed",
                    FORBIDDEN_ERROR: "forbidden",
                    INTERNAL_SERVER_ERROR: "internalServerError",
                    LOGOUT: "logout"
                }, P = {
                    ENABLED: "enabled",
                    DISABLED: "disabled",
                    NO_PERSSION: "no_permission"
                }, w = {
                    SUCCEED: "succeed",
                    FAILED: "failed",
                    HISTORY: "history",
                    SHOW: "show",
                    PENDING: "pending"
                }, x = {
                    PENDING: "pending",
                    ACCEPTED: "accepted",
                    REJECTED: "rejected",
                    CANCELLED: "cancelled"
                };
                function N(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function k(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? N(Object(r), !0).forEach((function(t) {
                            T(e, t, r[t])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : N(Object(r)).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                        }
                        ))
                    }
                    return e
                }
                !function(e) {
                    e[e.OFFLINE = -1] = "OFFLINE",
                    e[e.ONLINE = 0] = "ONLINE",
                    e[e.HANGUP = 1] = "HANGUP"
                }(y || (y = {}));
                var U, M = {
                    AMOUNT: "amount",
                    PERCENTAGE: "percentage"
                }, j = {
                    DISCOUNT: "discount",
                    COIN_CASHBACK: "coin_cashback"
                }, L = {
                    ONGOING: "ongoing",
                    SCHEDULED: "scheduled"
                }, F = (T(R = {}, L.ONGOING, 0),
                T(R, L.SCHEDULED, 1),
                R), G = k(k({}, L), {}, {
                    FINISHED: "finished"
                }), H = {
                    USED: "used",
                    EXPIRED: "expired",
                    REDEEM: "redeem"
                }, V = {
                    ITEM: "item",
                    SHOP: "shop"
                }, B = {
                    DETAILS: "details",
                    CLAIM: "claim",
                    USE: "use"
                }, Y = {
                    CONNECT: "connect",
                    CONNECT_ERROR: "connect_error",
                    DISCONNECT: "disconnect",
                    RECONNECT_ATTEMPT: "reconnect_attempt",
                    RECONNECT_ERROR: "reconnect_error",
                    RECONNECTING: "reconnecting",
                    RECONNECT: "reconnect"
                }, q = 50, Q = {
                    PIN: "pin",
                    UNPIN: "unpin",
                    MARK_AS_READ: "mark_as_read",
                    MARK_AS_UNREAD: "mark_as_unread",
                    FORWARD: "forward"
                };
                !function(e) {
                    e[e.Normal = 0] = "Normal",
                    e[e.Agent = 1] = "Agent"
                }(U || (U = {}));
                var W, K, z, J = {
                    CUSTOMER: "customer",
                    AGENT: "agent"
                }, X = {
                    FILTER: 1,
                    SHOP: 2,
                    SHOP_LIST: 3,
                    SYNC: 4,
                    QUEUE: 5,
                    FAKING: 6,
                    LATEST: 7,
                    OLDER: 8,
                    DELETE: 9,
                    LOAD_MORE: 10,
                    SOCKET: 11,
                    PRELOAD: 12
                }, $ = {
                    VIEW: 1,
                    FETCH: 2,
                    CLEAR_SEARCH: 3,
                    SHOW: 4,
                    SYNC: 5,
                    AUTO: 6,
                    SEND: 7,
                    UPDATE: 8,
                    CATCH: 9
                }, Z = {
                    PRELOAD: 1,
                    QUEUE: 2,
                    RECEIVE_TOTAL: 3,
                    RECEIVE_SINGLE: 4,
                    SYNC: 5
                }, ee = {
                    MINE: "mine",
                    HIS: "his"
                }, te = {
                    SOLD_OUT: -1,
                    DELETED: 0,
                    NORMAL: 1,
                    REVIEWING: 2,
                    BANNED: 3,
                    INVALID: 4,
                    INVALID_HIDE: 5,
                    OFFENSIVE_HIDE: 6,
                    AUDITING: 7,
                    NORMAL_UNLIST: 8,
                    DELISTED: 9
                }, re = {
                    DELETED: "deleted",
                    BANNED: "banned",
                    NORMAL: "normal",
                    SOLD_OUT: "sold_out",
                    DELISTED: "delisted"
                }, ne = {
                    sales: "sold",
                    recent: "mtime"
                }, ae = {
                    SALES: "sales",
                    RECENT: "recent"
                }, oe = {
                    RELATED: "related",
                    TOP_RATED: "top_rated",
                    FREQUENTLY_BOUGHT_TOGETHER: "frequently_bought_together"
                }, ce = 4, se = {
                    ADD_ON_DEAL: "add_on_deal",
                    BUNDLE_DEAL: "bundle_deal",
                    CAMPAIGN: "campaign",
                    FLASH_SALES: "flash_sales",
                    GIFT_WITH_PURCHASE: "gift_with_purchase",
                    SHOW_DISCOUNT: "show_discount"
                }, ie = {
                    ALL: "All",
                    SELLER_RECOMMENDATION: "Seller_Recommendation",
                    SYSTEM_RECOMMENDATION: "System_Recommendation"
                }, ue = {
                    UNACCESSIBLE: "unaccessible",
                    NONE: "none",
                    UNALLOCATED: "unallocated"
                }, pe = {
                    MAIN_SUBACCOUNT: "main_subaccount",
                    ADMIN_SUBACCOUNT: "admin_subaccount",
                    NORMAL_SUBACCOUNT: "normal_subaccount"
                }, de = {
                    SELLER: "seller",
                    SUBACCOUNT: "subaccount"
                }, le = {
                    ALL: "all",
                    UNPAID: "unpaid",
                    TO_SHIP: "to_ship",
                    SHIPPING: "shipping",
                    COMPLETED: "completed",
                    CANCELLED: "cancelled",
                    REFUND: "refund"
                }, fe = {
                    all: 0,
                    unpaid: 1,
                    to_ship: 2,
                    shipping: 3,
                    completed: 4,
                    cancelled: 5,
                    refund: 6
                }, _e = {
                    DELETE: 0,
                    UNRATED: 1,
                    RATED: 2,
                    RETURNED: 3,
                    RETURN_RATED: 4,
                    CANCEL: 5
                }, Ee = {
                    PAY_CREDIT_CARD: 1,
                    PAY_BANK_TRANSFER: 2,
                    PAY_OFFLINE_PAYMENT: 3,
                    PAY_IPAY88: 4,
                    PAY_FREE: 5,
                    PAY_COD: 6,
                    PAY_ESUN: 7,
                    PAY_BILL_PAYMENT: 8,
                    PAY_INDOMARET: 13,
                    PAY_KREDIVO: 14,
                    PAY_NICEPAY_CC: 15,
                    PAY_AIRPAY: 18,
                    PAY_SHOPEE_WALLET: 20,
                    PAY_SHOPEE_WALLET_V2: 27,
                    PAY_AKULAKU: 21,
                    PAY_INSTALLMENT: 23,
                    PAY_IBANKING: 29
                }, Se = [{
                    cancel_reason_code: 1,
                    transify_key: "common.order.cancel_reason.out_of_stock"
                }, {
                    cancel_reason_code: 3,
                    transify_key: "common.order.cancel_reason.undeliverable_area"
                }], he = {
                    NONE: 0,
                    OUT_OF_STOCK: 1,
                    CUSTOMER_REQUEST: 2,
                    UNDELIVERABLE_AREA: 3,
                    CANNOT_SUPPORT_COD: 4,
                    LOST_PARCEL: 5,
                    SYSTEM_UNPAID: 100,
                    SYSTEM_UNDERPAID: 101,
                    SYSTEM_PAYMENT_REJECTED: 102,
                    LOGISTICS_REQUEST_CANCELED: 200,
                    LOGISTICS_PICKUP_FAILED: 201,
                    LOGISTICS_DELIVERY_FAILED: 202,
                    LOGISTICS_COD_REJECTED: 203,
                    BACKEND_LOGISTICS_NOT_STARTED: 204,
                    BACKEND_ESCROW_TERMINATED: 300,
                    BACKEND_INACTIVE_SELLER: 301,
                    BACKEND_SELLER_DID_NOT_SHIP: 302,
                    RULE_ENGINE_AUTO_CANCEL: 400
                }, Oe = {
                    ORDER_EXT_DELETE: 0,
                    ORDER_EXT_UNPAID: 1,
                    ORDER_EXT_PAID: 2,
                    ORDER_EXT_SHIPPED: 3,
                    ORDER_EXT_COMPLETED: 4,
                    ORDER_EXT_INVALID: 6,
                    ORDER_EXT_CANCEL_PROCESSING: 7,
                    ORDER_EXT_CANCEL_COMPLETED: 8,
                    ORDER_EXT_RETURN_PROCESSING: 9,
                    ORDER_EXT_RETURN_COMPLETED: 10,
                    ORDER_EXT_ESCROW_PAID: 11,
                    ORDER_EXT_ESCROW_CREATED: 12,
                    ORDER_EXT_ESCROW_PENDING: 13,
                    ORDER_EXT_ESCROW_VERIFIED: 14,
                    ORDER_EXT_ESCROW_PAYOUT: 15,
                    ORDER_EXT_CANCEL_PENDING: 16
                }, ve = {
                    PAID: 1,
                    UNPAID: 2,
                    COMPLETED: 3,
                    CANCELLED: 4,
                    SHIPPED: 5,
                    ALL: 6,
                    TOSHIP: 7,
                    TORECEIVE: 8,
                    TOPAY: 9,
                    TOSHIP_UNPROCESSED: 10,
                    TOSHIP_PROCESSED: 11,
                    RETURN: 12,
                    GROUP_BUY_ALL: 13,
                    GROUP_BUY_ONGOING: 14,
                    GROUP_BUY_COMPLETED: 15,
                    GROUP_BUY_INVALID: 16
                }, ge = {
                    UNKNOWN: 0,
                    SIMPLE: 1,
                    ESCROW: 2
                }, Te = {
                    ORDER_DETAIL_SHIPPING_CONFIRMED: 2,
                    ORDER_DETAIL_SHIPPED: 4,
                    ORDER_DETAIL_RECEIVED: 5,
                    ORDER_DETAIL_CANCELED: 6,
                    ORDER_DETAIL_NOTIFY_SHIP: 7
                }, me = {
                    LOGISTICS_NOT_STARTED: 0,
                    LOGISTICS_REQUEST_CREATED: 1,
                    LOGISTICS_PICKUP_DONE: 2,
                    LOGISTICS_PICKUP_RETRY: 3,
                    LOGISTICS_PICKUP_FAILED: 4,
                    LOGISTICS_DELIVERY_DONE: 5,
                    LOGISTICS_DELIVERY_FAILED: 6,
                    LOGISTICS_REQUEST_CANCELED: 7,
                    LOGISTICS_COD_REJECTED: 8,
                    LOGISTICS_READY: 9,
                    LOGISTICS_INVALID: 10,
                    LOGISTICS_LOST: 11,
                    LOGISTICS_PENDING_ARRANGE: 12
                }, be = -1, ye = 0, Re = ["image/png", "image/jpeg", "image/jpg"], Ce = ["video/*", ".flv", ".3gp", ".rm", ".rmvb", ".asf", ".mp4", ".webm"], Ie = ["MP4", "TS", "FLV", "WMV", "ASF", "RM", "RMVB", "MPG", "MPEG", "3GP", "MOV", "WEBM", "AVI"], Ae = ["application/vnd.rn-realmedia", "application/vnd.rn-realmedia-vbr"], De = 2097152, Pe = 31457280, we = "common.no_sc_access", xe = "conversation_detail.workstation.order_panel.manage", Ne = {
                    CLICK: "click",
                    IMPRESSION: "impression",
                    ACTION_DRAG_VIDEO: "action_drag_video",
                    DELETE_PREVIEW_MEDIA: "delete_preview_media",
                    CLOSE_PREVIEW_MEDIA: "close_preview_media",
                    ACTION_FINISH_VIDEO: "action_finish_video",
                    VIEW: "view",
                    ACTION_ADJUST_MESSAGE_SHORTCUT: "action_adjust_message_shortcut",
                    ACTION_SELECT: "action_select",
                    ACTION_SEARCH: "action_search"
                }, ke = {
                    MESSAGE: 1001,
                    SOLUTION: 1002
                }, Ue = {
                    HEAD_HOTQUESTION_SOURCE: 1,
                    SHORTCUT_SOURCE: 2,
                    CATEGORY_HOTQUESTION_SOURCE: 3,
                    FAQ_RECOMMEND_SOURCE: 4,
                    KB_INTENT_SOURCE: 5,
                    LIVEAGENT_RECOMMENDER_SOURCE: 6
                };
                !function(e) {
                    e.LandingPage = "SIPDirectChatFromChatLandingPage",
                    e.ProductPage = "SIPProductPage",
                    e.OrderPage = "SIPOrderPageFromBuyer",
                    e.ShopPage = "SIPShopPage"
                }(W || (W = {})),
                function(e) {
                    e[e.Faq = 0] = "Faq",
                    e[e.Intent = 1] = "Intent"
                }(K || (K = {})),
                function(e) {
                    e[e.Categories = 0] = "Categories",
                    e[e.OtherFaqType = 1] = "OtherFaqType",
                    e[e.Intent = 2] = "Intent",
                    e[e.Question = 3] = "Question",
                    e[e.ChatWithSeller = 4] = "ChatWithSeller"
                }(z || (z = {}));
                var Me = {
                    error: "error",
                    success: "success",
                    normal: "normal",
                    warn: "warn",
                    info: "info"
                }
                  , je = {
                    pending: Me.warn,
                    error: Me.error,
                    resolved: Me.success
                }
                  , Le = "conversation_detail.workstation.panel"
                  , Fe = "".concat(Le, ".product")
                  , Ge = "conversation_detail.workstation.voucher_panel"
                  , He = {
                    USERID: "__chat_userid__",
                    LAST_ACTIVE: "last-active-time",
                    MINI_ALERT: "mini-should-show-alert"
                }
                  , Ve = {
                    ACK: "ack",
                    TAB_FOCUSED: "tabFocused",
                    CALC_CONNECTIONS: "calcConnections",
                    CLOSE_CONNECTION: "closeConnection",
                    SHARE_API_DATA: "shareApiData"
                }
                  , Be = {
                    UNREAD: "unread",
                    UPDATE_SETTING: "updateSetting",
                    UPDATE_OFFLINE_SETTING: "updateOfflineSetting"
                };
                function Ye(e) {
                    return Ye = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
                        return typeof e
                    }
                    : function(e) {
                        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
                    }
                    ,
                    Ye(e)
                }
                var qe = function(e) {
                    return !e || 0 === Object.keys(e).length
                }
                  , Qe = function(e, t) {
                    return null === e && null === t || (null == e ? void 0 : e.id) === (null == t ? void 0 : t.id)
                }
                  , We = function(e, t) {
                    return JSON.stringify(e) === JSON.stringify(t)
                }
                  , Ke = function(e, t) {
                    if (!e)
                        return !1;
                    if (!t)
                        return !0;
                    var r = (e += "").length
                      , n = (t += "").length;
                    if (r !== n)
                        return r > n;
                    var a = e.split("")
                      , o = null;
                    return a.forEach((function(e, r) {
                        "boolean" != typeof o && (o = parseInt(e) > parseInt(t[r]) || parseInt(e) === parseInt(t[r]) && null)
                    }
                    )),
                    !!o
                }
                  , ze = function() {
                    var e = window.location.hostname;
                    return ["seller", "banhang", "localhost"].some((function(t) {
                        return e.includes(t)
                    }
                    ))
                }
                  , Je = function() {
                    try {
                        return !("undefined" != typeof window && "object" === Ye(window.process) && "renderer" === window.process.type || "undefined" != typeof process && "object" === Ye(process.versions) && process.versions.electron || "object" === ("undefined" == typeof navigator ? "undefined" : Ye(navigator)) && "string" == typeof navigator.userAgent && navigator.userAgent.indexOf("Electron") >= 0)
                    } catch (e) {
                        return !0
                    }
                }()
                  , Xe = function(e) {
                    return !(null == e || !e.id)
                };
                function $e(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var r = 0, n = new Array(t); r < t; r++)
                        n[r] = e[r];
                    return n
                }
                function Ze(e) {
                    return function(e) {
                        if (Array.isArray(e))
                            return $e(e)
                    }(e) || function(e) {
                        if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                            return Array.from(e)
                    }(e) || function(e, t) {
                        if (e) {
                            if ("string" == typeof e)
                                return $e(e, t);
                            var r = Object.prototype.toString.call(e).slice(8, -1);
                            return "Object" === r && e.constructor && (r = e.constructor.name),
                            "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? $e(e, t) : void 0
                        }
                    }(e) || function() {
                        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                    }()
                }
                function et(e) {
                    var t = new Uint16Array(e.length);
                    return Array.prototype.forEach.call(t, (function(t, r, n) {
                        n[r] = e.charCodeAt(r)
                    }
                    )),
                    window.encodeURIComponent(window.btoa(String.fromCharCode.apply(null, new Uint8Array(t.buffer))))
                }
                var tt, rt, nt, at = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    return e.replace(/_([a-z])/g, (function(e, t) {
                        return t.toUpperCase()
                    }
                    ))
                }, ot = function(e) {
                    for (var t = window.atob(e.split(",")[1]), r = e.split(",")[0].split(":")[1].split(";")[0], n = new ArrayBuffer(t.length), a = new Uint8Array(n), o = 0; o < t.length; o++)
                        a[o] = t.charCodeAt(o);
                    return new window.Blob([a],{
                        type: r
                    })
                }, ct = function e(t, r) {
                    var n = JSON.parse(JSON.stringify(t));
                    for (var a in r)
                        n[a] = n[a] && "[object Object]" === n[a].toString() ? e(n[a], r[a]) : r[a];
                    return n
                }, st = function(e) {
                    return e >= 1e3 ? "999+" : e
                }, it = function(e, t) {
                    var r = Ze(e)
                      , n = r.indexOf(t);
                    return n > -1 && r.splice(n, 1),
                    r
                }, ut = c(994), pt = ["PL", "ES", "FR"], dt = function(e) {
                    return e ? e.toUpperCase() : "SG"
                }, lt = function(e) {
                    var t = e.price
                      , r = e.country
                      , n = function(e, t) {
                        return "TW" !== e || void 0 !== t && !t ? "CL" === e ? "$" : (0,
                        ut.getCurrencyConfig)(e).symbol || "" : "NT$"
                    }(r, e.isSCChat);
                    if (pt.includes(r))
                        return "".concat(n).concat(t).concat(n);
                    var a = (0,
                    ut.getCurrencyConfig)(r).symbolPosition === ut.SYMBOL_POSITION.BACK ? "".concat(t).concat(n) : "".concat(n).concat(t);
                    return "MX" === r ? "".concat(a, " MXN") : a
                }, ft = function(e) {
                    for (var t = "", r = +e, n = ["K", "M", "B"]; r > 1e3 && (t = n.shift() || ""); )
                        r /= 1e3;
                    var a = parseInt(100 * +r + "") / 100;
                    return {
                        value: r = Number.isInteger(a) ? a : a.toFixed(2),
                        unit: t
                    }
                }, _t = "NaN", Et = function(e, t) {
                    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}
                      , n = arguments.length > 3 ? arguments[3] : void 0
                      , a = r.withSpaces
                      , o = void 0 !== a && a
                      , c = r.withMinus
                      , s = void 0 !== c && c
                      , i = r.withUnit
                      , u = void 0 !== i && i
                      , p = r.withComma
                      , d = void 0 === p || p
                      , l = dt(t)
                      , f = Number(e);
                    if (Number.isNaN(f))
                        return lt({
                            price: _t,
                            country: l,
                            isSCChat: n
                        });
                    var _ = ""
                      , E = "";
                    if (u) {
                        var S = ft(f);
                        _ = S.unit,
                        f = S.value
                    }
                    return s && (E = "-"),
                    f = (0,
                    ut.formatCurrency)(l, f, {
                        symbol: "",
                        spaceBetweenSymbol: o,
                        noSeparator: !d
                    }),
                    f = lt({
                        price: f,
                        country: l,
                        isSCChat: n
                    }),
                    "".concat(E).concat(f).concat(_)
                }, St = function(e, t, r) {
                    return t = dt(t),
                    lt({
                        price: e,
                        country: t,
                        isSCChat: r
                    })
                }, ht = c(602), Ot = c.n(ht), vt = c(470).t, gt = new (Ot()), Tt = function(e) {
                    return gt.locale.set(e)
                };
                !function(e) {
                    e.Today = "today",
                    e.Yesterday = "yesterday"
                }(tt || (tt = {})),
                function(e) {
                    e[e.Time = 0] = "Time"
                }(rt || (rt = {})),
                function(e) {
                    e[e.sunday = 0] = "sunday",
                    e[e.monday = 1] = "monday",
                    e[e.tuesday = 2] = "tuesday",
                    e[e.wednesday = 3] = "wednesday",
                    e[e.thursday = 4] = "thursday",
                    e[e.friday = 5] = "friday",
                    e[e.saturday = 6] = "saturday"
                }(nt || (nt = {}));
                var mt, bt = function(e) {
                    var t = e.value
                      , r = e.date
                      , n = e.suffix
                      , a = e.prefix
                      , o = ""
                      , c = "";
                    if (a && (o = vt("conversation_detail.message_list.".concat(a.type)) + (void 0 === a.separator ? "  " : a.separator)),
                    n) {
                        var s = n.type === rt.Time ? function(e) {
                            return e.format("hh:mm")
                        }(r) : "";
                        c = (void 0 === n.separator ? ", " : n.separator) + s
                    }
                    return o + t + c
                };
                !function(e) {
                    e[e.Yesterday = 0] = "Yesterday",
                    e[e.Today = 1] = "Today",
                    e[e.ThisMonth = 2] = "ThisMonth",
                    e[e.ThisYear = 3] = "ThisYear",
                    e[e.ThisWeek = 4] = "ThisWeek",
                    e[e.NONE = 5] = "NONE"
                }(mt || (mt = {}));
                var yt = function(e, t) {
                    var r = t || {}
                      , n = r.noTodayFlag
                      , a = r.noTimeFlag
                      , o = r.needFullFormat
                      , c = r.onlyKeepDate
                      , s = r.isConvPreview
                      , i = gt.create(e);
                    if (o)
                        return bt({
                            value: i.format("LHD"),
                            date: i,
                            suffix: {
                                type: rt.Time
                            }
                        });
                    if (c)
                        return i.format("LHD");
                    var u = ["tw", "cn"].includes(gt.locale.current)
                      , p = function(e, t) {
                        var r = new Date
                          , n = new Date(e);
                        if (t) {
                            var a = r - n
                              , o = (new Date).setHours(0, 0, 0, 0);
                            if (a <= 6048e5 && a >= r.getTime() - o + 864e5)
                                return mt.ThisWeek
                        }
                        if (r.getFullYear() === n.getFullYear()) {
                            if (r.getMonth() === n.getMonth()) {
                                var c = r.getDate()
                                  , s = n.getDate();
                                return c === s ? mt.Today : c - 1 === s ? mt.Yesterday : mt.ThisMonth
                            }
                            return mt.ThisYear
                        }
                        return mt.NONE
                    }(e, s);
                    switch (p) {
                    case mt.Today:
                        var d = n ? void 0 : {
                            type: tt.Today
                        }
                          , l = {
                            type: rt.Time,
                            separator: ""
                        };
                        return bt({
                            value: "",
                            date: i,
                            prefix: d,
                            suffix: l
                        });
                    case mt.Yesterday:
                        var f = {
                            type: tt.Yesterday
                        }
                          , _ = a ? void 0 : {
                            type: rt.Time,
                            separator: ""
                        };
                        return bt({
                            value: "",
                            date: i,
                            prefix: f,
                            suffix: _
                        });
                    case mt.ThisWeek:
                        return vt("common.".concat(nt[new Date(e).getDay()]));
                    case mt.ThisMonth:
                    case mt.ThisYear:
                        var E = a ? void 0 : {
                            type: rt.Time
                        };
                        return bt({
                            value: i.format(s ? u ? "MM/DD" : "DD/MM" : "LHDS"),
                            date: i,
                            suffix: E
                        });
                    default:
                        var S = a ? void 0 : {
                            type: rt.Time
                        };
                        return bt({
                            value: i.format(s ? u ? "YY/MM/DD" : "DD/MM/YY" : "LHD"),
                            date: i,
                            suffix: S
                        })
                    }
                }
                  , Rt = "YYYY-MM-DD hh:mm"
                  , Ct = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""
                      , r = gt.create(e);
                    return r.format(t || Rt)
                }
                  , It = function(e) {
                    var t = Math.ceil(e)
                      , r = t / 3600 < 10 ? "0" + Math.floor(t / 3600) : Math.floor(t / 3600)
                      , n = t / 60 % 60 < 10 ? "0" + Math.floor(t / 60 % 60) : Math.floor(t / 60 % 60)
                      , a = t % 60 < 10 ? "0" + t % 60 : t % 60;
                    return t >= 3600 ? "".concat(r, ":").concat(n, ":").concat(a) : "".concat(n, ":").concat(a)
                }
                  , At = function(e) {
                    var t = e.created_at
                      , r = e.created_timestamp;
                    return yt(t || 1e3 * r, {
                        noTodayFlag: !0,
                        noTimeFlag: !0,
                        isConvPreview: !0
                    })
                }
                  , Dt = c(661)
                  , Pt = c.n(Dt)
                  , wt = function(e) {
                    return 0 === e || 1 === e ? "one" : e >= 1e6 ? "many" : "other"
                }
                  , xt = function(e) {
                    return 1 === e ? "one" : Number.isInteger(e) ? [2, 3, 4].includes(e % 10) && ![12, 13, 14].includes(e % 100) ? "few" : ![2, 3, 4].includes(e % 10) || [12, 13, 14].includes(e % 100) ? "many" : "other" : "other"
                }
                  , Nt = function(e) {
                    return e <= 1 ? "one" : "other"
                }
                  , kt = {
                    fr: wt,
                    pl: xt,
                    default: Nt
                }
                  , Ut = {
                    fr: function(e, t) {
                        return "".concat(wt(e), ".").concat(wt(t))
                    },
                    pl: function(e, t) {
                        return "".concat(xt(e), ".").concat(xt(t))
                    },
                    default: function(e, t) {
                        return "".concat(Nt(e), "_").concat(Nt(t))
                    }
                }
                  , Mt = ["fr", "pl"]
                  , jt = function(e, t, r) {
                    var n = Pt().language || "en"
                      , a = Mt.includes(n) ? n : "default";
                    return void 0 !== r ? "".concat(e, "_").concat(Ut[a](t, r)) : "".concat(e, "_").concat(kt[a](t))
                }
                  , Lt = function(e, t) {
                    var r = t || window.location.search
                      , n = null;
                    if (r) {
                        var a = r.indexOf("?") + 1
                          , o = new RegExp("(^|&)" + e + "=([^&]*)(&|$)");
                        n = r.substr(a).match(o)
                    }
                    return n ? unescape(n[2]) : null
                }
                  , Ft = function() {
                    var e = navigator.userAgent.toLowerCase()
                      , t = null;
                    return e.indexOf("msie") > 0 && (t = e.match(/msie [\d.]+;/gi)),
                    e.indexOf("firefox") > 0 && (t = e.match(/firefox\/[\d.]+/gi)),
                    e.indexOf("safari") > 0 && e.indexOf("chrome") < 0 && (t = e.match(/safari\/[\d.]+/gi)),
                    e.indexOf("chrome") > 0 && (t = e.match(/chrome\/[\d.]+/gi)),
                    t ? t.toString() : "unknown"
                };
                function Gt(e, t) {
                    (null == t || t > e.length) && (t = e.length);
                    for (var r = 0, n = new Array(t); r < t; r++)
                        n[r] = e[r];
                    return n
                }
                var Ht, Vt = ["hans", "hant"], Bt = ["en", "zh-hans", "zh-hant", "ms-my", "th-th", "vi-vn", "id-id", "zh-cn", "pt-br", "hi", "es-mx", "es-co", "es-cl", "es-es", "es-ar", "pl", "fr"], Yt = function(e) {
                    return "".concat(e[0].toUpperCase()).concat(e.substring(1))
                }, qt = function(e) {
                    if (e.includes("-")) {
                        var t = e.split("-");
                        return Vt.includes(t[1]) ? "".concat(t[0], "-").concat(Yt(t[1])) : "".concat(t[0], "-").concat(t[1].toUpperCase())
                    }
                    return e
                }, Qt = function(e) {
                    var t, r = (e || "en").toLowerCase(), n = "en", a = function(e, t) {
                        var r = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                        if (!r) {
                            if (Array.isArray(e) || (r = function(e, t) {
                                if (e) {
                                    if ("string" == typeof e)
                                        return Gt(e, t);
                                    var r = Object.prototype.toString.call(e).slice(8, -1);
                                    return "Object" === r && e.constructor && (r = e.constructor.name),
                                    "Map" === r || "Set" === r ? Array.from(e) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? Gt(e, t) : void 0
                                }
                            }(e)) || t && e && "number" == typeof e.length) {
                                r && (e = r);
                                var n = 0
                                  , a = function() {};
                                return {
                                    s: a,
                                    n: function() {
                                        return n >= e.length ? {
                                            done: !0
                                        } : {
                                            done: !1,
                                            value: e[n++]
                                        }
                                    },
                                    e: function(e) {
                                        throw e
                                    },
                                    f: a
                                }
                            }
                            throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                        }
                        var o, c = !0, s = !1;
                        return {
                            s: function() {
                                r = r.call(e)
                            },
                            n: function() {
                                var e = r.next();
                                return c = e.done,
                                e
                            },
                            e: function(e) {
                                s = !0,
                                o = e
                            },
                            f: function() {
                                try {
                                    c || null == r.return || r.return()
                                } finally {
                                    if (s)
                                        throw o
                                }
                            }
                        }
                    }(Bt);
                    try {
                        for (a.s(); !(t = a.n()).done; ) {
                            var o = t.value;
                            if (o.includes(r)) {
                                n = qt(o);
                                break
                            }
                        }
                    } catch (e) {
                        a.e(e)
                    } finally {
                        a.f()
                    }
                    return n
                }, Wt = function(e) {
                    var t = Qt(e);
                    switch (t) {
                    case "th-TH":
                        return "th";
                    case "vi-VN":
                        return "vi";
                    case "id-ID":
                        return "id";
                    default:
                        return t
                    }
                }, Kt = {
                    en: "default",
                    "ms-MY": "ms-my",
                    "th-TH": "th",
                    "zh-Hans": "tw",
                    "zh-Hant": "tw",
                    "vi-VN": "vn",
                    "id-ID": "id",
                    "zh-CN": "cn",
                    "pt-BR": "pt-br",
                    hi: "hi",
                    "es-MX": "es-mx",
                    "es-CO": "es-co",
                    "es-CL": "es-cl",
                    pl: "pl",
                    "es-ES": "es-es",
                    fr: "fr",
                    "es-AR": "es-ar"
                }, zt = function(e) {
                    var t = Qt(e);
                    return Kt[t] || "default"
                }, Jt = function(e) {
                    var t = e.access
                      , r = e.isSubAccount
                      , n = e.action
                      , a = e.url
                      , o = void 0 === a ? "" : a;
                    t && (r ? n() : window.open().location = o)
                }, Xt = function(e) {
                    var t, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 200, n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e3, a = Date.now();
                    return function() {
                        for (var o = arguments.length, c = new Array(o), s = 0; s < o; s++)
                            c[s] = arguments[s];
                        t && (clearTimeout(t),
                        t = null);
                        var i = Date.now();
                        i - a > n ? (e.apply(void 0, c),
                        a = Date.now()) : t = window.setTimeout((function() {
                            e.apply(void 0, c),
                            a = Date.now()
                        }
                        ), r)
                    }
                }, $t = function(e, t) {
                    var r, n, a, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, c = null, s = 0, i = function() {
                        s = !1 === o.leading ? 0 : (new Date).getTime(),
                        c = null,
                        a = e.apply(r, n),
                        c || (r = n = null)
                    }, u = function() {
                        var u = (new Date).getTime();
                        s || !1 !== o.leading || (s = u);
                        var p = t - (u - s);
                        r = this;
                        for (var d = arguments.length, l = new Array(d), f = 0; f < d; f++)
                            l[f] = arguments[f];
                        return n = l,
                        p <= 0 || p > t ? (c && (clearTimeout(c),
                        c = null),
                        s = u,
                        a = e.apply(r, n),
                        c || (r = n = null)) : c || !1 === o.trailing || (c = window.setTimeout(i, p)),
                        a
                    };
                    return u
                }, Zt = function(e, t) {
                    var r = 0;
                    return {
                        check: function() {
                            for (var n = arguments.length, a = new Array(n), o = 0; o < n; o++)
                                a[o] = arguments[o];
                            return e.apply(void 0, Ze(a)) ? r += 1 : this.reset(),
                            r >= t && (this.reset(),
                            !0)
                        },
                        reset: function() {
                            r = 0
                        }
                    }
                }, er = "Auto-Translation", tr = "modal", rr = function(e, t) {
                    var r = t.superType
                      , n = t.secondaryType
                      , a = e.find((function(e) {
                        return e.name === r
                    }
                    ));
                    if (a) {
                        var o = a.children;
                        if (o.length) {
                            var c = o.find((function(e) {
                                return e.name === n
                            }
                            ));
                            return c || !1
                        }
                        return !1
                    }
                    return !1
                }, nr = function(e) {
                    return rr(e, {
                        superType: "Import-Template",
                        secondaryType: tr
                    })
                }, ar = function(e) {
                    return rr(e, {
                        superType: er,
                        secondaryType: tr
                    })
                }, or = function(e) {
                    return rr(e, {
                        superType: er,
                        secondaryType: "settings"
                    })
                }, cr = function(e) {
                    return rr(e, {
                        superType: "Mass-Tool",
                        secondaryType: tr
                    })
                }, sr = function(e) {
                    return rr(e, {
                        superType: "SearchV3",
                        secondaryType: tr
                    })
                }, ir = function(e) {
                    return rr(e, {
                        superType: "Reply",
                        secondaryType: tr
                    })
                }, ur = function(e) {
                    return rr(e, {
                        superType: "Region-Filter",
                        secondaryType: tr
                    })
                }, pr = function(e) {
                    return rr(e, {
                        superType: "MiniChat-Header",
                        secondaryType: tr
                    })
                }, dr = function(e) {
                    return rr(e, {
                        superType: "MiniChat-Entry",
                        secondaryType: tr
                    })
                }, lr = c(349), fr = c.n(lr), _r = {
                    getItem: function(e, t) {
                        try {
                            var r = window.localStorage.getItem(e);
                            return null == r ? r : t ? JSON.parse(r) : r
                        } catch (e) {
                            console.warn("*** LocalStorage Error: Can not get LocalStorage *** \n".concat(e))
                        }
                    },
                    setItem: function(e, t, r) {
                        try {
                            var n = r ? JSON.stringify(t) : t;
                            window.localStorage.setItem(e, n)
                        } catch (e) {
                            console.warn("*** LocalStorage Error: Can not set LocalStorage *** \n".concat(e))
                        }
                    },
                    removeItem: function(e) {
                        try {
                            window.localStorage.removeItem(e)
                        } catch (e) {
                            console.warn("*** LocalStorage Error: Can not remove LocalStorage *** \n".concat(e))
                        }
                    }
                }, Er = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    return t ? _r.getItem(e) : fr().getItem(e)
                }, Sr = function(e, t) {
                    return fr().setItem(e, t)
                }, hr = function(e, t) {
                    return t ? _r.removeItem(e) : fr().removeItem(e)
                }, Or = fr().supports(fr().INDEXEDDB) || fr().supports(fr().WEBSQL) ? 1e3 : 100, vr = c(470).t;
                function gr(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function Tr(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? gr(Object(r), !0).forEach((function(t) {
                            T(e, t, r[t])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : gr(Object(r)).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                        }
                        ))
                    }
                    return e
                }
                var mr = n.MSG_TYPE_TEXT
                  , br = n.MSG_TYPE_IMAGE
                  , yr = n.MSG_TYPE_OFFER
                  , Rr = n.MSG_TYPE_PRODUCT
                  , Cr = n.MSG_TYPE_ORDER
                  , Ir = n.MSG_TYPE_STICKER
                  , Ar = n.MSG_TYPE_NOTIFICATION
                  , Dr = n.MSG_TYPE_WEBVIEW
                  , Pr = n.MSG_TYPE_VOUCHER
                  , wr = n.MSG_TYPE_ITEM_LIST
                  , xr = n.MSG_TYPE_FAQ
                  , Nr = n.MSG_TYPE_FAQ_QUESTION
                  , kr = n.MSG_TYPE_FAQ_LIVEAGENT
                  , Ur = n.MSG_TYPE_FAQ_FEEDBACK
                  , Mr = (n.MSG_TYPE_SHOPPING_CART,
                n.MSG_TYPE_FAQ_UNSUPPORTED)
                  , jr = n.MSG_TYPE_FAQ_FEEDBACK_PROMPT
                  , Lr = n.MSG_TYPE_FAQ_LIVEAGENT_PROMPT
                  , Fr = (n.MSG_TYPE_UNTATED_ORDER_REMINDER,
                n.MSG_TYPE_BUNDLE_MESSAGE)
                  , Gr = (n.MSG_TYPE_BUNDLE_DEAL,
                n.MSG_TYPE_FLASH_SALE,
                n.MSG_TYPE_OPTION_PACK)
                  , Hr = n.MSG_TYPE_SELECTED_OPTION
                  , Vr = n.MSG_TYPE_VIDEO
                  , Br = n.MSG_TYPE_RATE_CARDS
                  , Yr = n.MSG_TYPE_IMAGE_WITH_TEXT
                  , qr = n.MSG_TYPE_RATE_CARD
                  , Qr = n.MSG_TYPE_NEW_FAQ
                  , Wr = n.MSG_TYPE_FAQ_CATEGORY_CHOICE
                  , Kr = n.MSG_TYPE_FAQ_QUESTION_LIST
                  , zr = n.MSG_TYPE_FAQ_TYPE_CHOICE
                  , Jr = n.MSG_TYPE_FAQ_CATEGORY_LIST
                  , Xr = n.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_TEXT_MESSAGE
                  , $r = n.MSG_TYPE_FAQ_TYPE_BOT_REQUEST_ORDER_MESSAGE
                  , Zr = n.FAQ_TYPE_BOT_RESPONSE_MESSAGE
                  , en = x.PENDING
                  , tn = (x.ACCEPTED,
                x.REJECTED)
                  , rn = (x.CANCELLED,
                "common.unsupported_message")
                  , nn = (T(Ht = {}, n.MSG_TYPE_FAQ_LIVEAGENT, "faq.live_agent"),
                T(Ht, n.MSG_TYPE_FAQ_UNSUPPORTED, "faq.new_unsupport_input"),
                T(Ht, n.MSG_TYPE_FAQ_FEEDBACK_PROMPT, "faq.feedback_prompt"),
                T(Ht, n.MSG_TYPE_FAQ_LIVEAGENT_PROMPT, "faq.new_live_agent_prompt"),
                T(Ht, n.MSG_TYPE_VIDEO, "conversation_detail.input_field.toolbar.video.tip"),
                T(Ht, n.MSG_TYPE_IMAGE_WITH_TEXT, "conversation_list.conversation_cell.new_image_message"),
                Ht)
                  , an = function(e) {
                    return vr(nn[e] || rn)
                }
                  , on = [wr]
                  , cn = [Vr, Mr, jr, Lr, Yr]
                  , sn = [br, Fr, $r, yr, Rr, Cr, Pr, qr, Ir]
                  , un = [Kr, zr, Jr]
                  , pn = function(t) {
                    var r = t.message
                      , n = t.enableTranslation
                      , a = t.locale
                      , o = t.conversationShopId;
                    if (!r)
                        return {
                            text: vr(rn)
                        };
                    var c = r.type
                      , s = r.content
                      , i = void 0 === s ? {} : s
                      , u = r.crm_message_preview
                      , p = void 0 === u ? {} : u
                      , d = r.message_option
                      , l = r.source
                      , f = r.send_status;
                    if (p.text)
                        return {
                            text: p.text
                        };
                    if (null != i && i.preview_text && c === Zr)
                        return {
                            text: i.preview_text
                        };
                    if (dn(d, e.MSG_OPT_CENSORED_BLACKLIST))
                        return {
                            text: vr("common.blacklist.replaced_text")
                        };
                    if (c) {
                        var _, E, S = i || {}, h = S.text, O = void 0 === h ? "" : h, v = S.title, g = S.opening, T = S.caption, m = S.translation, b = S.product_name, y = S.sticker_name, R = S.chat_product_infos, C = void 0 === R ? [] : R, I = S.products, A = void 0 === I ? [] : I, D = Jn(r, {
                            isAgent: !1,
                            shop_id: o
                        }), P = function(e, t, r, n) {
                            var a, o = t || {}, c = o.live_agent_text, s = void 0 === c ? [] : c, i = o.fixed_title, u = o.faq_type_choice_translation;
                            if (cn.includes(e))
                                a = s.length ? En(s, r) : an(e);
                            else if (un.includes(e))
                                a = En(e === zr ? u : i, r);
                            else {
                                var p = sn.includes(e) ? "conversation_list.conversation_cell.new_".concat(e, "_message") : on.includes(e) ? "common.tips.recommended".concat(n ? "" : "_for_you") : "";
                                a = p ? "[".concat(vr(p), "]") : vr(rn)
                            }
                            return a
                        }(c, i, a, D);
                        switch (c) {
                        case Qr:
                        case xr:
                            E = g || vr("faq.no_set.chat_bot_title");
                            break;
                        case mr:
                            var w = Sn(i);
                            E = !n || w || d === e.MSG_OPT_SOCIAL_MESSAGE || ["crm", "proactive_update"].includes(l) || 2 === f ? O : (null == m ? void 0 : m.text) || O;
                            break;
                        case kr:
                        case Nr:
                        case Ur:
                        case Hr:
                        case Gr:
                        case Wr:
                        case Xr:
                            E = O || v;
                            break;
                        case Vr:
                            E = "[".concat(P, "]");
                            break;
                        case Yr:
                            E = "[".concat(P, "] ").concat(T || v || O);
                            break;
                        case Mr:
                        case jr:
                        case Lr:
                        case Kr:
                        case zr:
                        case Jr:
                            E = P;
                            break;
                        case Rr:
                            E = "".concat(P, " ").concat(b);
                            break;
                        case Ir:
                            E = y ? "[".concat(y, "]") : P;
                            break;
                        case wr:
                            var x = C.map((function(e) {
                                return e.name
                            }
                            )).join("; ");
                            E = "".concat(P, " ").concat(x);
                            break;
                        case Ar:
                            var N = gn(i || {}, a)
                              , k = N.notification_for_sender
                              , U = N.notification_for_receiver;
                            E = D ? k : U;
                            break;
                        case qr:
                            E = "".concat(P, " ").concat(vr(D ? "conversation_list.preview.rate_card_sender" : "rate_card.rate_out_service"));
                            break;
                        case yr:
                            var M = i || {}
                              , j = M.status
                              , L = M.products_count
                              , F = M.offer_price;
                            if (j)
                                if (j === en) {
                                    var G = vr("conversation_list.preview.offer_pending_".concat(D ? "sender" : "receiver"));
                                    E = "".concat(P, " ").concat(G, ": ").concat(F, " x ").concat(L),
                                    D || (_ = !0)
                                } else {
                                    var H = j === tn ? "declined" : j;
                                    E = "".concat(P, " ").concat(vr("conversation_detail.workstation.offer_panel.".concat(H)))
                                }
                            else
                                E = P;
                            break;
                        case Cr:
                            E = "".concat(P, " ").concat(A.map((function(e) {
                                return e.title
                            }
                            )).join("; "));
                            break;
                        case Pr:
                            var V = i || {}
                              , B = V.type
                              , Y = V.rule_text
                              , q = V.discount_text;
                            if (B) {
                                var Q = "[".concat(vr("conversation_detail.workstation.voucher_panel.".concat(B, "_voucher")), "]");
                                E = "".concat(Q, " ").concat(q, ", ").concat(Y)
                            } else
                                E = P;
                            break;
                        default:
                            E = P
                        }
                        return {
                            text: E,
                            isPendingReceivedOffer: _
                        }
                    }
                    return {
                        text: vr(rn)
                    }
                }
                  , dn = function(e, t) {
                    return (e & t) === t
                }
                  , ln = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                    return dn(t.message_option, e.MSG_OPT_DELETE)
                }
                  , fn = function(e, t) {
                    return t.some((function(t) {
                        return dn(e, t)
                    }
                    ))
                }
                  , _n = function(e, t) {
                    return e === Dr && t.type === Br || e === qr
                }
                  , En = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []
                      , t = arguments.length > 1 ? arguments[1] : void 0
                      , r = e.find((function(e) {
                        return Wt(t).toLocaleLowerCase().includes(e.lang.toLocaleLowerCase())
                    }
                    )) || e.find((function(e) {
                        return "en" === e.lang
                    }
                    ));
                    return (r || {}).text
                }
                  , Sn = function(e) {
                    var t = e || {}
                      , r = t.translation
                      , n = t.mid;
                    if (!r)
                        return !0;
                    var a = (void 0 === n ? {} : n).source_language
                      , o = void 0 === a ? "" : a
                      , c = r || {}
                      , s = c.final
                      , i = c.mid
                      , u = c.target_language
                      , p = void 0 === u ? "" : u
                      , d = c.source_language
                      , l = void 0 === d ? "" : d
                      , f = s ? s.target_language : p
                      , _ = s ? s.source_language : l
                      , E = i ? i.source_language : o;
                    return E ? E === f : _ === f && "unknown" !== _
                }
                  , hn = function(e, t) {
                    return {
                        type: n.MSG_TYPE_SECURITY_TIPS,
                        content: {
                            text: ""
                        },
                        id: e,
                        conversation_id: t,
                        to_id: "",
                        from_id: "",
                        shop_id: "",
                        created_timestamp: Math.floor((new Date).getTime() / 1e3)
                    }
                }
                  , On = function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                      , r = t.updateMaxGeneralOptionHideTime
                      , n = void 0 === r || r
                      , a = t.updateMessageOption
                      , o = void 0 === a || a
                      , c = e || {}
                      , s = c.created_timestamp
                      , i = c.message_option
                      , u = n ? {
                        max_general_option_hide_time: s
                    } : {}
                      , p = o ? {
                        last_message_option: i
                    } : {};
                    return Tr(Tr({}, u), p)
                }
                  , vn = function(e) {
                    var t = e.crm_message_preview
                      , r = void 0 === t ? {} : t;
                    return r.text ? {
                        crm_message_preview: r
                    } : {
                        crm_message_preview: {}
                    }
                }
                  , gn = function(e, t) {
                    var r = e.noti_text_of_all_languages
                      , n = void 0 === r ? [] : r;
                    if (!n.length)
                        return e;
                    var a = n.find((function(e) {
                        return Wt(t).toLocaleLowerCase().includes(e.language.toLocaleLowerCase())
                    }
                    ));
                    if (a)
                        return a;
                    var o = n.find((function(e) {
                        return "en" === e.language
                    }
                    ));
                    return o || e
                }
                  , Tn = function(e) {
                    var t = e.type
                      , r = e.textContent
                      , n = e.content
                      , a = {};
                    switch (t) {
                    case Cr:
                        a = {
                            products: (r || {}).products
                        };
                        break;
                    case Pr:
                        var o = r || {};
                        a = {
                            rule_text: o.rule_text,
                            discount_text: o.discount_text,
                            type: o.type
                        };
                        break;
                    case yr:
                        var c = r || {};
                        a = {
                            status: c.status,
                            products_count: c.products_count,
                            offer_price: c.offer_price
                        };
                        break;
                    case Rr:
                        a = {
                            product_name: n.product_name || (null == r ? void 0 : r.name)
                        }
                    }
                    return Tr(Tr({}, e), {}, {
                        content: Tr(Tr({}, n), a)
                    })
                };
                function mn(e, t, r, n, a, o, c) {
                    try {
                        var s = e[o](c)
                          , i = s.value
                    } catch (e) {
                        return void r(e)
                    }
                    s.done ? t(i) : Promise.resolve(i).then(n, a)
                }
                function bn(e) {
                    return function() {
                        var t = this
                          , r = arguments;
                        return new Promise((function(n, a) {
                            var o = e.apply(t, r);
                            function c(e) {
                                mn(o, n, a, c, s, "next", e)
                            }
                            function s(e) {
                                mn(o, n, a, c, s, "throw", e)
                            }
                            c(void 0)
                        }
                        ))
                    }
                }
                var yn, Rn = c(757), Cn = c.n(Rn), In = c(470).t, An = function(e) {
                    return Dn(e) ? In(jt("label.exceed_media_limit.video_duration", 180), {
                        max: 180
                    }) : null
                }, Dn = function(e) {
                    var t = e.type
                      , r = e.duration
                      , n = void 0 === r ? 0 : r;
                    return "video" === t && (n < 0 || n > 180)
                }, Pn = function() {
                    return window.createObjectURL || window.URL.createObjectURL
                }, wn = function(e) {
                    return {
                        type: "video",
                        cover: "",
                        file: e,
                        duration: 0
                    }
                }, xn = function(e, t) {
                    return new Promise((function(r) {
                        "image" === t ? function(e, t) {
                            var r = Pn()(e)
                              , n = new Image;
                            n.onload = function() {
                                var a = n.width
                                  , o = n.height;
                                t({
                                    type: "image",
                                    cover: r,
                                    file: e,
                                    width: a,
                                    height: o
                                })
                            }
                            ,
                            n.src = r
                        }(e, r) : "video" === t && function(e, t) {
                            var r;
                            try {
                                r = Pn()(e)
                            } catch (r) {
                                return void t(wn(e))
                            }
                            var n = document.createElement("video");
                            n.setAttribute("crossOrigin", "anonymous"),
                            n.setAttribute("autoplay", "autoplay"),
                            n.muted = !0,
                            n.src = r,
                            n.addEventListener("loadeddata", (function() {
                                n ? function(e, t, r, n) {
                                    var a = document.createElement("canvas")
                                      , o = e
                                      , c = o.videoWidth
                                      , s = o.videoHeight
                                      , i = o.duration;
                                    a.width = c,
                                    a.height = s,
                                    a.getContext("2d").drawImage(e, 0, 0, c, s);
                                    var u = {
                                        type: "video",
                                        file: t,
                                        duration: Math.ceil(i),
                                        width: c,
                                        height: s,
                                        videoUrl: r
                                    };
                                    a.toBlob ? a.toBlob((function(t) {
                                        u.cover = t ? Pn()(t) : "",
                                        n(u),
                                        e = null
                                    }
                                    ), "image/png", .5) : (u.cover = a.toDataURL ? a.toDataURL("image/png") : "",
                                    n(u))
                                }(n, e, r, t) : t(wn(e))
                            }
                            )),
                            n.addEventListener("error", (function() {
                                t(wn(e))
                            }
                            ))
                        }(e, r)
                    }
                    ))
                }, Nn = function(e) {
                    return e.size
                }, kn = function(e) {
                    return e.type
                }, Un = function(e) {
                    var t = kn(e);
                    return function(e) {
                        return e.includes("video") || Ae.includes(e)
                    }(t) ? "video" : function(e) {
                        return e.includes("image")
                    }(t) ? "image" : null
                }, Mn = function() {
                    var e = bn(Cn().mark((function e(t) {
                        var r;
                        return Cn().wrap((function(e) {
                            for (; ; )
                                switch (e.prev = e.next) {
                                case 0:
                                    return r = t.map(function() {
                                        var e = bn(Cn().mark((function e(t) {
                                            return Cn().wrap((function(e) {
                                                for (; ; )
                                                    switch (e.prev = e.next) {
                                                    case 0:
                                                        return e.next = 2,
                                                        xn(t, Un(t));
                                                    case 2:
                                                        return e.abrupt("return", e.sent);
                                                    case 3:
                                                    case "end":
                                                        return e.stop()
                                                    }
                                            }
                                            ), e)
                                        }
                                        )));
                                        return function(t) {
                                            return e.apply(this, arguments)
                                        }
                                    }()),
                                    e.next = 3,
                                    Promise.all(r);
                                case 3:
                                    return e.abrupt("return", e.sent);
                                case 4:
                                case "end":
                                    return e.stop()
                                }
                        }
                        ), e)
                    }
                    )));
                    return function(t) {
                        return e.apply(this, arguments)
                    }
                }(), jn = "common.toast.file_unsupport", Ln = function(e, t, r, n) {
                    var a = Un(e);
                    if ("all" === r && !a || "all" !== r && a !== r)
                        return In(jn);
                    if ("video" === a) {
                        if (!t)
                            return In(jn);
                        if (!function(e) {
                            return Nn(e) <= Pe
                        }(e))
                            return In("label.exceed_media_limit.video_size", {
                                max: 30
                            });
                        if (!function(e) {
                            var t = function(e) {
                                return e.name
                            }(e)
                              , r = (t.substr(t.lastIndexOf(".") + 1) || "").toUpperCase();
                            return Ie.includes(r)
                        }(e))
                            return In(jn)
                    } else if ("image" === a) {
                        if (!function(e, t) {
                            return Nn(e) <= (t || De)
                        }(e, n))
                            return n ? In("ps_feedback_upload_img_size_error") : In("common.toast.file_size_exceeds", {
                                maxFileSize: "2MB"
                            });
                        if (!function(e) {
                            return Re.includes(kn(e))
                        }(e))
                            return In("feedback_modal.error.upload_image_failed.format")
                    }
                    return null
                }, Fn = function(e, t) {
                    var r = new XMLHttpRequest;
                    r.open("get", e),
                    r.responseType = "blob",
                    r.onload = function() {
                        t(r.response)
                    }
                    ,
                    r.send()
                }, Gn = c(547), Hn = [n.MSG_TYPE_TEXT, n.MSG_TYPE_IMAGE, n.MSG_TYPE_VIDEO, n.MSG_TYPE_STICKER], Vn = function(e) {
                    return Hn.includes(e)
                }, Bn = [e.MSG_OPT_TRIGGER_FAQ, e.MSG_OPT_FAQ_SESSION, e.MSG_OPT_CANCELORDER_WARNING_NOT_SEND], Yn = [n.MSG_TYPE_TEXT, n.MSG_TYPE_IMAGE, n.MSG_TYPE_VIDEO, n.MSG_TYPE_STICKER, n.MSG_TYPE_ITEM_LIST, n.MSG_TYPE_SHOPPING_CART, n.MSG_TYPE_UNTATED_ORDER_REMINDER, n.MSG_TYPE_ADD_ON_DEAL, n.MSG_TYPE_VOUCHER, n.MSG_TYPE_BUNDLE_DEAL, n.MSG_TYPE_FLASH_SALE, n.MSG_TYPE_OFFER, n.MSG_TYPE_ORDER, n.MSG_TYPE_PRODUCT, n.MSG_TYPE_IMAGE_WITH_TEXT], qn = function(e, t) {
                    var r = e.type
                      , c = e.send_status
                      , s = e.errorCode
                      , i = e.status
                      , u = e.message_option;
                    if (!t) {
                        var p = Yn.includes(r) && !Bn.find((function(e) {
                            return dn(u, e)
                        }
                        ))
                          , l = c !== a.SENDING && c !== a.FAILED && i !== d.CENSORED_BLACKLIST && s !== o.BLACKLIST;
                        if (p && l) {
                            var f = (e || {}).textContent
                              , _ = void 0 === f ? {} : f;
                            if (r === n.MSG_TYPE_ORDER)
                                return !(!_ || !_.id);
                            if (r === n.MSG_TYPE_PRODUCT) {
                                var E = _
                                  , S = E.id
                                  , h = E.actual_price;
                                return !(!S || !h)
                            }
                            return !0
                        }
                    }
                    return !1
                }, Qn = (T(yn = {}, n.MSG_TYPE_TEXT, 0),
                T(yn, n.MSG_TYPE_IMAGE, 1),
                T(yn, n.MSG_TYPE_OFFER, 3),
                T(yn, n.MSG_TYPE_PRODUCT, 4),
                T(yn, n.MSG_TYPE_ORDER, 5),
                T(yn, n.MSG_TYPE_STICKER, 6),
                T(yn, n.MSG_TYPE_VIDEO, 18),
                T(yn, n.MSG_TYPE_ITEM_LIST, 1011),
                T(yn, n.MSG_TYPE_VOUCHER, 1013),
                T(yn, n.MSG_TYPE_SHOPPING_CART, 1014),
                T(yn, n.MSG_TYPE_UNTATED_ORDER_REMINDER, 1015),
                T(yn, n.MSG_TYPE_BUNDLE_DEAL, 1016),
                T(yn, n.MSG_TYPE_FLASH_SALE, 1017),
                T(yn, n.MSG_TYPE_ADD_ON_DEAL, 1018),
                yn), Wn = function(e) {
                    return void 0 !== Qn[e] ? Qn[e] : -1
                }, Kn = [e.MSG_OPT_AUTO_REPLY, e.MSG_OPT_BLOCKED, e.MSG_OPT_CENSORED_BLACKLIST, e.MSG_OPT_IGNORE_UNREAD_FOR_RECEIVER, e.MSG_OPT_IGNORE_UNREAD_FOR_SENDER, e.MSG_OPT_INVISIBLE_FOR_RECEIVER, e.MSG_OPT_INVISIBLE_FOR_SENDER, e.MSG_OPT_ADS, e.MSG_OPT_FAQ_SESSION, e.MSG_OPT_TRIGGER_FAQ, e.MSG_OPT_OFFWORK_AUTOREPLY, e.MSG_OPT_CANCELORDER_WARNING_RETRACT, e.MSG_OPT_CHATBOT_SESSION, e.MSG_OPT_TRIGGER_CHATBOT, e.MSG_OPT_PRIVATE_MESSAGE, e.MSG_OPT_SILENT_FOR_SENDER], zn = function(e, t, r) {
                    var n = e.type
                      , o = e.send_status
                      , c = e.created_timestamp
                      , s = e.message_option
                      , i = !0;
                    return t && _.includes(n) && ![a.SENDING, a.FAILED].includes(o) && !fn(s, Kn) || (i = !1),
                    (!r || Math.floor((new Date).getTime() / 1e3) - c >= r) && (i = !1),
                    i
                }, Jn = function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
                      , t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}
                      , r = t.isAgent
                      , n = t.to_tob_user_id
                      , a = t.shop_id
                      , o = e.from_id
                      , c = e.to_shop_id;
                    return r ? o !== n : c !== a
                };
                function Xn(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function $n(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? Xn(Object(r), !0).forEach((function(t) {
                            T(e, t, r[t])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : Xn(Object(r)).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                        }
                        ))
                    }
                    return e
                }
                var Zn, ea, ta, ra = function(e, t) {
                    return t.map((function(t) {
                        return function(e, t) {
                            var r = function(e, t) {
                                var r = t.trim().toLocaleLowerCase();
                                return e.filter((function(e) {
                                    return e.trim().toLocaleLowerCase().startsWith(r)
                                }
                                )).length
                            }(e.tags, t)
                              , n = function(e, t) {
                                var r = ca(t)
                                  , n = new RegExp(r,"gi");
                                return (e.match(n) || []).length
                            }(e.content, t);
                            return 1e4 * r + 1 * n
                        }(e, t)
                    }
                    )).reduce((function(e, t) {
                        return e + t
                    }
                    ), 0)
                }, na = function(e) {
                    return e.trim().length >= 1
                }, aa = function(e) {
                    var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                    if (!t)
                        return e.trim() ? [e] : [];
                    var r = e.split(",").filter((function(e) {
                        return e.trim()
                    }
                    ))
                      , n = Ze(new Set(r));
                    return n.sort((function(e, t) {
                        return e.length > t.length ? -1 : 1
                    }
                    ))
                }, oa = function(e, t) {
                    return t.length ? function(e) {
                        return e.sort((function(e, t) {
                            return e.weight > t.weight ? -1 : 1
                        }
                        ))
                    }(function(e) {
                        return e.filter((function(e) {
                            return e.weight
                        }
                        ))
                    }(e.map((function(e) {
                        return $n($n({}, e), {}, {
                            weight: ra(e, t)
                        })
                    }
                    )))) : e
                }, ca = function(e) {
                    return e.replace(/[.[\]{}()+?*^\\$?]/g, "\\$&")
                }, sa = c(470).t, ia = function(e) {
                    return "common.order.status.".concat(e)
                }, ua = function(e) {
                    var t = e.order
                      , r = e.region
                      , n = (e.isOwnOrder,
                    e.isNewPrice)
                      , a = t.products
                      , o = void 0 === a ? [] : a
                      , c = t.estimated_escrow
                      , s = void 0 === c ? 0 : c
                      , i = t.total_price
                      , u = void 0 === i ? 0 : i
                      , p = t.voucher_price
                      , d = void 0 === p ? 0 : p
                      , l = t.price_before_discount
                      , f = void 0 === l ? 0 : l
                      , _ = t.credit_card_promotion
                      , E = void 0 === _ ? 0 : _
                      , S = o.reduce((function(e, t) {
                        return e + (t.coin_offset || 0)
                    }
                    ), 0);
                    return {
                        shopeeCoin: S,
                        payment: Et(n ? s || u ? u : f || u : f - d - E - S, r)
                    }
                }, pa = Ee.PAY_CREDIT_CARD, da = Ee.PAY_BANK_TRANSFER, la = Ee.PAY_OFFLINE_PAYMENT, fa = Ee.PAY_IPAY88, _a = Ee.PAY_FREE, Ea = Ee.PAY_COD, Sa = Ee.PAY_ESUN, ha = Ee.PAY_BILL_PAYMENT, Oa = Ee.PAY_INDOMARET, va = Ee.PAY_KREDIVO, ga = Ee.PAY_NICEPAY_CC, Ta = Ee.PAY_AIRPAY, ma = Ee.PAY_SHOPEE_WALLET, ba = Ee.PAY_SHOPEE_WALLET_V2, ya = Ee.PAY_AKULAKU, Ra = Ee.PAY_INSTALLMENT, Ca = Ee.PAY_IBANKING, Ia = (T(Zn = {}, pa, "cc"),
                T(Zn, da, "bank_transfer"),
                T(Zn, la, "offline"),
                T(Zn, fa, "online"),
                T(Zn, _a, "waived"),
                T(Zn, Ea, "cod"),
                T(Zn, Sa, "esun"),
                T(Zn, ha, "bill_payment"),
                T(Zn, Oa, "indomaret"),
                T(Zn, va, "kredivo"),
                T(Zn, ga, "cc_installment"),
                T(Zn, Ta, "airpay"),
                T(Zn, ma, "shopee_wallet"),
                T(Zn, ba, "shopee_wallet_v2"),
                T(Zn, ya, "akulaku"),
                T(Zn, Ra, "installment"),
                T(Zn, Ca, "ibanking"),
                Zn), Aa = function(e) {
                    var t = Ia[e];
                    return t ? sa("common.order.pay_method.".concat(t)) : ""
                }, Da = he.NONE, Pa = he.OUT_OF_STOCK, wa = he.CUSTOMER_REQUEST, xa = he.UNDELIVERABLE_AREA, Na = he.CANNOT_SUPPORT_COD, ka = he.LOST_PARCEL, Ua = he.SYSTEM_UNPAID, Ma = he.SYSTEM_UNDERPAID, ja = he.SYSTEM_PAYMENT_REJECTED, La = (T(ea = {}, Da, "none"),
                T(ea, Pa, "out_of_stock"),
                T(ea, wa, "customer_request"),
                T(ea, xa, "undeliverable_area"),
                T(ea, Na, "cannot_support_cod"),
                T(ea, ka, "lost_parcel"),
                T(ea, Ua, "system_unpaid"),
                T(ea, Ma, "underpaid"),
                T(ea, ja, "payment_rejected"),
                ea), Fa = function(e) {
                    return sa("common.order.cancel_reason.".concat(La[e] || "system"))
                }, Ga = function(e, t) {
                    var r = e.list_type
                      , n = e.status_ext
                      , a = e.order_type
                      , o = e.payment_method
                      , c = e.shipping_method
                      , s = e.logistics_status
                      , i = e.pickup_cutoff_time;
                    if (n === Oe.ORDER_EXT_CANCEL_PENDING)
                        return !1;
                    var u = ["MY", "TW", "VN", "PH"].includes(t)
                      , p = !!i && Date.now() >= new Date(i).getTime()
                      , d = !0;
                    switch (r) {
                    case ve.TOPAY:
                        if (o === Ee.PAY_OFFLINE_PAYMENT)
                            return d;
                        break;
                    case ve.TOSHIP:
                        return p && u && o === Ee.PAY_COD && s === me.LOGISTICS_REQUEST_CREATED || (a === ge.ESCROW ? (n === Oe.ORDER_EXT_RETURN_PROCESSING || c > 0 && s === me.LOGISTICS_REQUEST_CREATED && p) && (d = !1) : a === ge.SIMPLE && (d = !1)),
                        d
                    }
                    return d
                }, Ha = (T(ta = {}, te.DELETED, re.DELETED),
                T(ta, te.BANNED, re.BANNED),
                T(ta, te.SOLD_OUT, re.SOLD_OUT),
                T(ta, te.DELISTED, re.DELISTED),
                ta), Va = function(e) {
                    return e === te.NORMAL ? "conversation_detail.conversation_origin.product_origin.product_stock" : "common.product.".concat(Ha[e])
                }, Ba = function(e, t) {
                    return !(!e || t !== te.DELETED)
                }, Ya = function(e) {
                    return void 0 !== e && e !== te.NORMAL
                }, qa = function(e) {
                    return void 0 !== e && e <= 0
                }, Qa = function(e, t) {
                    return Ya(e) || qa(t)
                }, Wa = 1e3, Ka = 1800, za = 86400, Ja = [za, 3600, 60], Xa = function(e) {
                    var t = e
                      , r = Ja.map((function(e) {
                        var r = t > e ? Math.floor(t / e) : 0;
                        return t -= r * e,
                        r
                    }
                    ));
                    return r.push(t),
                    r
                }, $a = function(e) {
                    return "".concat(e >= 10 ? "" : "0").concat(e)
                }, Za = function() {
                    return Math.ceil(Date.now() / 1e3).toString()
                }, eo = function(e) {
                    return e * Math.pow(10, 9) + ""
                }, to = ["zh-CN", "zh-Hant", "zh-Hans"], ro = function(e) {
                    var t = Pt().language || "en"
                      , r = Qt(t);
                    return to.includes(r) ? ((100 - e) / 10).toFixed(e % 10 ? 1 : 0) : "".concat(e, "%")
                }, no = function(e, t, r, n, a) {
                    return n || t ? e : e || a && !!r
                }, ao = c(470).t, oo = function(e) {
                    return e === G.FINISHED
                }, co = function(e, t) {
                    return e === t
                }, so = function(e, t) {
                    return Et(e, t, {
                        withUnit: e >= 1e4
                    })
                }, io = function(e, t, r, n) {
                    return ao("conversation_detail.workstation.voucher_panel.".concat(n ? G.ONGOING : e, "_time"), {
                        time: e === G.SCHEDULED ? Ct(t, "MM.DD.YYYY h:mm") : Ct(r, "MM.DD.YYYY")
                    })
                };
                function uo(e, t) {
                    var r = Object.keys(e);
                    if (Object.getOwnPropertySymbols) {
                        var n = Object.getOwnPropertySymbols(e);
                        t && (n = n.filter((function(t) {
                            return Object.getOwnPropertyDescriptor(e, t).enumerable
                        }
                        ))),
                        r.push.apply(r, n)
                    }
                    return r
                }
                function po(e) {
                    for (var t = 1; t < arguments.length; t++) {
                        var r = null != arguments[t] ? arguments[t] : {};
                        t % 2 ? uo(Object(r), !0).forEach((function(t) {
                            T(e, t, r[t])
                        }
                        )) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(r)) : uo(Object(r)).forEach((function(t) {
                            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(r, t))
                        }
                        ))
                    }
                    return e
                }
                var lo = function(e, t, r) {
                    var n = e.categories
                      , a = void 0 === n ? [] : n
                      , o = e.other_faq_types
                      , c = void 0 === o ? [] : o
                      , s = e.intents
                      , i = void 0 === s ? [] : s
                      , u = e.questions
                      , p = void 0 === u ? [] : u
                      , d = [];
                    return a.length && a.forEach((function(e, r) {
                        d.push(fo({
                            item: e,
                            index: r,
                            type: z.Categories,
                            isNewFaq: t
                        }))
                    }
                    )),
                    c.length && c.forEach((function(e, n) {
                        d.push(fo({
                            item: e,
                            index: n + a.length,
                            type: z.OtherFaqType,
                            isNewFaq: t,
                            locale: r
                        }))
                    }
                    )),
                    i.length && i.forEach((function(e, r) {
                        d.push(fo({
                            item: e,
                            index: r + a.length + c.length,
                            type: z.Intent,
                            isNewFaq: t
                        }))
                    }
                    )),
                    p.length && p.forEach((function(e, r) {
                        d.push(fo({
                            item: e,
                            index: r,
                            type: z.Question,
                            isNewFaq: t
                        }))
                    }
                    )),
                    d
                }
                  , fo = function(e) {
                    var t = e.item
                      , r = e.index
                      , n = e.type
                      , a = e.isNewFaq
                      , o = e.locale
                      , c = {};
                    switch (n) {
                    case z.Categories:
                        c = {
                            content: t.title,
                            location: r
                        };
                        break;
                    case z.OtherFaqType:
                        c = {
                            content: En(t.faq_type_choice_translation, o),
                            location: r
                        };
                        break;
                    case z.Intent:
                        var s = t;
                        c = po(po({}, JSON.parse(s.pass_through_data)), {}, {
                            content: s.text,
                            location: r
                        });
                        break;
                    case z.Question:
                        c = {
                            content: t.text,
                            location: r
                        };
                        break;
                    case z.ChatWithSeller:
                        c = {
                            content: t.content
                        }
                    }
                    return {
                        data: JSON.stringify(po(po({}, c), {}, {
                            is_intent_prediction: n === z.Intent ? K.Intent : K.Faq,
                            is_default_hq: a ? 1 : 0
                        })),
                        type: 1
                    }
                }
                  , _o = c(470)
            }
            )(),
            s
        }
        )(),
        e.exports = n(r(37725), r(14906), r(85095), r(69483))
    }
}]);
